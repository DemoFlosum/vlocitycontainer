function a46_0x3026(_0xa28661,_0x2b7b2c){const _0x2aeed6=a46_0x2aee();return a46_0x3026=function(_0x302613,_0x252055){_0x302613=_0x302613-0x12c;let _0x290dba=_0x2aeed6[_0x302613];return _0x290dba;},a46_0x3026(_0xa28661,_0x2b7b2c);}const a46_0x5db856=a46_0x3026;(function(_0x334b47,_0x5d7691){const _0x314220=a46_0x3026,_0x516f43=_0x334b47();while(!![]){try{const _0x4c5000=-parseInt(_0x314220(0x15e))/0x1*(parseInt(_0x314220(0x136))/0x2)+-parseInt(_0x314220(0x142))/0x3*(-parseInt(_0x314220(0x12d))/0x4)+-parseInt(_0x314220(0x15d))/0x5+-parseInt(_0x314220(0x144))/0x6*(-parseInt(_0x314220(0x131))/0x7)+-parseInt(_0x314220(0x164))/0x8+-parseInt(_0x314220(0x16f))/0x9*(parseInt(_0x314220(0x143))/0xa)+parseInt(_0x314220(0x137))/0xb*(parseInt(_0x314220(0x17f))/0xc);if(_0x4c5000===_0x5d7691)break;else _0x516f43['push'](_0x516f43['shift']());}catch(_0x3b4b3a){_0x516f43['push'](_0x516f43['shift']());}}}(a46_0x2aee,0xb970d));const axios=require(a46_0x5db856(0x139)),yaml=require(a46_0x5db856(0x14a)),constants=require(a46_0x5db856(0x12c)),storage=require('../storage');function post(_0x37aa6f,_0x3b951a,_0x3ac9e7,_0x3f7fe4){return new Promise((_0xdc8eb0,_0x6e4dc6)=>{const _0x26aecc=a46_0x3026;try{const _0x45f652={'Authorization':_0x26aecc(0x14b)+_0x3b951a,'Content-Type':'application/json'};axios[_0x26aecc(0x14c)](_0x37aa6f,_0x3f7fe4,{'headers':_0x45f652})['then'](_0x536233=>{_0xdc8eb0(_0x536233);})['catch'](_0x151836=>{const _0x32b56b=_0x26aecc;if(_0x151836&&_0x151836['response']&&_0x151836[_0x32b56b(0x153)][_0x32b56b(0x160)])typeof _0x151836[_0x32b56b(0x153)]['data']!=='string'?_0x6e4dc6(JSON[_0x32b56b(0x159)](_0x151836[_0x32b56b(0x153)][_0x32b56b(0x160)])):_0x6e4dc6(_0x151836[_0x32b56b(0x153)][_0x32b56b(0x160)]);else _0x151836[_0x32b56b(0x173)]?_0x6e4dc6(_0x151836[_0x32b56b(0x173)]):_0x6e4dc6(_0x151836[_0x32b56b(0x13c)]);});}catch(_0x4c6fc4){_0x6e4dc6(_0x4c6fc4);}});}function callUpdateInfo(_0x30276e,_0x3d32aa,_0xb0fb3b,_0x1221da,_0x487109,_0x1554dc,_0x2c77b2,_0x50ea8d,_0x3f3c68=![]){return new Promise((_0x187e9b,_0xdb6d33)=>{const _0x1b3501=a46_0x3026;try{_0x1221da=_0x1221da&&_0x1221da['length']?_0x1221da[_0x1b3501(0x17c)]('__','')+'/':'';try{const _0x137092=yaml[_0x1b3501(0x182)](_0x1554dc);_0x137092[_0x1b3501(0x17b)]&&(_0x3f3c68=_0x137092[_0x1b3501(0x17b)][_0x1b3501(0x14d)]>0x0);}catch(_0x89a5f8){}_0x50ea8d['log'](_0x1b3501(0x170)+_0x2c77b2);const _0x66e0ea={'logId':_0xb0fb3b,'attachmentLogId':_0x487109,'isJobCompleted':!![],'status':_0x1b3501(0x161),'isSuccess':_0x2c77b2,'isError':_0x3f3c68,'attachmentBody':_0x1554dc+_0x1b3501(0x13a)+_0x50ea8d[_0x1b3501(0x138)][_0x1b3501(0x158)]('\x0a')},_0x9d4f29=_0x30276e+_0x1b3501(0x148)+_0x1221da+_0x1b3501(0x16a),_0x3767fa={'methodType':constants[_0x1b3501(0x16b)],'body':JSON[_0x1b3501(0x159)](_0x66e0ea)};post(_0x9d4f29,_0x3d32aa,_0x1221da,_0x3767fa)['then'](_0x2f0195=>{const _0x1e85e8=_0x1b3501;_0x50ea8d[_0x1e85e8(0x184)]('End\x20Update\x20Log\x20is\x20Success\x20=\x20'+_0x2c77b2),_0x187e9b(_0x2f0195);})[_0x1b3501(0x16d)](_0x4d9c21=>{const _0x121b96=_0x1b3501;_0x50ea8d[_0x121b96(0x184)]('Error\x20Update\x20Log\x20is\x20Success\x20=\x20'+_0x2c77b2),_0xdb6d33(_0x4d9c21);});}catch(_0x4bd93c){_0xdb6d33(_0x4bd93c);}});}function callUpdateAttachmentInfo(_0x461ef9,_0x348a24,_0x5c54e0,_0x36bcf5,_0x1230c3,_0x4395d4){return new Promise((_0x4972de,_0x2f405b)=>{const _0x3a951f=a46_0x3026;try{_0x5c54e0=_0x5c54e0&&_0x5c54e0[_0x3a951f(0x14d)]?_0x5c54e0[_0x3a951f(0x17c)]('__','')+'/':'',_0x4395d4[_0x3a951f(0x184)](_0x3a951f(0x166));const _0x190f4d={'attachmentLogId':_0x36bcf5,'attachmentBody':_0x3a951f(0x140)+_0x1230c3+_0x3a951f(0x168)+_0x4395d4[_0x3a951f(0x138)]['join']('\x0a')},_0xcbf6b9=_0x461ef9+_0x3a951f(0x148)+_0x5c54e0+_0x3a951f(0x16a),_0x663925={'methodType':constants[_0x3a951f(0x13e)],'body':JSON[_0x3a951f(0x159)](_0x190f4d)};post(_0xcbf6b9,_0x348a24,_0x5c54e0,_0x663925)[_0x3a951f(0x16e)](_0x15b481=>{const _0x5ef017=_0x3a951f;_0x4395d4[_0x5ef017(0x184)](_0x5ef017(0x17a)),_0x4972de(_0x15b481);})[_0x3a951f(0x16d)](_0x2b9fee=>{const _0x1efc93=_0x3a951f;_0x4395d4[_0x1efc93(0x184)](_0x1efc93(0x178)),_0x2f405b(_0x2b9fee);});}catch(_0xdd8707){_0x2f405b(_0xdd8707);}});}function callNextVlocityStep(_0x1d7692,_0x4cd8c4,_0x684930,_0x5eb9cd,_0x1340fc,_0x6fdaa5,_0x165c47,_0x3292dd,_0x7abcc6){return new Promise((_0x15d5f3,_0x4417f2)=>{const _0x36124a=a46_0x3026;try{_0x684930=_0x684930&&_0x684930['length']?_0x684930['replace']('__','')+'/':'',_0x7abcc6[_0x36124a(0x184)](_0x36124a(0x156));const _0x44f6a8={'pipelineId':_0x5eb9cd,'pipelineNumber':_0x1340fc,'isPass':_0x165c47,'branchId':_0x3292dd,'pipelineKey':_0x6fdaa5},_0x2c4093=_0x1d7692+_0x36124a(0x148)+_0x684930+'unlocked-packages',_0x319312={'methodType':constants[_0x36124a(0x174)],'body':JSON['stringify'](_0x44f6a8)};post(_0x2c4093,_0x4cd8c4,_0x684930,_0x319312)['then'](_0x2e9fe3=>{const _0x3cf51e=_0x36124a;_0x7abcc6[_0x3cf51e(0x184)](_0x3cf51e(0x15b)),_0x15d5f3(_0x2e9fe3);})[_0x36124a(0x16d)](_0x4e9d47=>{const _0x1fd02b=_0x36124a;_0x7abcc6[_0x1fd02b(0x184)](_0x1fd02b(0x169)),_0x4417f2(_0x4e9d47);});}catch(_0x7ecda4){_0x4417f2(_0x7ecda4);}});}function callComponentList(_0x63014e,_0xa85f0c,_0x10a7f5,_0x2ff228,_0x488cab,_0x1b2a86,_0x938e76=[]){return new Promise((_0x2a27e2,_0xfa9dd9)=>{const _0x2294c3=a46_0x3026;try{_0x1b2a86[_0x2294c3(0x184)](_0x2294c3(0x135));const _0x4d9927=_0x2ff228?_0x2ff228[_0x2294c3(0x17c)]('__','')+'/':'',_0x43c10d=_0x63014e+_0x2294c3(0x148)+_0x4d9927+_0x2294c3(0x16a),_0x21b88d={'methodType':constants[_0x2294c3(0x130)],'body':JSON[_0x2294c3(0x159)](_0x10a7f5)};post(_0x43c10d,_0xa85f0c,_0x2ff228,_0x21b88d)['then'](_0x3f7cb0=>{const _0x1363a2=_0x2294c3;let {data:_0x84c08f}=_0x3f7cb0;_0x84c08f=JSON[_0x1363a2(0x133)](_0x84c08f),_0x1b2a86[_0x1363a2(0x184)](_0x1363a2(0x14e)+Number[_0x1363a2(0x17d)](_0x938e76[_0x1363a2(0x14d)]/_0x488cab*0x64)[_0x1363a2(0x177)](0x2)+'%'),_0x938e76[_0x1363a2(0x162)](..._0x84c08f[_0x1363a2(0x165)]),_0x84c08f['idList']&&_0x84c08f[_0x1363a2(0x172)][_0x1363a2(0x14d)]?callComponentList(_0x63014e,_0xa85f0c,_0x84c08f[_0x1363a2(0x172)],_0x2ff228,_0x488cab,_0x1b2a86,_0x938e76)[_0x1363a2(0x16e)](_0x21c0e7=>_0x2a27e2(_0x21c0e7))[_0x1363a2(0x16d)](_0x4f471e=>{const _0x25eb66=_0x1363a2;_0x1b2a86['log'](_0x25eb66(0x181)),_0xfa9dd9(_0x4f471e);}):(_0x1b2a86[_0x1363a2(0x184)](_0x1363a2(0x15a)),_0x2a27e2(_0x938e76));})[_0x2294c3(0x16d)](_0x1ba57d=>{const _0x4cc562=_0x2294c3;_0x1b2a86['log'](_0x4cc562(0x181)),_0xfa9dd9(_0x1ba57d);});}catch(_0x227b83){_0x1b2a86[_0x2294c3(0x184)](_0x2294c3(0x181)),_0xfa9dd9(_0x227b83);}});}function getAttachmentBody(_0x110f43,_0xaba9a4,_0x21758b,_0x81e4df=!![]){return new Promise(_0x5e0b27=>{const _0x940f8e=a46_0x3026;try{const _0x23781a=_0x110f43[_0x940f8e(0x151)](_0x940f8e(0x167))['record'](_0xaba9a4)['blob'](_0x940f8e(0x183)),_0x31ecfa=[];_0x23781a['on'](_0x940f8e(0x160),(_0xe833f,_0x5e133d)=>{const _0x1a3202=_0x940f8e;_0x31ecfa[_0x1a3202(0x162)](_0xe833f);}),_0x23781a['on'](_0x940f8e(0x132),()=>{const _0x3c4dfa=_0x940f8e;_0x81e4df?_0x5e0b27(_0x31ecfa[_0x3c4dfa(0x158)]('')):_0x5e0b27(Buffer[_0x3c4dfa(0x14f)](_0x31ecfa));}),_0x23781a['on']('error',_0x3f1d02=>{const _0x4e19a2=_0x940f8e;_0x21758b['log'](_0x4e19a2(0x176)+_0x3f1d02),_0x5e0b27('');});}catch(_0x3b1a9d){_0x21758b[_0x940f8e(0x184)](_0x940f8e(0x176)+_0x3b1a9d),_0x5e0b27('');}});}function getTime(){const _0x55e584=a46_0x5db856,_0x2941cf=new Date(),_0x3f13e2=[_0x2941cf[_0x55e584(0x15c)](),_0x2941cf[_0x55e584(0x12f)]()+0x1,_0x2941cf[_0x55e584(0x13f)](),_0x2941cf[_0x55e584(0x149)](),_0x2941cf[_0x55e584(0x16c)](),_0x2941cf['getSeconds']()];return _0x3f13e2[_0x55e584(0x146)](_0x3819e7=>_0x3819e7=_0x3819e7[_0x55e584(0x13d)]()[_0x55e584(0x17c)](/^([0-9])$/,_0x55e584(0x163))),_0x3f13e2[0x2]+'-'+_0x3f13e2[0x1]+'-'+_0x3f13e2[0x0]+'\x20'+_0x3f13e2[0x3]+':'+_0x3f13e2[0x4]+':'+_0x3f13e2[0x5];}function a46_0x2aee(){const _0x57cccc=['Start\x20Next\x20Vlocity\x20Step','Start\x20Update\x20Attachment\x20Log','join','stringify','End\x20Call\x20Component\x20List','End\x20Next\x20Vlocity\x20Step','getDate','2192965fPGJVX','16279VlNMbi','Job_Completed__c','data','Completed','push','0$1','11772704foZfjm','recordList','Start\x20Update\x20Log','Attachment','\x0a\x0aFull\x20Process:\x0a\x0a','Error\x20Next\x20Vlocity\x20Step','unlocked-packages','METHOD_UPDATE_LOG','getMinutes','catch','then','168066OkZLJh','Start\x20Update\x20Log\x20is\x20Success\x20=\x20','Status__c','idList','request','METHOD_NEXT_VLOCITY_STEP','exports','Error\x20Get\x20Attachment\x20Body\x20','toFixed','Error\x20Update\x20Log','Is_Error__c','End\x20Update\x20Log','Errors','replace','parseFloat','End\x20Update\x20Attachment\x20Log','38759832uyfnnP','Succeed__c','Error\x20Call\x20Component\x20List','load','Body','log','../../constants','4FuLvrP','readLogFile','getMonth','METHOD_TYPE_GET_ATTACHMENTS','422205DcaPDS','end','parse','resolve','Start\x20Call\x20Component\x20List','118OAbToe','11MihFtK','logs','axios','Full\x20Process:\x0a\x0a','text/plain','message','toString','METHOD_UPDATE_ATTACHMENT_LOG','getFullYear','Vlocity\x20Log\x20File:\x0a\x0a','Start\x20Update\x20Metadata\x20Log\x20isError\x20','2756400OhzYgI','310ippNbu','6NjMLKv','\x20isSuccess\x20','forEach','Partial\x20Completed','/services/apexrest/','getHours','js-yaml','OAuth\x20','post','length','Retrieved:\x20','concat','Error\x20Update\x20Attachment\x20Log\x20','sobject','update','response','from','Metadata_Log__c'];a46_0x2aee=function(){return _0x57cccc;};return a46_0x2aee();}function callUpdateAttachmentLog(_0x5df2b2,_0x1faf2b,_0x10afa3,_0x4c52e1,_0x4158aa){return new Promise(_0x3ded3b=>{const _0x17221d=a46_0x3026;try{_0x4c52e1[_0x17221d(0x184)](_0x17221d(0x157));const _0x541052=_0x10afa3+'\x0a'+_0x4c52e1[_0x17221d(0x138)][_0x17221d(0x158)]('\x0a');_0x4c52e1['logs']=[];const _0x5aef6c={'Id':_0x1faf2b,'Body':Buffer[_0x17221d(0x154)](_0x541052)[_0x17221d(0x13d)]('base64'),'ContentType':_0x17221d(0x13b)};_0x5df2b2['sobject'](_0x17221d(0x167))[_0x17221d(0x152)](_0x5aef6c)[_0x17221d(0x16e)](()=>{const _0x5a29d9=_0x17221d;_0x4c52e1[_0x5a29d9(0x184)](_0x5a29d9(0x17e)),_0x3ded3b(_0x4158aa);})['catch'](_0x4c5050=>{const _0x1e15f6=_0x17221d;_0x4c52e1[_0x1e15f6(0x184)]('Error\x20Update\x20Attachment\x20Log\x20'+_0x4c5050),_0x3ded3b(_0x4158aa);});}catch(_0x5a804a){_0x4c52e1[_0x17221d(0x184)](_0x17221d(0x150)+_0x5a804a),_0x3ded3b(_0x4158aa);}});}function updateAttachmentLog(_0x2fff63,_0x51daf8,_0x194071,_0x293195,_0x4f08df,_0x2b7c69=![]){return new Promise(_0x5d1ad1=>{const _0x5cbd51=a46_0x3026;try{_0x293195[_0x5cbd51(0x184)](_0x5cbd51(0x157)),Promise[_0x5cbd51(0x134)]()[_0x5cbd51(0x16e)](()=>getAttachmentBody(_0x51daf8,_0x194071,_0x293195))['then'](_0x467a78=>{const _0xdf693=_0x5cbd51;if(_0x2b7c69)return storage[_0xdf693(0x12e)](_0x2fff63,getTime(),_0x293195)['then'](_0x465088=>{const _0x418915=_0xdf693;try{const _0x308b99=yaml[_0x418915(0x182)](_0x465088);_0x308b99[_0x418915(0x17b)][_0x418915(0x14d)]&&(_0x4f08df=!![]);}catch(_0x55eaf3){_0x465088='',_0x4f08df=!![];}const _0x55901a=_0x465088+'\x0a'+_0x467a78;return callUpdateAttachmentLog(_0x51daf8,_0x194071,_0x55901a,_0x293195,_0x4f08df);});return callUpdateAttachmentLog(_0x51daf8,_0x194071,_0x467a78,_0x293195,_0x4f08df);})[_0x5cbd51(0x16e)](()=>_0x5d1ad1(_0x4f08df))[_0x5cbd51(0x16d)](()=>_0x5d1ad1(_0x4f08df));}catch(_0x404938){_0x293195[_0x5cbd51(0x184)]('Error\x20Update\x20Attachment\x20Log\x20'+_0x404938),_0x5d1ad1(_0x4f08df);}});}function callUpdateLog(_0x2f53e9,_0x43344b,_0x35f14d,_0x5d02db,_0x1eda4b,_0x4ec088=![]){return new Promise((_0x1c4ed0,_0x2a555f)=>{const _0x39659d=a46_0x3026;try{_0x1eda4b[_0x39659d(0x184)](_0x39659d(0x141)+_0x4ec088+_0x39659d(0x145)+_0x5d02db);const _0x38fbf6=_0x5d02db&&!_0x4ec088?_0x39659d(0x161):_0x5d02db&&_0x4ec088?_0x39659d(0x147):'Exception',_0x27d3ea={'Id':_0x43344b,[_0x35f14d+_0x39659d(0x171)]:_0x38fbf6,[_0x35f14d+_0x39659d(0x179)]:_0x4ec088,[_0x35f14d+_0x39659d(0x180)]:_0x5d02db,[_0x35f14d+_0x39659d(0x15f)]:!![]};_0x2f53e9['sobject'](_0x35f14d+_0x39659d(0x155))[_0x39659d(0x152)](_0x27d3ea)[_0x39659d(0x16e)](()=>{const _0x5f344c=_0x39659d;_0x1eda4b[_0x5f344c(0x184)]('End\x20Update\x20Metadata\x20Log'),_0x1c4ed0(_0x27d3ea[_0x35f14d+'Is_Error__c']);})[_0x39659d(0x16d)](_0x5d2dde=>{const _0xddedae=_0x39659d;_0x1eda4b[_0xddedae(0x184)]('Error\x20Update\x20Metadata\x20Log\x20'+_0x5d2dde),_0x2a555f(_0x5d2dde);});}catch(_0x22b4d4){_0x1eda4b['log']('Error\x20Update\x20Metadata\x20Log\x20'+_0x22b4d4),_0x2a555f(_0x22b4d4);}});}module[a46_0x5db856(0x175)]={'getTime':getTime,'post':post,'callUpdateInfo':callUpdateInfo,'callNextVlocityStep':callNextVlocityStep,'callComponentList':callComponentList,'updateAttachmentLog':updateAttachmentLog,'getAttachmentBody':getAttachmentBody,'callUpdateAttachmentLog':callUpdateAttachmentLog,'callUpdateLog':callUpdateLog};