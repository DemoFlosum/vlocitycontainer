function a39_0x1974(){const _0x1b7482=['toString','2284458wjEkol','stringify','End\x20Update\x20Metadata\x20Log','update','message','getDate','4268363bcZjNM','0$1','End\x20Next\x20Vlocity\x20Step','../../constants','Error\x20Update\x20Attachment\x20Log\x20','load','2519864dzJDbh','7194249ESJXQs','sobject','join','End\x20Update\x20Log\x20is\x20Success\x20=\x20','unlocked-packages','Start\x20Update\x20Log','Vlocity\x20Log\x20File:\x0a\x0a','then','idList','getHours','request','OAuth\x20','logs','Start\x20Next\x20Vlocity\x20Step','Completed','data','parseFloat','Attachment','Is_Error__c','Metadata_Log__c','METHOD_UPDATE_ATTACHMENT_LOG','Start\x20Update\x20Metadata\x20Log\x20isError\x20','error','METHOD_TYPE_GET_ATTACHMENTS','METHOD_UPDATE_LOG','METHOD_NEXT_VLOCITY_STEP','readLogFile','resolve','Body','8PglVeS','5eTdqGT','Exception','Error\x20Update\x20Metadata\x20Log\x20','getFullYear','Error\x20Call\x20Component\x20List','2796402bZCbhA','\x0a\x0aFull\x20Process:\x0a\x0a','Error\x20Get\x20Attachment\x20Body\x20','exports','../../services/storage','string','Errors','response','length','recordList','base64','Error\x20Update\x20Log\x20is\x20Success\x20=\x20','catch','blob','Error\x20Update\x20Log','application/json','10hcYSZw','Start\x20Call\x20Component\x20List','parse','\x20isSuccess\x20','concat','forEach','Error\x20Next\x20Vlocity\x20Step','/services/apexrest/','log','text/plain','Start\x20Update\x20Attachment\x20Log','2NEOcdc','632239RgMfDH','End\x20Update\x20Log','7750568JoULPb','push','Retrieved:\x20','js-yaml','replace'];a39_0x1974=function(){return _0x1b7482;};return a39_0x1974();}const a39_0x553254=a39_0x1e08;(function(_0x54a87a,_0x1b2a7a){const _0x5e3371=a39_0x1e08,_0x5760c6=_0x54a87a();while(!![]){try{const _0x3e6a1b=-parseInt(_0x5e3371(0x155))/0x1*(-parseInt(_0x5e3371(0x154))/0x2)+-parseInt(_0x5e3371(0x15d))/0x3+parseInt(_0x5e3371(0x169))/0x4+-parseInt(_0x5e3371(0x134))/0x5*(parseInt(_0x5e3371(0x139))/0x6)+parseInt(_0x5e3371(0x157))/0x7+-parseInt(_0x5e3371(0x133))/0x8*(parseInt(_0x5e3371(0x16a))/0x9)+parseInt(_0x5e3371(0x149))/0xa*(parseInt(_0x5e3371(0x163))/0xb);if(_0x3e6a1b===_0x1b2a7a)break;else _0x5760c6['push'](_0x5760c6['shift']());}catch(_0x1abc4e){_0x5760c6['push'](_0x5760c6['shift']());}}}(a39_0x1974,0xb25b4));function a39_0x1e08(_0x33462c,_0x4d7727){const _0x197414=a39_0x1974();return a39_0x1e08=function(_0x1e0872,_0x202a41){_0x1e0872=_0x1e0872-0x11a;let _0x33c60a=_0x197414[_0x1e0872];return _0x33c60a;},a39_0x1e08(_0x33462c,_0x4d7727);}const axios=require('axios'),yaml=require(a39_0x553254(0x15a)),constants=require(a39_0x553254(0x166)),storage=require(a39_0x553254(0x13d));function post(_0x4e107f,_0x1d0538,_0x2edd75,_0x5c91fc){return new Promise((_0x37bdac,_0x19ae9b)=>{const _0x1ac80c=a39_0x1e08;try{const _0x4de501={'Authorization':_0x1ac80c(0x121)+_0x1d0538,'Content-Type':_0x1ac80c(0x148)};axios['post'](_0x4e107f,_0x5c91fc,{'headers':_0x4de501})['then'](_0x21d821=>{_0x37bdac(_0x21d821);})[_0x1ac80c(0x145)](_0x1f3006=>{const _0x552be6=_0x1ac80c;if(_0x1f3006&&_0x1f3006[_0x552be6(0x140)]&&_0x1f3006[_0x552be6(0x140)]['data'])typeof _0x1f3006[_0x552be6(0x140)][_0x552be6(0x125)]!==_0x552be6(0x13e)?_0x19ae9b(JSON[_0x552be6(0x15e)](_0x1f3006['response'][_0x552be6(0x125)])):_0x19ae9b(_0x1f3006[_0x552be6(0x140)][_0x552be6(0x125)]);else _0x1f3006['request']?_0x19ae9b(_0x1f3006[_0x552be6(0x120)]):_0x19ae9b(_0x1f3006[_0x552be6(0x161)]);});}catch(_0x21f6a2){_0x19ae9b(_0x21f6a2);}});}function callUpdateInfo(_0x1ce1fd,_0x9eaa40,_0x39d484,_0x18de75,_0x235ddc,_0x56d1fb,_0x243d46,_0xcaec75,_0x2c3ea7=![]){return new Promise((_0x2da9ff,_0x5c6db9)=>{const _0x36a524=a39_0x1e08;try{_0x18de75=_0x18de75&&_0x18de75[_0x36a524(0x141)]?_0x18de75['replace']('__','')+'/':'';try{const _0x5d6b7a=yaml['load'](_0x56d1fb);_0x5d6b7a[_0x36a524(0x13f)]&&(_0x2c3ea7=_0x5d6b7a[_0x36a524(0x13f)][_0x36a524(0x141)]>0x0);}catch(_0x1a2d35){}_0xcaec75['log']('Start\x20Update\x20Log\x20is\x20Success\x20=\x20'+_0x243d46);const _0x3a8cd9={'logId':_0x39d484,'attachmentLogId':_0x235ddc,'isJobCompleted':!![],'status':_0x36a524(0x124),'isSuccess':_0x243d46,'isError':_0x2c3ea7,'attachmentBody':_0x56d1fb+'Full\x20Process:\x0a\x0a'+_0xcaec75[_0x36a524(0x122)][_0x36a524(0x16c)]('\x0a')},_0x32cc65=_0x1ce1fd+'/services/apexrest/'+_0x18de75+_0x36a524(0x11a),_0x1a9c2d={'methodType':constants[_0x36a524(0x12e)],'body':JSON['stringify'](_0x3a8cd9)};post(_0x32cc65,_0x9eaa40,_0x18de75,_0x1a9c2d)[_0x36a524(0x11d)](_0x13e5ef=>{const _0x1a6aaf=_0x36a524;_0xcaec75['log'](_0x1a6aaf(0x16d)+_0x243d46),_0x2da9ff(_0x13e5ef);})[_0x36a524(0x145)](_0x3764e2=>{const _0x9a66fc=_0x36a524;_0xcaec75[_0x9a66fc(0x151)](_0x9a66fc(0x144)+_0x243d46),_0x5c6db9(_0x3764e2);});}catch(_0x390aa8){_0x5c6db9(_0x390aa8);}});}function callUpdateAttachmentInfo(_0x204a7d,_0x1e699a,_0x2f1b9c,_0x40dc33,_0x3648f2,_0x2bf6d0){return new Promise((_0x3a709d,_0x4d6c94)=>{const _0x2dcc39=a39_0x1e08;try{_0x2f1b9c=_0x2f1b9c&&_0x2f1b9c['length']?_0x2f1b9c[_0x2dcc39(0x15b)]('__','')+'/':'',_0x2bf6d0['log'](_0x2dcc39(0x11b));const _0xaf7ba0={'attachmentLogId':_0x40dc33,'attachmentBody':_0x2dcc39(0x11c)+_0x3648f2+_0x2dcc39(0x13a)+_0x2bf6d0[_0x2dcc39(0x122)][_0x2dcc39(0x16c)]('\x0a')},_0x18d357=_0x204a7d+_0x2dcc39(0x150)+_0x2f1b9c+_0x2dcc39(0x11a),_0x2848d3={'methodType':constants[_0x2dcc39(0x12a)],'body':JSON[_0x2dcc39(0x15e)](_0xaf7ba0)};post(_0x18d357,_0x1e699a,_0x2f1b9c,_0x2848d3)[_0x2dcc39(0x11d)](_0x1dab90=>{const _0x4fa772=_0x2dcc39;_0x2bf6d0[_0x4fa772(0x151)](_0x4fa772(0x156)),_0x3a709d(_0x1dab90);})[_0x2dcc39(0x145)](_0x4eaaac=>{const _0x2dc38e=_0x2dcc39;_0x2bf6d0['log'](_0x2dc38e(0x147)),_0x4d6c94(_0x4eaaac);});}catch(_0x4d8651){_0x4d6c94(_0x4d8651);}});}function callNextVlocityStep(_0x5ad02a,_0x441ef4,_0xee3520,_0x5a57d2,_0x455a76,_0x25dbe1,_0x4576d8,_0x2ce75f,_0x3d3a97){return new Promise((_0x51021d,_0x17093d)=>{const _0x4905c6=a39_0x1e08;try{_0xee3520=_0xee3520&&_0xee3520['length']?_0xee3520[_0x4905c6(0x15b)]('__','')+'/':'',_0x3d3a97[_0x4905c6(0x151)](_0x4905c6(0x123));const _0x911ba4={'pipelineId':_0x5a57d2,'pipelineNumber':_0x455a76,'isPass':_0x4576d8,'branchId':_0x2ce75f,'pipelineKey':_0x25dbe1},_0x4793fa=_0x5ad02a+_0x4905c6(0x150)+_0xee3520+_0x4905c6(0x11a),_0x1d8e7b={'methodType':constants[_0x4905c6(0x12f)],'body':JSON[_0x4905c6(0x15e)](_0x911ba4)};post(_0x4793fa,_0x441ef4,_0xee3520,_0x1d8e7b)[_0x4905c6(0x11d)](_0x3cf4ec=>{const _0x14d2d1=_0x4905c6;_0x3d3a97['log'](_0x14d2d1(0x165)),_0x51021d(_0x3cf4ec);})['catch'](_0x36300e=>{const _0x29d5d1=_0x4905c6;_0x3d3a97[_0x29d5d1(0x151)](_0x29d5d1(0x14f)),_0x17093d(_0x36300e);});}catch(_0x50d103){_0x17093d(_0x50d103);}});}function callComponentList(_0x58ca28,_0x21c43d,_0x1b29af,_0x9e63b8,_0x466d03,_0xb0f304,_0x3a69ba=[]){return new Promise((_0x36b66e,_0x357a33)=>{const _0x57b8ac=a39_0x1e08;try{_0xb0f304[_0x57b8ac(0x151)](_0x57b8ac(0x14a));const _0x1db9f0=_0x9e63b8?_0x9e63b8[_0x57b8ac(0x15b)]('__','')+'/':'',_0x3aea61=_0x58ca28+_0x57b8ac(0x150)+_0x1db9f0+_0x57b8ac(0x11a),_0x453b07={'methodType':constants[_0x57b8ac(0x12d)],'body':JSON[_0x57b8ac(0x15e)](_0x1b29af)};post(_0x3aea61,_0x21c43d,_0x9e63b8,_0x453b07)[_0x57b8ac(0x11d)](_0x1ee97d=>{const _0x299f2d=_0x57b8ac;let {data:_0x3ca2da}=_0x1ee97d;_0x3ca2da=JSON[_0x299f2d(0x14b)](_0x3ca2da),_0xb0f304[_0x299f2d(0x151)](_0x299f2d(0x159)+Number[_0x299f2d(0x126)](_0x3a69ba['length']/_0x466d03*0x64)['toFixed'](0x2)+'%'),_0x3a69ba[_0x299f2d(0x158)](..._0x3ca2da[_0x299f2d(0x142)]),_0x3ca2da[_0x299f2d(0x11e)]&&_0x3ca2da['idList'][_0x299f2d(0x141)]?callComponentList(_0x58ca28,_0x21c43d,_0x3ca2da[_0x299f2d(0x11e)],_0x9e63b8,_0x466d03,_0xb0f304,_0x3a69ba)[_0x299f2d(0x11d)](_0x493b14=>_0x36b66e(_0x493b14))['catch'](_0x40dd19=>{const _0x4a7037=_0x299f2d;_0xb0f304[_0x4a7037(0x151)](_0x4a7037(0x138)),_0x357a33(_0x40dd19);}):(_0xb0f304['log']('End\x20Call\x20Component\x20List'),_0x36b66e(_0x3a69ba));})[_0x57b8ac(0x145)](_0x20b2f9=>{const _0x28351c=_0x57b8ac;_0xb0f304[_0x28351c(0x151)](_0x28351c(0x138)),_0x357a33(_0x20b2f9);});}catch(_0x197a7a){_0xb0f304[_0x57b8ac(0x151)](_0x57b8ac(0x138)),_0x357a33(_0x197a7a);}});}function getAttachmentBody(_0x3c4464,_0x74a2f3,_0x478858,_0x167fd4=!![]){return new Promise(_0x58539d=>{const _0x341e94=a39_0x1e08;try{const _0xfde28c=_0x3c4464[_0x341e94(0x16b)]('Attachment')['record'](_0x74a2f3)[_0x341e94(0x146)](_0x341e94(0x132)),_0x43d39a=[];_0xfde28c['on'](_0x341e94(0x125),(_0x45bea3,_0x35ead8)=>{const _0x1a8940=_0x341e94;_0x43d39a[_0x1a8940(0x158)](_0x45bea3);}),_0xfde28c['on']('end',()=>{const _0x507197=_0x341e94;_0x167fd4?_0x58539d(_0x43d39a[_0x507197(0x16c)]('')):_0x58539d(Buffer[_0x507197(0x14d)](_0x43d39a));}),_0xfde28c['on'](_0x341e94(0x12c),_0x2d1b0d=>{const _0x2d27fc=_0x341e94;_0x478858[_0x2d27fc(0x151)](_0x2d27fc(0x13b)+_0x2d1b0d),_0x58539d('');});}catch(_0x2197d5){_0x478858[_0x341e94(0x151)](_0x341e94(0x13b)+_0x2197d5),_0x58539d('');}});}function getTime(){const _0x1aa87e=a39_0x553254,_0xbedc6a=new Date(),_0x2a9966=[_0xbedc6a[_0x1aa87e(0x162)](),_0xbedc6a['getMonth']()+0x1,_0xbedc6a[_0x1aa87e(0x137)](),_0xbedc6a[_0x1aa87e(0x11f)](),_0xbedc6a['getMinutes'](),_0xbedc6a['getSeconds']()];return _0x2a9966[_0x1aa87e(0x14e)](_0x27e49a=>_0x27e49a=_0x27e49a['toString']()[_0x1aa87e(0x15b)](/^([0-9])$/,_0x1aa87e(0x164))),_0x2a9966[0x2]+'-'+_0x2a9966[0x1]+'-'+_0x2a9966[0x0]+'\x20'+_0x2a9966[0x3]+':'+_0x2a9966[0x4]+':'+_0x2a9966[0x5];}function callUpdateAttachmentLog(_0x42c8b5,_0x12f932,_0x449cde,_0x4e40ff,_0x21f60a){return new Promise(_0x1a9820=>{const _0x27e5a2=a39_0x1e08;try{_0x4e40ff[_0x27e5a2(0x151)](_0x27e5a2(0x153));const _0x38242d=_0x449cde+'\x0a'+_0x4e40ff[_0x27e5a2(0x122)][_0x27e5a2(0x16c)]('\x0a');_0x4e40ff['logs']=[];const _0x3aeb28={'Id':_0x12f932,'Body':Buffer['from'](_0x38242d)[_0x27e5a2(0x15c)](_0x27e5a2(0x143)),'ContentType':_0x27e5a2(0x152)};_0x42c8b5[_0x27e5a2(0x16b)](_0x27e5a2(0x127))[_0x27e5a2(0x160)](_0x3aeb28)['then'](()=>{_0x4e40ff['log']('End\x20Update\x20Attachment\x20Log'),_0x1a9820(_0x21f60a);})['catch'](_0x35f0a3=>{const _0x5b0271=_0x27e5a2;_0x4e40ff['log'](_0x5b0271(0x167)+_0x35f0a3),_0x1a9820(_0x21f60a);});}catch(_0x4cf36f){_0x4e40ff[_0x27e5a2(0x151)]('Error\x20Update\x20Attachment\x20Log\x20'+_0x4cf36f),_0x1a9820(_0x21f60a);}});}function updateAttachmentLog(_0x3b0225,_0x4072fe,_0x49e191,_0x288c54,_0x22600b,_0x19913b=![]){return new Promise(_0x1fb1a1=>{const _0x2d5233=a39_0x1e08;try{_0x288c54[_0x2d5233(0x151)](_0x2d5233(0x153)),Promise[_0x2d5233(0x131)]()['then'](()=>getAttachmentBody(_0x4072fe,_0x49e191,_0x288c54))['then'](_0x53d2e8=>{const _0x2d28e4=_0x2d5233;return _0x19913b?storage[_0x2d28e4(0x130)](_0x3b0225,getTime(),_0x288c54)[_0x2d28e4(0x11d)](_0x26d8bd=>{const _0x52cf60=_0x2d28e4;try{const _0x12eab9=yaml[_0x52cf60(0x168)](_0x26d8bd);_0x12eab9[_0x52cf60(0x13f)][_0x52cf60(0x141)]&&(_0x22600b=!![]);}catch(_0xc46b7){_0x26d8bd='',_0x22600b=!![];}const _0x24bef0=_0x26d8bd+'\x0a'+_0x53d2e8;return callUpdateAttachmentLog(_0x4072fe,_0x49e191,_0x24bef0,_0x288c54,_0x22600b);}):callUpdateAttachmentLog(_0x4072fe,_0x49e191,_0x53d2e8,_0x288c54,_0x22600b);})[_0x2d5233(0x11d)](()=>_0x1fb1a1(_0x22600b))[_0x2d5233(0x145)](()=>_0x1fb1a1(_0x22600b));}catch(_0x25dd24){_0x288c54[_0x2d5233(0x151)](_0x2d5233(0x167)+_0x25dd24),_0x1fb1a1(_0x22600b);}});}function callUpdateLog(_0x1487b8,_0x2a4ceb,_0x4a3f55,_0x198f65,_0x178b76,_0x5f23fc=![]){return new Promise((_0x54c0d8,_0xce65ad)=>{const _0xc2b7e=a39_0x1e08;try{_0x178b76[_0xc2b7e(0x151)](_0xc2b7e(0x12b)+_0x5f23fc+_0xc2b7e(0x14c)+_0x198f65);const _0x2d46b3=_0x198f65&&!_0x5f23fc?_0xc2b7e(0x124):_0x198f65&&_0x5f23fc?'Partial\x20Completed':_0xc2b7e(0x135),_0x51735e={'Id':_0x2a4ceb,[_0x4a3f55+'Status__c']:_0x2d46b3,[_0x4a3f55+_0xc2b7e(0x128)]:_0x5f23fc,[_0x4a3f55+'Succeed__c']:_0x198f65,[_0x4a3f55+'Job_Completed__c']:!![]};_0x1487b8[_0xc2b7e(0x16b)](_0x4a3f55+_0xc2b7e(0x129))[_0xc2b7e(0x160)](_0x51735e)['then'](()=>{const _0x234465=_0xc2b7e;_0x178b76['log'](_0x234465(0x15f)),_0x54c0d8(_0x51735e[_0x4a3f55+'Is_Error__c']);})[_0xc2b7e(0x145)](_0xb8a94d=>{const _0x2e01fc=_0xc2b7e;_0x178b76[_0x2e01fc(0x151)](_0x2e01fc(0x136)+_0xb8a94d),_0xce65ad(_0xb8a94d);});}catch(_0x265196){_0x178b76[_0xc2b7e(0x151)](_0xc2b7e(0x136)+_0x265196),_0xce65ad(_0x265196);}});}module[a39_0x553254(0x13c)]={'getTime':getTime,'post':post,'callUpdateInfo':callUpdateInfo,'callNextVlocityStep':callNextVlocityStep,'callComponentList':callComponentList,'updateAttachmentLog':updateAttachmentLog,'getAttachmentBody':getAttachmentBody,'callUpdateAttachmentLog':callUpdateAttachmentLog,'callUpdateLog':callUpdateLog};