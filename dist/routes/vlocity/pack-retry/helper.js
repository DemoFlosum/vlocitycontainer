const a35_0x3cae49=a35_0xfc03;(function(_0x47e026,_0x26d139){const _0x1b98f0=a35_0xfc03,_0x4d907c=_0x47e026();while(!![]){try{const _0x4c5282=-parseInt(_0x1b98f0(0x139))/0x1+parseInt(_0x1b98f0(0x152))/0x2+parseInt(_0x1b98f0(0x15e))/0x3*(-parseInt(_0x1b98f0(0x133))/0x4)+-parseInt(_0x1b98f0(0x14a))/0x5*(parseInt(_0x1b98f0(0x12f))/0x6)+parseInt(_0x1b98f0(0x130))/0x7*(-parseInt(_0x1b98f0(0x13e))/0x8)+-parseInt(_0x1b98f0(0x13b))/0x9+parseInt(_0x1b98f0(0x13c))/0xa;if(_0x4c5282===_0x26d139)break;else _0x4d907c['push'](_0x4d907c['shift']());}catch(_0x53e3f6){_0x4d907c['push'](_0x4d907c['shift']());}}}(a35_0xfe48,0x99b05));const AdmZip=require(a35_0x3cae49(0x151)),fs=require('fs'),yaml=require(a35_0x3cae49(0x138)),jsForce=require(a35_0x3cae49(0x135)),childProcess=require('../../../services/child-process'),constants=require(a35_0x3cae49(0x144)),http=require(a35_0x3cae49(0x137));function a35_0xfc03(_0x289dfc,_0x3663fa){const _0xfe48f1=a35_0xfe48();return a35_0xfc03=function(_0xfc030e,_0x22486e){_0xfc030e=_0xfc030e-0x12d;let _0x339730=_0xfe48f1[_0xfc030e];return _0x339730;},a35_0xfc03(_0x289dfc,_0x3663fa);}function unzipVlocityTemp(_0x180fe0,_0x3bac21,_0x475edd){return new Promise((_0xe375ce,_0xafb6f7)=>{const _0xe79c2c=a35_0xfc03;try{_0x475edd[_0xe79c2c(0x157)](_0xe79c2c(0x13a));const _0x130dd0=new AdmZip(_0x3bac21);_0x130dd0[_0xe79c2c(0x149)](_0x180fe0,![]),_0xe375ce(),_0x475edd['log'](_0xe79c2c(0x15f));}catch(_0x8d0fd){_0x475edd[_0xe79c2c(0x157)](_0xe79c2c(0x15b)+_0x8d0fd),_0xafb6f7(_0x8d0fd);}});}function packRetry(_0x5c926a,_0x34bc6c,_0x17cc4c,_0x24932f,_0x3ab24f,_0x5760d1){return new Promise((_0x8d70a2,_0x3b1221)=>{const _0x37cecf=a35_0xfc03;try{_0x5760d1[_0x37cecf(0x157)](_0x37cecf(0x15a));const _0x3abed7='vlocity',_0x59806b=[_0x37cecf(0x13f),''+_0x17cc4c,'-sf.instanceUrl',''+_0x34bc6c,_0x37cecf(0x136),_0x37cecf(0x150)];_0x5760d1[_0x37cecf(0x157)](_0x37cecf(0x160)),_0x5760d1['log'](_0x37cecf(0x12e)),_0x5760d1[_0x37cecf(0x157)](_0x37cecf(0x14e)+_0x34bc6c),_0x5760d1[_0x37cecf(0x157)](_0x37cecf(0x153)),_0x5760d1[_0x37cecf(0x157)](_0x37cecf(0x150));function _0x28a4ae(){const _0x320758=_0x37cecf;http[_0x320758(0x155)](_0x5c926a,_0x24932f,_0x3ab24f,_0x5760d1,![]);}const _0x37d25a={'cwd':_0x5c926a,'maxBuffer':0x400*0x1f4};childProcess[_0x37cecf(0x15c)](_0x3abed7,_0x59806b,_0x5760d1,_0x37d25a,!![],_0x28a4ae)[_0x37cecf(0x147)](_0x349131=>{_0x5760d1['log']('End\x20Pack\x20Retry'),_0x8d70a2(_0x349131);})[_0x37cecf(0x162)](_0x230cd8=>{const _0x327f97=_0x37cecf;_0x5760d1[_0x327f97(0x157)]('Error\x20Pack\x20Retry\x20'+_0x230cd8),_0x3b1221(_0x230cd8);});}catch(_0x337614){_0x3b1221(_0x337614);}});}function isNeedToDeploy(_0x5124be,_0x275c3b){return new Promise((_0xa3401f,_0x8ae1ec)=>{const _0xcba49=a35_0xfc03;try{fs['existsSync'](_0x5124be+'/'+constants['SOURCE_FOLDER'])?(_0x275c3b[_0xcba49(0x157)](_0xcba49(0x142)),_0xa3401f(!![])):(_0x275c3b[_0xcba49(0x157)](_0xcba49(0x14f)),_0xa3401f(![]));}catch(_0x2fce3d){_0x275c3b['log'](_0xcba49(0x15b)+_0x2fce3d),_0x8ae1ec(_0x2fce3d);}});}function callUpdateSnapshot(_0x1e2d19,_0x46d4db,_0x7d3187,_0x223a08,_0x2bba0c,_0x4f0ce1){return new Promise((_0x12e4b2,_0x426862)=>{const _0x39b502=a35_0xfc03;try{const _0x74a9c1=new jsForce[(_0x39b502(0x132))]({'accessToken':_0x46d4db,'instanceUrl':_0x7d3187});_0x4f0ce1[_0x39b502(0x157)](_0x39b502(0x134));const _0x235ae5={'Id':_0x223a08,[_0x2bba0c+_0x39b502(0x13d)]:!![]};if(fs[_0x39b502(0x14c)](_0x1e2d19+'/'+constants['NAME_LOGS_FILE'])){const _0x1cb5e2=yaml[_0x39b502(0x161)](fs[_0x39b502(0x131)](_0x1e2d19+'/'+constants[_0x39b502(0x12d)],_0x39b502(0x141)));_0x1cb5e2[_0x39b502(0x143)]&&(_0x235ae5[_0x2bba0c+_0x39b502(0x154)]=_0x1cb5e2['Errors']['length']>0x0);}else _0x235ae5[_0x2bba0c+_0x39b502(0x154)]=![];_0x74a9c1[_0x39b502(0x15d)](_0x2bba0c+_0x39b502(0x146))['update'](_0x235ae5)[_0x39b502(0x147)](()=>{const _0x2450f4=_0x39b502;_0x4f0ce1[_0x2450f4(0x157)]('End\x20Update\x20Snapshot'),_0x12e4b2();})[_0x39b502(0x162)](_0x2cedf6=>{const _0x58b046=_0x39b502;_0x4f0ce1[_0x58b046(0x157)](_0x58b046(0x148)),_0x426862(_0x2cedf6);});}catch(_0x513c87){_0x4f0ce1[_0x39b502(0x157)](_0x39b502(0x148)),_0x426862(_0x513c87);}});}function a35_0xfe48(){const _0x378a03=['Error\x20Unzip\x20Vlocity\x20Temp\x20','callChildProcess','sobject','74040gPGHJc','End\x20Unzip\x20Vlocity\x20Temp','Command:','load','catch','NAME_LOGS_FILE','-sf.accessToken\x20##########','2324922OtZwJQ','49DLcaUR','readFileSync','Connection','108SIIGxk','Start\x20Update\x20Snapshot','jsforce','--nojob','../../../services/http','js-yaml','17772geoJwY','Start\x20Unzip\x20Vlocity\x20Temp','7564437zjZNMj','25011280yCSAsV','Is_Completed__c','167448yACHKc','-sf.accessToken','getMinutes','utf8','Exist\x20Components\x20To\x20Deploy','Errors','../../../constants','getSeconds','Snapshot_Vlocity__c','then','Error\x20Update\x20Snapshot','extractAllTo','5IUdsOb','0$1','existsSync','toString','-sf.instanceUrl\x20','No\x20Components\x20To\x20Deploy','packRetry','adm-zip','374020FYbllQ','-nojob','Is_Error__c','updateAttachmentLog','getFullYear','log','replace','getMonth','Start\x20Pack\x20Retry'];a35_0xfe48=function(){return _0x378a03;};return a35_0xfe48();}function getTime(){const _0x393d30=a35_0x3cae49,_0x59d92f=new Date(),_0x516e33=[_0x59d92f['getDate'](),_0x59d92f[_0x393d30(0x159)]()+0x1,_0x59d92f[_0x393d30(0x156)](),_0x59d92f['getHours'](),_0x59d92f[_0x393d30(0x140)](),_0x59d92f[_0x393d30(0x145)]()];return _0x516e33['forEach'](_0x436df9=>_0x436df9=_0x436df9[_0x393d30(0x14d)]()[_0x393d30(0x158)](/^([0-9])$/,_0x393d30(0x14b))),_0x516e33[0x2]+'-'+_0x516e33[0x1]+'-'+_0x516e33[0x0]+'\x20'+_0x516e33[0x3]+':'+_0x516e33[0x4]+':'+_0x516e33[0x5];}module['exports']={'unzipVlocityTemp':unzipVlocityTemp,'callUpdateSnapshot':callUpdateSnapshot,'packRetry':packRetry,'getTime':getTime,'isNeedToDeploy':isNeedToDeploy};