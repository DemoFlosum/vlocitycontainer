const a29_0xa9f18a=a29_0x64f1;(function(_0xc44de7,_0x3a1e52){const _0x2c178f=a29_0x64f1,_0x95b58d=_0xc44de7();while(!![]){try{const _0x1ac5c7=parseInt(_0x2c178f(0xa2))/0x1+-parseInt(_0x2c178f(0xc1))/0x2+parseInt(_0x2c178f(0xaa))/0x3*(-parseInt(_0x2c178f(0xb1))/0x4)+parseInt(_0x2c178f(0xba))/0x5+parseInt(_0x2c178f(0xcf))/0x6+-parseInt(_0x2c178f(0xad))/0x7*(-parseInt(_0x2c178f(0xb8))/0x8)+parseInt(_0x2c178f(0xc6))/0x9;if(_0x1ac5c7===_0x3a1e52)break;else _0x95b58d['push'](_0x95b58d['shift']());}catch(_0x3b486a){_0x95b58d['push'](_0x95b58d['shift']());}}}(a29_0x1f82,0x958cd));const AdmZip=require(a29_0xa9f18a(0xcb)),fs=require('fs'),yaml=require(a29_0xa9f18a(0xd0)),jsForce=require('jsforce'),childProcess=require(a29_0xa9f18a(0xc9)),constants=require(a29_0xa9f18a(0xc8)),http=require('../../../services/http');function unzipVlocityTemp(_0x1da392,_0xb95e94,_0x38073e){return new Promise((_0x136599,_0x3a7519)=>{const _0x194171=a29_0x64f1;try{_0x38073e[_0x194171(0xd1)](_0x194171(0xb4));const _0x4b6521=new AdmZip(_0xb95e94);_0x4b6521['extractAllTo'](_0x1da392,![]),_0x136599(),_0x38073e[_0x194171(0xd1)](_0x194171(0xa8));}catch(_0x3f54c6){_0x38073e['log'](_0x194171(0xc0)+_0x3f54c6),_0x3a7519(_0x3f54c6);}});}function packRetry(_0x5a03ef,_0x15c038,_0x2e4228,_0x18a3c0,_0x333dda,_0x14c82b){return new Promise((_0x2d8207,_0x4d306e)=>{const _0x1b86df=a29_0x64f1;try{_0x14c82b[_0x1b86df(0xd1)](_0x1b86df(0xb6));const _0x27e7be=_0x1b86df(0xac),_0x5dac17=[_0x1b86df(0xa5),''+_0x2e4228,'-sf.instanceUrl',''+_0x15c038,_0x1b86df(0xc5),_0x1b86df(0xbf)];_0x14c82b[_0x1b86df(0xd1)](_0x1b86df(0xb7)),_0x14c82b['log']('-sf.accessToken\x20##########'),_0x14c82b['log'](_0x1b86df(0xb9)+_0x15c038),_0x14c82b['log'](_0x1b86df(0xaf)),_0x14c82b[_0x1b86df(0xd1)]('packRetry');function _0x39c602(){const _0x2cbb15=_0x1b86df;http[_0x2cbb15(0xae)](_0x5a03ef,_0x18a3c0,_0x333dda,_0x14c82b,![]);}const _0x144405={'cwd':_0x5a03ef,'maxBuffer':0x400*0x1f4};childProcess['callChildProcess'](_0x27e7be,_0x5dac17,_0x14c82b,_0x144405,!![],_0x39c602)[_0x1b86df(0xce)](_0x34ef76=>{const _0x544edb=_0x1b86df;_0x14c82b[_0x544edb(0xd1)]('End\x20Pack\x20Retry'),_0x2d8207(_0x34ef76);})[_0x1b86df(0xc4)](_0xbe3f1a=>{const _0x4258d4=_0x1b86df;_0x14c82b[_0x4258d4(0xd1)](_0x4258d4(0xa4)+_0xbe3f1a),_0x4d306e(_0xbe3f1a);});}catch(_0x3a7b5f){_0x4d306e(_0x3a7b5f);}});}function isNeedToDeploy(_0x4bf965,_0x7f33c7){return new Promise((_0xfb4316,_0x59a8e2)=>{const _0x2ccdaa=a29_0x64f1;try{fs[_0x2ccdaa(0xca)](_0x4bf965+'/'+constants[_0x2ccdaa(0xb5)])?(_0x7f33c7[_0x2ccdaa(0xd1)](_0x2ccdaa(0xcd)),_0xfb4316(!![])):(_0x7f33c7[_0x2ccdaa(0xd1)](_0x2ccdaa(0xd3)),_0xfb4316(![]));}catch(_0x2575a6){_0x7f33c7[_0x2ccdaa(0xd1)](_0x2ccdaa(0xc0)+_0x2575a6),_0x59a8e2(_0x2575a6);}});}function callUpdateSnapshot(_0x2cb027,_0x303e29,_0x30a4fe,_0x34c4bb,_0xdc3c75,_0x7ac2a2){return new Promise((_0x568e04,_0x121bd1)=>{const _0x241c0b=a29_0x64f1;try{const _0x381216=new jsForce[(_0x241c0b(0xa7))]({'accessToken':_0x303e29,'instanceUrl':_0x30a4fe});_0x7ac2a2[_0x241c0b(0xd1)](_0x241c0b(0xc7));const _0x5826ef={'Id':_0x34c4bb,[_0xdc3c75+_0x241c0b(0xa1)]:!![]};if(fs[_0x241c0b(0xca)](_0x2cb027+'/'+constants['NAME_LOGS_FILE'])){const _0x267ed6=yaml[_0x241c0b(0xb2)](fs['readFileSync'](_0x2cb027+'/'+constants[_0x241c0b(0xd2)],_0x241c0b(0xcc)));_0x267ed6[_0x241c0b(0xa6)]&&(_0x5826ef[_0xdc3c75+_0x241c0b(0xa9)]=_0x267ed6[_0x241c0b(0xa6)][_0x241c0b(0xd5)]>0x0);}else _0x5826ef[_0xdc3c75+'Is_Error__c']=![];_0x381216['sobject'](_0xdc3c75+_0x241c0b(0xc3))[_0x241c0b(0xa3)](_0x5826ef)[_0x241c0b(0xce)](()=>{const _0x3c4773=_0x241c0b;_0x7ac2a2['log'](_0x3c4773(0xb3)),_0x568e04();})[_0x241c0b(0xc4)](_0x447668=>{const _0x34fb56=_0x241c0b;_0x7ac2a2[_0x34fb56(0xd1)]('Error\x20Update\x20Snapshot'),_0x121bd1(_0x447668);});}catch(_0x4a2b34){_0x7ac2a2[_0x241c0b(0xd1)](_0x241c0b(0xbb)),_0x121bd1(_0x4a2b34);}});}function getTime(){const _0x542eec=a29_0xa9f18a,_0x15cb95=new Date(),_0x319db6=[_0x15cb95[_0x542eec(0xab)](),_0x15cb95['getMonth']()+0x1,_0x15cb95[_0x542eec(0xc2)](),_0x15cb95[_0x542eec(0xbe)](),_0x15cb95[_0x542eec(0xd4)](),_0x15cb95[_0x542eec(0xbd)]()];return _0x319db6['forEach'](_0x5ca7a4=>_0x5ca7a4=_0x5ca7a4[_0x542eec(0xb0)]()[_0x542eec(0xbc)](/^([0-9])$/,'0$1')),_0x319db6[0x2]+'-'+_0x319db6[0x1]+'-'+_0x319db6[0x0]+'\x20'+_0x319db6[0x3]+':'+_0x319db6[0x4]+':'+_0x319db6[0x5];}function a29_0x1f82(){const _0x4c6ebc=['End\x20Update\x20Snapshot','Start\x20Unzip\x20Vlocity\x20Temp','SOURCE_FOLDER','Start\x20Pack\x20Retry','Command:','198824mwcZHg','-sf.instanceUrl\x20','1356205bazdXv','Error\x20Update\x20Snapshot','replace','getSeconds','getHours','packRetry','Error\x20Unzip\x20Vlocity\x20Temp\x20','2110364xWVmec','getFullYear','Snapshot_Vlocity__c','catch','--nojob','3647916pvOxsg','Start\x20Update\x20Snapshot','../../../constants','../../../services/child-process','existsSync','adm-zip','utf8','Exist\x20Components\x20To\x20Deploy','then','2731506SsPjkr','js-yaml','log','NAME_LOGS_FILE','No\x20Components\x20To\x20Deploy','getMinutes','length','exports','Is_Completed__c','1024735LKVabK','update','Error\x20Pack\x20Retry\x20','-sf.accessToken','Errors','Connection','End\x20Unzip\x20Vlocity\x20Temp','Is_Error__c','24XTXIwQ','getDate','vlocity','84qWoPyb','updateAttachmentLog','-nojob','toString','393524JatjYk','load'];a29_0x1f82=function(){return _0x4c6ebc;};return a29_0x1f82();}function a29_0x64f1(_0xb2e1d,_0x3876cc){const _0x1f824f=a29_0x1f82();return a29_0x64f1=function(_0x64f12c,_0x4ebf1c){_0x64f12c=_0x64f12c-0xa0;let _0x2d311d=_0x1f824f[_0x64f12c];return _0x2d311d;},a29_0x64f1(_0xb2e1d,_0x3876cc);}module[a29_0xa9f18a(0xa0)]={'unzipVlocityTemp':unzipVlocityTemp,'callUpdateSnapshot':callUpdateSnapshot,'packRetry':packRetry,'getTime':getTime,'isNeedToDeploy':isNeedToDeploy};