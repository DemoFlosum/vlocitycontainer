const a36_0xdc8d2f=a36_0x22d2;function a36_0x543f(){const _0xcf5b00=['log','2lSqvfM','Start\x20Unzip\x20Vlocity\x20Temp','js-yaml','-sf.instanceUrl','then','End\x20Pack\x20Retry','Error\x20Unzip\x20Vlocity\x20Temp\x20','exports','getHours','-sf.instanceUrl\x20','../../../services/http','catch','SOURCE_FOLDER','update','length','Is_Error__c','Start\x20Pack\x20Retry','-sf.accessToken','396864SDJayA','Exist\x20Components\x20To\x20Deploy','Is_Completed__c','692682apMbPG','vlocity','../../../services/child-process','0$1','NAME_LOGS_FILE','getMonth','End\x20Unzip\x20Vlocity\x20Temp','127170SDrpjk','callChildProcess','552LUIXyt','packRetry','Snapshot_Vlocity__c','Error\x20Pack\x20Retry\x20','existsSync','-sf.accessToken\x20##########','No\x20Components\x20To\x20Deploy','toString','1049860wbgaTt','60MaoJjs','getDate','Command:','Start\x20Update\x20Snapshot','sobject','getMinutes','extractAllTo','readFileSync','replace','load','--nojob','59785xrcNhe','Errors','26873quAeJV','End\x20Update\x20Snapshot','612612ZBRgLo','Error\x20Update\x20Snapshot'];a36_0x543f=function(){return _0xcf5b00;};return a36_0x543f();}(function(_0x31abd6,_0x43a102){const _0xf1bb66=a36_0x22d2,_0xaf6c61=_0x31abd6();while(!![]){try{const _0xdf8f9c=parseInt(_0xf1bb66(0x1b8))/0x1*(parseInt(_0xf1bb66(0x1bf))/0x2)+-parseInt(_0xf1bb66(0x19b))/0x3+parseInt(_0xf1bb66(0x1bc))/0x4+-parseInt(_0xf1bb66(0x1ad))/0x5*(parseInt(_0xf1bb66(0x1a2))/0x6)+parseInt(_0xf1bb66(0x1ba))/0x7*(parseInt(_0xf1bb66(0x1a4))/0x8)+parseInt(_0xf1bb66(0x198))/0x9+parseInt(_0xf1bb66(0x1ac))/0xa;if(_0xdf8f9c===_0x43a102)break;else _0xaf6c61['push'](_0xaf6c61['shift']());}catch(_0x234b92){_0xaf6c61['push'](_0xaf6c61['shift']());}}}(a36_0x543f,0x2296d));function a36_0x22d2(_0x120cf7,_0x5bacf2){const _0x543f80=a36_0x543f();return a36_0x22d2=function(_0x22d2ad,_0x448c7e){_0x22d2ad=_0x22d2ad-0x194;let _0x549485=_0x543f80[_0x22d2ad];return _0x549485;},a36_0x22d2(_0x120cf7,_0x5bacf2);}const AdmZip=require('adm-zip'),fs=require('fs'),yaml=require(a36_0xdc8d2f(0x1c1)),jsForce=require('jsforce'),childProcess=require(a36_0xdc8d2f(0x19d)),constants=require('../../../constants'),http=require(a36_0xdc8d2f(0x1c9));function unzipVlocityTemp(_0x5861b1,_0x407a2b,_0x17757d){return new Promise((_0x29e4f6,_0x402f60)=>{const _0x2482e8=a36_0x22d2;try{_0x17757d[_0x2482e8(0x1be)](_0x2482e8(0x1c0));const _0x2c8be6=new AdmZip(_0x407a2b);_0x2c8be6[_0x2482e8(0x1b3)](_0x5861b1,![]),_0x29e4f6(),_0x17757d[_0x2482e8(0x1be)](_0x2482e8(0x1a1));}catch(_0x56630d){_0x17757d['log'](_0x2482e8(0x1c5)+_0x56630d),_0x402f60(_0x56630d);}});}function packRetry(_0x1f0863,_0x4b3569,_0x355c67,_0x43691f,_0x1bc061,_0x2ed268){return new Promise((_0x1f31ee,_0x3fa2b8)=>{const _0x5eb864=a36_0x22d2;try{_0x2ed268[_0x5eb864(0x1be)](_0x5eb864(0x196));const _0x10003a=_0x5eb864(0x19c),_0x35768e=[_0x5eb864(0x197),''+_0x355c67,_0x5eb864(0x1c2),''+_0x4b3569,_0x5eb864(0x1b7),'packRetry'];_0x2ed268[_0x5eb864(0x1be)](_0x5eb864(0x1af)),_0x2ed268[_0x5eb864(0x1be)](_0x5eb864(0x1a9)),_0x2ed268[_0x5eb864(0x1be)](_0x5eb864(0x1c8)+_0x4b3569),_0x2ed268['log']('-nojob'),_0x2ed268[_0x5eb864(0x1be)](_0x5eb864(0x1a5));function _0x567a58(){http['updateAttachmentLog'](_0x1f0863,_0x43691f,_0x1bc061,_0x2ed268,![]);}const _0x464076={'cwd':_0x1f0863,'maxBuffer':0x400*0x1f4};childProcess[_0x5eb864(0x1a3)](_0x10003a,_0x35768e,_0x2ed268,_0x464076,!![],_0x567a58)[_0x5eb864(0x1c3)](_0x144a68=>{const _0x38d2b6=_0x5eb864;_0x2ed268['log'](_0x38d2b6(0x1c4)),_0x1f31ee(_0x144a68);})['catch'](_0x57b35f=>{const _0xb60e90=_0x5eb864;_0x2ed268[_0xb60e90(0x1be)](_0xb60e90(0x1a7)+_0x57b35f),_0x3fa2b8(_0x57b35f);});}catch(_0x44e722){_0x3fa2b8(_0x44e722);}});}function isNeedToDeploy(_0x512527,_0x14c401){return new Promise((_0x1c8a00,_0x5242c9)=>{const _0x62ce82=a36_0x22d2;try{fs[_0x62ce82(0x1a8)](_0x512527+'/'+constants[_0x62ce82(0x1cb)])?(_0x14c401['log'](_0x62ce82(0x199)),_0x1c8a00(!![])):(_0x14c401['log'](_0x62ce82(0x1aa)),_0x1c8a00(![]));}catch(_0x308ce5){_0x14c401[_0x62ce82(0x1be)](_0x62ce82(0x1c5)+_0x308ce5),_0x5242c9(_0x308ce5);}});}function callUpdateSnapshot(_0x489388,_0x5a7c8a,_0xed38e3,_0x224573,_0x2f5553,_0x535a5f){return new Promise((_0xdd9ced,_0x561d42)=>{const _0x5f5d9b=a36_0x22d2;try{const _0x1414a8=new jsForce['Connection']({'accessToken':_0x5a7c8a,'instanceUrl':_0xed38e3});_0x535a5f[_0x5f5d9b(0x1be)](_0x5f5d9b(0x1b0));const _0x57edfe={'Id':_0x224573,[_0x2f5553+_0x5f5d9b(0x19a)]:!![]};if(fs[_0x5f5d9b(0x1a8)](_0x489388+'/'+constants[_0x5f5d9b(0x19f)])){const _0x257ef1=yaml[_0x5f5d9b(0x1b6)](fs[_0x5f5d9b(0x1b4)](_0x489388+'/'+constants[_0x5f5d9b(0x19f)],'utf8'));_0x257ef1[_0x5f5d9b(0x1b9)]&&(_0x57edfe[_0x2f5553+_0x5f5d9b(0x195)]=_0x257ef1[_0x5f5d9b(0x1b9)][_0x5f5d9b(0x194)]>0x0);}else _0x57edfe[_0x2f5553+_0x5f5d9b(0x195)]=![];_0x1414a8[_0x5f5d9b(0x1b1)](_0x2f5553+_0x5f5d9b(0x1a6))[_0x5f5d9b(0x1cc)](_0x57edfe)[_0x5f5d9b(0x1c3)](()=>{const _0x2fb52f=_0x5f5d9b;_0x535a5f[_0x2fb52f(0x1be)](_0x2fb52f(0x1bb)),_0xdd9ced();})[_0x5f5d9b(0x1ca)](_0x6e94ab=>{const _0x576ab7=_0x5f5d9b;_0x535a5f['log'](_0x576ab7(0x1bd)),_0x561d42(_0x6e94ab);});}catch(_0x4f5470){_0x535a5f[_0x5f5d9b(0x1be)](_0x5f5d9b(0x1bd)),_0x561d42(_0x4f5470);}});}function getTime(){const _0x4051aa=a36_0xdc8d2f,_0x1114ed=new Date(),_0x5ac3b4=[_0x1114ed[_0x4051aa(0x1ae)](),_0x1114ed[_0x4051aa(0x1a0)]()+0x1,_0x1114ed['getFullYear'](),_0x1114ed[_0x4051aa(0x1c7)](),_0x1114ed[_0x4051aa(0x1b2)](),_0x1114ed['getSeconds']()];return _0x5ac3b4['forEach'](_0x1dec41=>_0x1dec41=_0x1dec41[_0x4051aa(0x1ab)]()[_0x4051aa(0x1b5)](/^([0-9])$/,_0x4051aa(0x19e))),_0x5ac3b4[0x2]+'-'+_0x5ac3b4[0x1]+'-'+_0x5ac3b4[0x0]+'\x20'+_0x5ac3b4[0x3]+':'+_0x5ac3b4[0x4]+':'+_0x5ac3b4[0x5];}module[a36_0xdc8d2f(0x1c6)]={'unzipVlocityTemp':unzipVlocityTemp,'callUpdateSnapshot':callUpdateSnapshot,'packRetry':packRetry,'getTime':getTime,'isNeedToDeploy':isNeedToDeploy};