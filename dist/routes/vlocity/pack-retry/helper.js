function _0x5129(){const _0x3b188d=['Exist\x20Components\x20To\x20Deploy','forEach','Is_Completed__c','exports','log','Start\x20Unzip\x20Vlocity\x20Temp','updateAttachmentLog','Error\x20Update\x20Snapshot','getMonth','extractAllTo','Start\x20Update\x20Snapshot','then','NAME_LOGS_FILE','getDate','End\x20Update\x20Snapshot','getMinutes','-sf.instanceUrl','utf8','Error\x20Unzip\x20Vlocity\x20Temp\x20','adm-zip','../../../services/child-process','catch','readFileSync','Errors','1570980bXlZah','packRetry','3520664tkTnsI','-sf.accessToken','End\x20Unzip\x20Vlocity\x20Temp','-sf.accessToken\x20##########','sobject','7936YcCoyP','replace','SOURCE_FOLDER','486151iyqHdI','Connection','9oURzYa','8115642LWflBP','Error\x20Pack\x20Retry\x20','../../../constants','End\x20Pack\x20Retry','getHours','Command:','7bkErfZ','update','304668MBIPrT','-nojob','callChildProcess','Is_Error__c','No\x20Components\x20To\x20Deploy','Snapshot_Vlocity__c','getFullYear','1050480ysDlzw'];_0x5129=function(){return _0x3b188d;};return _0x5129();}const _0x3cfddb=_0x2f05;(function(_0x5b0d0a,_0x235040){const _0x28b8df=_0x2f05,_0x409a45=_0x5b0d0a();while(!![]){try{const _0x2cf5ac=-parseInt(_0x28b8df(0x10c))/0x1+-parseInt(_0x28b8df(0x13e))/0x2+parseInt(_0x28b8df(0x10e))/0x3*(parseInt(_0x28b8df(0x117))/0x4)+-parseInt(_0x28b8df(0x11e))/0x5+parseInt(_0x28b8df(0x137))/0x6+-parseInt(_0x28b8df(0x115))/0x7*(parseInt(_0x28b8df(0x139))/0x8)+parseInt(_0x28b8df(0x10f))/0x9;if(_0x2cf5ac===_0x235040)break;else _0x409a45['push'](_0x409a45['shift']());}catch(_0x1d9bd0){_0x409a45['push'](_0x409a45['shift']());}}}(_0x5129,0x3d77b));const AdmZip=require(_0x3cfddb(0x132)),fs=require('fs'),yaml=require('js-yaml'),jsForce=require('jsforce'),childProcess=require(_0x3cfddb(0x133)),constants=require(_0x3cfddb(0x111)),http=require('../../../services/http');function unzipVlocityTemp(_0x39dc31,_0xc528bc,_0x1e6178){return new Promise((_0x27a9c4,_0x771cca)=>{const _0x48b589=_0x2f05;try{_0x1e6178[_0x48b589(0x123)](_0x48b589(0x124));const _0x391524=new AdmZip(_0xc528bc);_0x391524[_0x48b589(0x128)](_0x39dc31,![]),_0x27a9c4(),_0x1e6178[_0x48b589(0x123)](_0x48b589(0x13b));}catch(_0x479878){_0x1e6178[_0x48b589(0x123)](_0x48b589(0x131)+_0x479878),_0x771cca(_0x479878);}});}function packRetry(_0x5ea7a8,_0x573d0c,_0x33ae51,_0x57f942,_0x53e5a3,_0xd35abc){return new Promise((_0x25dbd7,_0x4d03a2)=>{const _0x246694=_0x2f05;try{_0xd35abc[_0x246694(0x123)]('Start\x20Pack\x20Retry');const _0x33d253='vlocity',_0x150314=[_0x246694(0x13a),''+_0x33ae51,_0x246694(0x12f),''+_0x573d0c,'--nojob',_0x246694(0x138)];_0xd35abc['log'](_0x246694(0x114)),_0xd35abc[_0x246694(0x123)](_0x246694(0x13c)),_0xd35abc['log']('-sf.instanceUrl\x20'+_0x573d0c),_0xd35abc[_0x246694(0x123)](_0x246694(0x118)),_0xd35abc['log'](_0x246694(0x138));function _0x1df4b1(){const _0x5f49b1=_0x246694;http[_0x5f49b1(0x125)](_0x5ea7a8,_0x57f942,_0x53e5a3,_0xd35abc,![]);}const _0x594b7d={'cwd':'./'+_0x5ea7a8,'maxBuffer':0x400*0x1f4};childProcess[_0x246694(0x119)](_0x33d253,_0x150314,_0xd35abc,_0x594b7d,!![],_0x1df4b1)[_0x246694(0x12a)](_0x1caa3c=>{const _0xf0e088=_0x246694;_0xd35abc[_0xf0e088(0x123)](_0xf0e088(0x112)),_0x25dbd7(_0x1caa3c);})[_0x246694(0x134)](_0xc6baaa=>{const _0x564980=_0x246694;_0xd35abc[_0x564980(0x123)](_0x564980(0x110)+_0xc6baaa),_0x4d03a2(_0xc6baaa);});}catch(_0x3026f8){_0x4d03a2(_0x3026f8);}});}function _0x2f05(_0x4f670e,_0x555646){const _0x512975=_0x5129();return _0x2f05=function(_0x2f0574,_0x39805c){_0x2f0574=_0x2f0574-0x10c;let _0x4bf9c6=_0x512975[_0x2f0574];return _0x4bf9c6;},_0x2f05(_0x4f670e,_0x555646);}function isNeedToDeploy(_0x3ebbc2,_0x526de4){return new Promise((_0x40016d,_0x149dbd)=>{const _0x303436=_0x2f05;try{fs['existsSync'](_0x3ebbc2+'/'+constants[_0x303436(0x140)])?(_0x526de4[_0x303436(0x123)](_0x303436(0x11f)),_0x40016d(!![])):(_0x526de4[_0x303436(0x123)](_0x303436(0x11b)),_0x40016d(![]));}catch(_0x2fde11){_0x526de4[_0x303436(0x123)]('Error\x20Unzip\x20Vlocity\x20Temp\x20'+_0x2fde11),_0x149dbd(_0x2fde11);}});}function callUpdateSnapshot(_0x5c0475,_0xc4e5e6,_0x4907a3,_0x3d0cf4,_0x494a55,_0x1ea1b3){return new Promise((_0x4dacdb,_0x4a33c7)=>{const _0x52ac86=_0x2f05;try{const _0x640dda=new jsForce[(_0x52ac86(0x10d))]({'accessToken':_0xc4e5e6,'instanceUrl':_0x4907a3});_0x1ea1b3[_0x52ac86(0x123)](_0x52ac86(0x129));const _0x3ee3d8={'Id':_0x3d0cf4,[_0x494a55+_0x52ac86(0x121)]:!![]};if(fs['existsSync'](_0x5c0475+'/'+constants[_0x52ac86(0x12b)])){const _0x5c97a2=yaml['load'](fs[_0x52ac86(0x135)](_0x5c0475+'/'+constants['NAME_LOGS_FILE'],_0x52ac86(0x130)));_0x5c97a2[_0x52ac86(0x136)]&&(_0x3ee3d8[_0x494a55+_0x52ac86(0x11a)]=_0x5c97a2['Errors']['length']>0x0);}else _0x3ee3d8[_0x494a55+_0x52ac86(0x11a)]=![];_0x640dda[_0x52ac86(0x13d)](_0x494a55+_0x52ac86(0x11c))[_0x52ac86(0x116)](_0x3ee3d8)['then'](()=>{const _0x3ed874=_0x52ac86;_0x1ea1b3[_0x3ed874(0x123)](_0x3ed874(0x12d)),_0x4dacdb();})[_0x52ac86(0x134)](_0x12a4ef=>{const _0xe416cd=_0x52ac86;_0x1ea1b3[_0xe416cd(0x123)](_0xe416cd(0x126)),_0x4a33c7(_0x12a4ef);});}catch(_0x642764){_0x1ea1b3[_0x52ac86(0x123)](_0x52ac86(0x126)),_0x4a33c7(_0x642764);}});}function getTime(){const _0x230f5f=_0x3cfddb,_0x567446=new Date(),_0x5d376c=[_0x567446[_0x230f5f(0x12c)](),_0x567446[_0x230f5f(0x127)]()+0x1,_0x567446[_0x230f5f(0x11d)](),_0x567446[_0x230f5f(0x113)](),_0x567446[_0x230f5f(0x12e)](),_0x567446['getSeconds']()];return _0x5d376c[_0x230f5f(0x120)](_0xc3a165=>_0xc3a165=_0xc3a165['toString']()[_0x230f5f(0x13f)](/^([0-9])$/,'0$1')),_0x5d376c[0x2]+'-'+_0x5d376c[0x1]+'-'+_0x5d376c[0x0]+'\x20'+_0x5d376c[0x3]+':'+_0x5d376c[0x4]+':'+_0x5d376c[0x5];}module[_0x3cfddb(0x122)]={'unzipVlocityTemp':unzipVlocityTemp,'callUpdateSnapshot':callUpdateSnapshot,'packRetry':packRetry,'getTime':getTime,'isNeedToDeploy':isNeedToDeploy};