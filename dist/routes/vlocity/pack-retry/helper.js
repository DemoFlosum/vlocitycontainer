function a37_0x1da2(_0xe9aef9,_0x32afe3){const _0x4e5822=a37_0x4e58();return a37_0x1da2=function(_0x1da2eb,_0x2ca137){_0x1da2eb=_0x1da2eb-0x1cb;let _0x4254d6=_0x4e5822[_0x1da2eb];return _0x4254d6;},a37_0x1da2(_0xe9aef9,_0x32afe3);}const a37_0x1b1b28=a37_0x1da2;(function(_0x13b54a,_0x1d2a42){const _0x267dc6=a37_0x1da2,_0x552d8c=_0x13b54a();while(!![]){try{const _0x3170c0=parseInt(_0x267dc6(0x1d4))/0x1+-parseInt(_0x267dc6(0x1eb))/0x2+parseInt(_0x267dc6(0x1d8))/0x3*(parseInt(_0x267dc6(0x1d9))/0x4)+parseInt(_0x267dc6(0x1e3))/0x5*(parseInt(_0x267dc6(0x1f1))/0x6)+parseInt(_0x267dc6(0x1d3))/0x7+parseInt(_0x267dc6(0x201))/0x8*(-parseInt(_0x267dc6(0x1cf))/0x9)+-parseInt(_0x267dc6(0x1e4))/0xa;if(_0x3170c0===_0x1d2a42)break;else _0x552d8c['push'](_0x552d8c['shift']());}catch(_0x18c5e2){_0x552d8c['push'](_0x552d8c['shift']());}}}(a37_0x4e58,0xdc936));const AdmZip=require(a37_0x1b1b28(0x1d1)),fs=require('fs'),yaml=require(a37_0x1b1b28(0x1d7)),jsForce=require('jsforce'),childProcess=require('../../../services/child-process'),constants=require(a37_0x1b1b28(0x1fd)),http=require(a37_0x1b1b28(0x1ce));function a37_0x4e58(){const _0x2b509b=['4599171pSXcgD','Start\x20Unzip\x20Vlocity\x20Temp','adm-zip','End\x20Update\x20Snapshot','4622506vXwCJM','433122AXytBe','getHours','--nojob','js-yaml','3maYYIV','6332492OjmAVV','catch','-sf.instanceUrl','utf8','replace','exports','End\x20Unzip\x20Vlocity\x20Temp','length','log','getMinutes','4605DQSgtZ','12022570OJsgGB','Start\x20Update\x20Snapshot','Exist\x20Components\x20To\x20Deploy','callChildProcess','SOURCE_FOLDER','End\x20Pack\x20Retry','-sf.instanceUrl\x20','844148BNHKkR','-sf.accessToken\x20##########','-nojob','vlocity','Connection','getDate','9018yAuePg','Command:','Error\x20Unzip\x20Vlocity\x20Temp\x20','load','NAME_LOGS_FILE','forEach','No\x20Components\x20To\x20Deploy','update','updateAttachmentLog','extractAllTo','-sf.accessToken','getFullYear','../../../constants','Is_Error__c','0$1','getSeconds','24qZnxxU','readFileSync','Errors','existsSync','../../../services/http'];a37_0x4e58=function(){return _0x2b509b;};return a37_0x4e58();}function unzipVlocityTemp(_0x3d5c8d,_0x5796e7,_0x106795){return new Promise((_0x57a383,_0x3a2d3a)=>{const _0x5e5358=a37_0x1da2;try{_0x106795[_0x5e5358(0x1e1)](_0x5e5358(0x1d0));const _0x2f03b8=new AdmZip(_0x5796e7);_0x2f03b8[_0x5e5358(0x1fa)](_0x3d5c8d,![]),_0x57a383(),_0x106795[_0x5e5358(0x1e1)](_0x5e5358(0x1df));}catch(_0x9a7a84){_0x106795[_0x5e5358(0x1e1)]('Error\x20Unzip\x20Vlocity\x20Temp\x20'+_0x9a7a84),_0x3a2d3a(_0x9a7a84);}});}function packRetry(_0x1a3864,_0x29a329,_0x1929f6,_0x595843,_0xfff004,_0x242c84){return new Promise((_0x4403eb,_0x422179)=>{const _0x455a2b=a37_0x1da2;try{_0x242c84[_0x455a2b(0x1e1)]('Start\x20Pack\x20Retry');const _0x586ac3=_0x455a2b(0x1ee),_0x7cee7e=[_0x455a2b(0x1fb),''+_0x1929f6,_0x455a2b(0x1db),''+_0x29a329,_0x455a2b(0x1d6),'packRetry'];_0x242c84[_0x455a2b(0x1e1)](_0x455a2b(0x1f2)),_0x242c84['log'](_0x455a2b(0x1ec)),_0x242c84[_0x455a2b(0x1e1)](_0x455a2b(0x1ea)+_0x29a329),_0x242c84[_0x455a2b(0x1e1)](_0x455a2b(0x1ed)),_0x242c84[_0x455a2b(0x1e1)]('packRetry');function _0x4f0ce8(){const _0x557fc6=_0x455a2b;http[_0x557fc6(0x1f9)](_0x1a3864,_0x595843,_0xfff004,_0x242c84,![]);}const _0x688dbe={'cwd':_0x1a3864,'maxBuffer':0x400*0x1f4};childProcess[_0x455a2b(0x1e7)](_0x586ac3,_0x7cee7e,_0x242c84,_0x688dbe,!![],_0x4f0ce8)['then'](_0x4504f2=>{const _0x487971=_0x455a2b;_0x242c84[_0x487971(0x1e1)](_0x487971(0x1e9)),_0x4403eb(_0x4504f2);})[_0x455a2b(0x1da)](_0x4f5deb=>{_0x242c84['log']('Error\x20Pack\x20Retry\x20'+_0x4f5deb),_0x422179(_0x4f5deb);});}catch(_0x252cd1){_0x422179(_0x252cd1);}});}function isNeedToDeploy(_0x1701db,_0x3aeb9a){return new Promise((_0x48300d,_0x138aff)=>{const _0x18e5ed=a37_0x1da2;try{fs[_0x18e5ed(0x1cd)](_0x1701db+'/'+constants[_0x18e5ed(0x1e8)])?(_0x3aeb9a[_0x18e5ed(0x1e1)](_0x18e5ed(0x1e6)),_0x48300d(!![])):(_0x3aeb9a[_0x18e5ed(0x1e1)](_0x18e5ed(0x1f7)),_0x48300d(![]));}catch(_0x2197b0){_0x3aeb9a['log'](_0x18e5ed(0x1f3)+_0x2197b0),_0x138aff(_0x2197b0);}});}function callUpdateSnapshot(_0x301ff8,_0x1aad25,_0xe9b234,_0xce5d17,_0xb4839e,_0x1cffc4){return new Promise((_0xfaedfb,_0x3dbc2e)=>{const _0x5e207a=a37_0x1da2;try{const _0x4d8346=new jsForce[(_0x5e207a(0x1ef))]({'accessToken':_0x1aad25,'instanceUrl':_0xe9b234});_0x1cffc4['log'](_0x5e207a(0x1e5));const _0x564057={'Id':_0xce5d17,[_0xb4839e+'Is_Completed__c']:!![]};if(fs[_0x5e207a(0x1cd)](_0x301ff8+'/'+constants['NAME_LOGS_FILE'])){const _0x35f1c6=yaml[_0x5e207a(0x1f4)](fs[_0x5e207a(0x1cb)](_0x301ff8+'/'+constants[_0x5e207a(0x1f5)],_0x5e207a(0x1dc)));_0x35f1c6['Errors']&&(_0x564057[_0xb4839e+_0x5e207a(0x1fe)]=_0x35f1c6[_0x5e207a(0x1cc)][_0x5e207a(0x1e0)]>0x0);}else _0x564057[_0xb4839e+_0x5e207a(0x1fe)]=![];_0x4d8346['sobject'](_0xb4839e+'Snapshot_Vlocity__c')[_0x5e207a(0x1f8)](_0x564057)['then'](()=>{const _0x178aa1=_0x5e207a;_0x1cffc4[_0x178aa1(0x1e1)](_0x178aa1(0x1d2)),_0xfaedfb();})[_0x5e207a(0x1da)](_0x4e4322=>{_0x1cffc4['log']('Error\x20Update\x20Snapshot'),_0x3dbc2e(_0x4e4322);});}catch(_0xc3f669){_0x1cffc4[_0x5e207a(0x1e1)]('Error\x20Update\x20Snapshot'),_0x3dbc2e(_0xc3f669);}});}function getTime(){const _0x1c4090=a37_0x1b1b28,_0x23f7a0=new Date(),_0x391815=[_0x23f7a0[_0x1c4090(0x1f0)](),_0x23f7a0['getMonth']()+0x1,_0x23f7a0[_0x1c4090(0x1fc)](),_0x23f7a0[_0x1c4090(0x1d5)](),_0x23f7a0[_0x1c4090(0x1e2)](),_0x23f7a0[_0x1c4090(0x200)]()];return _0x391815[_0x1c4090(0x1f6)](_0x3cb536=>_0x3cb536=_0x3cb536['toString']()[_0x1c4090(0x1dd)](/^([0-9])$/,_0x1c4090(0x1ff))),_0x391815[0x2]+'-'+_0x391815[0x1]+'-'+_0x391815[0x0]+'\x20'+_0x391815[0x3]+':'+_0x391815[0x4]+':'+_0x391815[0x5];}module[a37_0x1b1b28(0x1de)]={'unzipVlocityTemp':unzipVlocityTemp,'callUpdateSnapshot':callUpdateSnapshot,'packRetry':packRetry,'getTime':getTime,'isNeedToDeploy':isNeedToDeploy};