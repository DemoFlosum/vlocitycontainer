function a28_0x274a(){const _0x96ec60=['then','6296utTTIf','---\x20body','zip','jsforce','resolve','snapshotType','Connection','2989413dBWgZu','catch','logId','../../../services/http','unzipVlocityTemp','join','vlocityTempAttachmentId','10501407KykZrg','flosumUrl','packRetry','3596600vITzpR','removeProject','timestamp','deployComponents','240qaDCwj','createProjectDirectory','../../../services/storage','stringify','54CNYyvX','completeDeployment','isNeedToDeploy','vlocityUrl','460028ysiqmn','vlocityTempZip','tmpPath','path','123756xQmJjA','nameSpacePrefix','prepareDataForDeploy','57966SCGjbq'];a28_0x274a=function(){return _0x96ec60;};return a28_0x274a();}const a28_0x496af0=a28_0x17ec;(function(_0x18dd66,_0x53914f){const _0x18c578=a28_0x17ec,_0x3dbc5b=_0x18dd66();while(!![]){try{const _0x7dbf75=-parseInt(_0x18c578(0x117))/0x1+-parseInt(_0x18c578(0x113))/0x2*(parseInt(_0x18c578(0x11e))/0x3)+parseInt(_0x18c578(0x120))/0x4*(parseInt(_0x18c578(0x10f))/0x5)+-parseInt(_0x18c578(0x11b))/0x6+-parseInt(_0x18c578(0x101))/0x7+parseInt(_0x18c578(0x10b))/0x8+parseInt(_0x18c578(0x108))/0x9;if(_0x7dbf75===_0x53914f)break;else _0x3dbc5b['push'](_0x3dbc5b['shift']());}catch(_0x56b549){_0x3dbc5b['push'](_0x3dbc5b['shift']());}}}(a28_0x274a,0x4018f));const jsForce=require(a28_0x496af0(0x123)),storage=require(a28_0x496af0(0x111)),helper=require('./helper'),http=require(a28_0x496af0(0x104)),{RetrieveHelper}=require('../retrieve/helper'),path=require(a28_0x496af0(0x11a)),{pathConfig}=require('../../../config/path');function a28_0x17ec(_0x55d967,_0x544b00){const _0x274ab0=a28_0x274a();return a28_0x17ec=function(_0x17eca3,_0x186b15){_0x17eca3=_0x17eca3-0x100;let _0x337953=_0x274ab0[_0x17eca3];return _0x337953;},a28_0x17ec(_0x55d967,_0x544b00);}function packRetry(_0x5ada7e,_0x173b51){return new Promise((_0x13b61f,_0x2bfdd4)=>{const _0x128b4e=a28_0x17ec,_0x1304c9=JSON['parse'](JSON[_0x128b4e(0x112)](_0x5ada7e));_0x1304c9[_0x128b4e(0x118)]=_0x128b4e(0x122),console['log'](_0x128b4e(0x121)),console['log'](_0x1304c9);const _0x207c07=_0x5ada7e[_0x128b4e(0x109)],_0x5450e0=_0x5ada7e['flosumToken'],_0x4e88aa=_0x5ada7e[_0x128b4e(0x116)],_0x4bfe3b=_0x5ada7e['vlocityToken'],_0x612238=_0x5ada7e[_0x128b4e(0x103)],_0x482535=_0x5ada7e['attachLogId'],_0x53feee=_0x5ada7e[_0x128b4e(0x10d)],_0x1f2b70=_0x5ada7e[_0x128b4e(0x11c)],_0x1283e6=_0x5ada7e[_0x128b4e(0x125)],_0x32e118=_0x5ada7e['snapshotId'];let _0x4ba54b=![],_0x505183;_0x5ada7e['vlocityTempZip']||_0x5ada7e['vlocityTempAttachmentId']?_0x505183=_0x1283e6+'_'+_0x53feee+'_'+_0x482535:(_0x4ba54b=!![],_0x505183=_0x5ada7e['projectName']);const _0x1adf92=path[_0x128b4e(0x106)](pathConfig[_0x128b4e(0x119)],_0x505183),_0x59ec1b=new RetrieveHelper(_0x1adf92,{'snapshotId':_0x32e118,'nameSpacePrefix':_0x1f2b70,'logId':_0x612238,'attachLogId':_0x482535,'authFlosum':{'instanceUrl':_0x207c07,'accessToken':_0x5450e0},'authVlosityOrg':{'instanceUrl':_0x4e88aa,'accessToken':_0x4bfe3b},'selectedDataPackTypes':'[]'},_0x173b51),_0x431c72=new jsForce[(_0x128b4e(0x100))]({'instanceUrl':_0x207c07,'accessToken':_0x5450e0});Promise[_0x128b4e(0x124)]()[_0x128b4e(0x11f)](()=>{const _0xb01a7d=_0x128b4e;let _0x23ec97=Promise['resolve']();return!_0x4ba54b&&(_0x23ec97=_0x23ec97[_0xb01a7d(0x11f)](()=>storage[_0xb01a7d(0x110)](_0x1adf92)),_0x5ada7e[_0xb01a7d(0x118)]?_0x23ec97=_0x23ec97[_0xb01a7d(0x11f)](()=>helper[_0xb01a7d(0x105)](_0x1adf92,_0x5ada7e[_0xb01a7d(0x118)],_0x173b51)):_0x23ec97=_0x23ec97['then'](()=>http['getAttachmentBody'](_0x431c72,_0x5ada7e[_0xb01a7d(0x107)],_0x173b51,![]))[_0xb01a7d(0x11f)](_0x2feb2f=>helper[_0xb01a7d(0x105)](_0x1adf92,_0x2feb2f,_0x173b51))),_0x23ec97;})[_0x128b4e(0x11f)](()=>helper[_0x128b4e(0x10a)](_0x1adf92,_0x4e88aa,_0x4bfe3b,_0x431c72,_0x482535,_0x173b51))['then'](()=>helper[_0x128b4e(0x115)](_0x1adf92,_0x173b51))[_0x128b4e(0x11f)](_0x2c6bc8=>{const _0x571cac=_0x128b4e;if(_0x2c6bc8)return _0x59ec1b[_0x571cac(0x11d)]()[_0x571cac(0x11f)](_0x362515=>_0x59ec1b[_0x571cac(0x10e)](_0x362515));return Promise[_0x571cac(0x124)]();})[_0x128b4e(0x11f)](()=>{const _0x2517b=_0x128b4e;if(_0x4ba54b)_0x13b61f();else return Promise[_0x2517b(0x124)]()[_0x2517b(0x11f)](()=>_0x59ec1b['completeDeployment'](!![]))[_0x2517b(0x102)](_0x7dfb04=>{const _0x2806ed=_0x2517b;_0x59ec1b[_0x2806ed(0x114)](!![],!![])[_0x2806ed(0x11f)](()=>_0x2bfdd4(_0x7dfb04))[_0x2806ed(0x102)](_0x2c9ae0=>_0x2bfdd4(_0x7dfb04+'\x0a'+_0x2c9ae0));})[_0x2517b(0x11f)](()=>storage[_0x2517b(0x10c)](_0x1adf92,_0x173b51));});});}module['exports']={'packRetry':packRetry};