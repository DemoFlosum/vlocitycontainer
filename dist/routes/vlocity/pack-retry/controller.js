function a34_0x3af2(_0x517289,_0x1d83cf){const _0x220684=a34_0x2206();return a34_0x3af2=function(_0x3af218,_0x267fea){_0x3af218=_0x3af218-0xdf;let _0x4d848a=_0x220684[_0x3af218];return _0x4d848a;},a34_0x3af2(_0x517289,_0x1d83cf);}function a34_0x2206(){const _0x479288=['exports','catch','stringify','projectName','jsforce','then','6573699HrrJPp','vlocityTempAttachmentId','join','path','39355GvyiaN','3350080tUbnaE','../retrieve/helper','1601985Gnmmdr','vlocityUrl','../../../services/http','15786qspAdb','../../../config/path','isNeedToDeploy','attachLogId','snapshotId','228WgDAZd','parse','zip','vlocityToken','resolve','unzipVlocityTemp','1017056BiAzLv','logId','deployComponents','packRetry','flosumUrl','56HWiGAC','vlocityTempZip','tmpPath','createProjectDirectory','nameSpacePrefix','removeProject','./helper','getAttachmentBody','3649877NHpkBn','Connection'];a34_0x2206=function(){return _0x479288;};return a34_0x2206();}const a34_0x3cb6cc=a34_0x3af2;(function(_0x370a95,_0x5a2413){const _0x1ef44b=a34_0x3af2,_0x1e2eb0=_0x370a95();while(!![]){try{const _0x3ffead=-parseInt(_0x1ef44b(0xee))/0x1*(-parseInt(_0x1ef44b(0x108))/0x2)+parseInt(_0x1ef44b(0x105))/0x3+parseInt(_0x1ef44b(0xe9))/0x4+-parseInt(_0x1ef44b(0x102))/0x5*(parseInt(_0x1ef44b(0xe3))/0x6)+parseInt(_0x1ef44b(0xf6))/0x7+-parseInt(_0x1ef44b(0x103))/0x8+-parseInt(_0x1ef44b(0xfe))/0x9;if(_0x3ffead===_0x5a2413)break;else _0x1e2eb0['push'](_0x1e2eb0['shift']());}catch(_0x54c24f){_0x1e2eb0['push'](_0x1e2eb0['shift']());}}}(a34_0x2206,0x4a131));const jsForce=require(a34_0x3cb6cc(0xfc)),storage=require('../../../services/storage'),helper=require(a34_0x3cb6cc(0xf4)),http=require(a34_0x3cb6cc(0x107)),{RetrieveHelper}=require(a34_0x3cb6cc(0x104)),path=require(a34_0x3cb6cc(0x101)),{pathConfig}=require(a34_0x3cb6cc(0xdf));function packRetry(_0x1ef24d,_0x56494a){return new Promise((_0x4f5097,_0x39d70)=>{const _0x3f77ec=a34_0x3af2,_0x384ab3=JSON[_0x3f77ec(0xe4)](JSON[_0x3f77ec(0xfa)](_0x1ef24d));_0x384ab3[_0x3f77ec(0xef)]=_0x3f77ec(0xe5),console['log']('---\x20body'),console['log'](_0x384ab3);const _0x15424b=_0x1ef24d[_0x3f77ec(0xed)],_0x51117e=_0x1ef24d['flosumToken'],_0x11cd24=_0x1ef24d[_0x3f77ec(0x106)],_0x28de94=_0x1ef24d[_0x3f77ec(0xe6)],_0x2d8d7c=_0x1ef24d[_0x3f77ec(0xea)],_0x461416=_0x1ef24d[_0x3f77ec(0xe1)],_0x5f0fb3=_0x1ef24d['timestamp'],_0x334a9d=_0x1ef24d[_0x3f77ec(0xf2)],_0x378525=_0x1ef24d['snapshotType'],_0x416eda=_0x1ef24d[_0x3f77ec(0xe2)];let _0x536f8f=![],_0x115a9b;_0x1ef24d[_0x3f77ec(0xef)]||_0x1ef24d[_0x3f77ec(0xff)]?_0x115a9b=_0x378525+'_'+_0x5f0fb3+'_'+_0x461416:(_0x536f8f=!![],_0x115a9b=_0x1ef24d[_0x3f77ec(0xfb)]);const _0x78e851=path[_0x3f77ec(0x100)](pathConfig[_0x3f77ec(0xf0)],_0x115a9b),_0x223a0e=new RetrieveHelper(_0x78e851,{'snapshotId':_0x416eda,'nameSpacePrefix':_0x334a9d,'logId':_0x2d8d7c,'attachLogId':_0x461416,'authFlosum':{'instanceUrl':_0x15424b,'accessToken':_0x51117e},'authVlosityOrg':{'instanceUrl':_0x11cd24,'accessToken':_0x28de94},'selectedDataPackTypes':'[]'},_0x56494a),_0x10f955=new jsForce[(_0x3f77ec(0xf7))]({'instanceUrl':_0x15424b,'accessToken':_0x51117e});Promise['resolve']()[_0x3f77ec(0xfd)](()=>{const _0x3f47fa=_0x3f77ec;let _0x169509=Promise['resolve']();return!_0x536f8f&&(_0x169509=_0x169509[_0x3f47fa(0xfd)](()=>storage[_0x3f47fa(0xf1)](_0x78e851)),_0x1ef24d[_0x3f47fa(0xef)]?_0x169509=_0x169509[_0x3f47fa(0xfd)](()=>helper[_0x3f47fa(0xe8)](_0x78e851,_0x1ef24d['vlocityTempZip'],_0x56494a)):_0x169509=_0x169509['then'](()=>http[_0x3f47fa(0xf5)](_0x10f955,_0x1ef24d[_0x3f47fa(0xff)],_0x56494a,![]))[_0x3f47fa(0xfd)](_0x17bd8e=>helper[_0x3f47fa(0xe8)](_0x78e851,_0x17bd8e,_0x56494a))),_0x169509;})['then'](()=>helper[_0x3f77ec(0xec)](_0x78e851,_0x11cd24,_0x28de94,_0x10f955,_0x461416,_0x56494a))['then'](()=>helper[_0x3f77ec(0xe0)](_0x78e851,_0x56494a))[_0x3f77ec(0xfd)](_0x6d8dff=>{const _0x528e01=_0x3f77ec;if(_0x6d8dff)return _0x223a0e['prepareDataForDeploy']()[_0x528e01(0xfd)](_0x415ce1=>_0x223a0e[_0x528e01(0xeb)](_0x415ce1));return Promise[_0x528e01(0xe7)]();})[_0x3f77ec(0xfd)](()=>{const _0x4bc019=_0x3f77ec;if(_0x536f8f)_0x4f5097();else return Promise[_0x4bc019(0xe7)]()['then'](()=>_0x223a0e['completeDeployment'](!![]))[_0x4bc019(0xf9)](_0x115c23=>{const _0x82dc29=_0x4bc019;_0x223a0e['completeDeployment'](!![],!![])['then'](()=>_0x39d70(_0x115c23))[_0x82dc29(0xf9)](_0x187a81=>_0x39d70(_0x115c23+'\x0a'+_0x187a81));})[_0x4bc019(0xfd)](()=>storage[_0x4bc019(0xf3)](_0x78e851,_0x56494a));});});}module[a34_0x3cb6cc(0xf8)]={'packRetry':packRetry};