const a18_0x42292e=a18_0x66ac;(function(_0x3a151b,_0x1132fd){const _0x268d1a=a18_0x66ac,_0x4ff5dc=_0x3a151b();while(!![]){try{const _0x4ef6e5=-parseInt(_0x268d1a(0xd1))/0x1+parseInt(_0x268d1a(0xe6))/0x2+-parseInt(_0x268d1a(0xee))/0x3+parseInt(_0x268d1a(0xf9))/0x4+parseInt(_0x268d1a(0xd2))/0x5*(parseInt(_0x268d1a(0xd6))/0x6)+-parseInt(_0x268d1a(0xeb))/0x7*(parseInt(_0x268d1a(0xd9))/0x8)+-parseInt(_0x268d1a(0xca))/0x9;if(_0x4ef6e5===_0x1132fd)break;else _0x4ff5dc['push'](_0x4ff5dc['shift']());}catch(_0x31c0b7){_0x4ff5dc['push'](_0x4ff5dc['shift']());}}}(a18_0x17d5,0x730f0));function a18_0x66ac(_0x356840,_0x374179){const _0x17d5ee=a18_0x17d5();return a18_0x66ac=function(_0x66ac46,_0x3cd291){_0x66ac46=_0x66ac46-0xc9;let _0x8e81e6=_0x17d5ee[_0x66ac46];return _0x8e81e6;},a18_0x66ac(_0x356840,_0x374179);}const jsForce=require(a18_0x42292e(0xde)),helper=require(a18_0x42292e(0xcb)),http=require(a18_0x42292e(0xf8)),storage=require('../../../services/storage'),constants=require('../../../constants'),path=require(a18_0x42292e(0xe7)),{pathConfig}=require('../../../config/path');function a18_0x17d5(){const _0x296a4f=['instanceUrl','isSeparateMatrixVersions','createProjectDirectory','401087YQAQKv','450690caVfFc','tmpPath','apexCode','getTime','24sHBSye','/GetVlocityComponents/','snapshotType','22424QoPsLh','authFlosum','deployData','deploymentId','/Flosum/GetVlocityComponents/','jsforce','isSeparateCalculationProcedureVersions','authVlosityOrg','catch','removeProject','readLogFile','VLOCITY_APEX_PATH','attachLogId','745616Hdkfyj','path','createApex','apex','\x0aError\x20:\x20','1477DnrmFD','callUpdateInfo','createJobFileDeploy','30324knOwgw','then','join','\x0apostJobApex:\x20apex','unzipComponentList','valueOf','/apex','UNZIP_CATALOG_NAME','logId','Error\x20Date:\x20','../../../services/http','3765760TADsxZ','log','resolve','Connection','1808028mXBgbk','./helper','projectPath:\x20./','.cls'];a18_0x17d5=function(){return _0x296a4f;};return a18_0x17d5();}function deployFromDeployment(_0x26c2a0,_0x90b774){return new Promise((_0x4bf053,_0x54c1b2)=>{const _0xdc785c=a18_0x66ac;try{console[_0xdc785c(0xfa)]('---\x20body'),console[_0xdc785c(0xfa)](_0x26c2a0);const _0x22c22e=_0x26c2a0[_0xdc785c(0xda)][_0xdc785c(0xce)],_0x15b5f3=_0x26c2a0[_0xdc785c(0xda)]['accessToken'],_0x117d50=_0x26c2a0['authVlosityOrg'][_0xdc785c(0xce)],_0x3c2c0a=_0x26c2a0[_0xdc785c(0xe0)]['accessToken'],_0x10806f=_0x26c2a0['logId'],_0x29d5f7=_0x26c2a0[_0xdc785c(0xe5)],_0x2f3d2b=new Date()[_0xdc785c(0xf3)](),_0x299283=_0x26c2a0[_0xdc785c(0xd8)]+'_'+_0x2f3d2b+'_'+_0x26c2a0[_0xdc785c(0xf6)],_0x446855=_0x26c2a0[_0xdc785c(0xda)],_0x3671dc=_0x26c2a0['nameSpacePrefix'],_0x320f59=_0x26c2a0[_0xdc785c(0xdc)],_0x2e9d27=_0x26c2a0[_0xdc785c(0xcf)],_0x21076f=_0x26c2a0[_0xdc785c(0xdf)],_0x7d01d8=!!_0x26c2a0['isEnabledApexPostDeploy'],_0x3f9bcd=_0x26c2a0[_0xdc785c(0xd4)],_0x246b20=_0x3671dc===''?_0xdc785c(0xd7):_0xdc785c(0xdd);let _0x54b539=_0xdc785c(0xcc)+constants[_0xdc785c(0xf5)];const _0x39e5f0=new jsForce[(_0xdc785c(0xc9))](_0x446855);_0x7d01d8&&(_0x54b539+=_0xdc785c(0xf1)+_0x2f3d2b+_0xdc785c(0xcd));const _0xee8c46=path[_0xdc785c(0xf0)](pathConfig[_0xdc785c(0xd3)],_0x299283),_0x5803e6='./'+constants[_0xdc785c(0xe4)]+_0xdc785c(0xf4)+_0x2f3d2b+_0xdc785c(0xcd);storage[_0xdc785c(0xd0)](_0xee8c46)[_0xdc785c(0xef)](()=>_0x7d01d8?storage[_0xdc785c(0xe8)](_0x5803e6,_0x3f9bcd,_0x90b774):Promise['resolve']())['then'](()=>storage[_0xdc785c(0xed)](_0xee8c46,_0x54b539,_0x90b774))[_0xdc785c(0xef)](()=>helper['retrieveSourceComponents'](_0x39e5f0,_0x3671dc,_0x320f59,_0x90b774))[_0xdc785c(0xef)](_0x6c71e1=>helper['retrieveVlocityAttachments'](_0x39e5f0,_0x246b20,_0x6c71e1,_0x90b774))['then'](_0xd649a=>helper[_0xdc785c(0xf2)](_0xd649a,_0xee8c46,_0x90b774))['then'](()=>helper[_0xdc785c(0xdb)](_0xee8c46,_0x117d50,_0x3c2c0a,_0x2e9d27,_0x21076f,_0x7d01d8,_0xdc785c(0xe9)+_0x2f3d2b+_0xdc785c(0xcd),_0x90b774))[_0xdc785c(0xef)](()=>storage[_0xdc785c(0xe3)](_0xee8c46,helper['getTime'](),_0x90b774))[_0xdc785c(0xef)](_0x370317=>http[_0xdc785c(0xec)](_0x22c22e,_0x15b5f3,_0x10806f,_0x3671dc,_0x29d5f7,_0x370317,!![],_0x90b774))['catch'](_0x1b24b5=>{const _0x19525a=_0xdc785c;http[_0x19525a(0xec)](_0x22c22e,_0x15b5f3,_0x10806f,_0x3671dc,_0x29d5f7,_0x19525a(0xf7)+helper[_0x19525a(0xd5)]()+_0x19525a(0xea)+_0x1b24b5,![],_0x90b774,!![])[_0x19525a(0xef)](()=>_0x54c1b2(_0x1b24b5))[_0x19525a(0xe1)](_0x53c8b3=>_0x54c1b2(_0x1b24b5+'\x0a'+_0x53c8b3));})['then'](()=>_0x7d01d8?storage['removeFile'](_0x5803e6,_0x90b774):Promise[_0xdc785c(0xfb)]())[_0xdc785c(0xef)](()=>storage[_0xdc785c(0xe2)](_0xee8c46,_0x90b774));}catch(_0x5aa53c){_0x54c1b2(_0x5aa53c);}});}module['exports']={'deployFromDeployment':deployFromDeployment};