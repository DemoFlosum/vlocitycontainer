const a26_0x29f91a=a26_0x1e07;(function(_0x4cb31e,_0x501669){const _0x5923ae=a26_0x1e07,_0x451724=_0x4cb31e();while(!![]){try{const _0x426ddc=-parseInt(_0x5923ae(0x113))/0x1*(parseInt(_0x5923ae(0x120))/0x2)+parseInt(_0x5923ae(0xeb))/0x3*(-parseInt(_0x5923ae(0xfc))/0x4)+parseInt(_0x5923ae(0xfe))/0x5*(-parseInt(_0x5923ae(0x11c))/0x6)+parseInt(_0x5923ae(0xff))/0x7+parseInt(_0x5923ae(0x10c))/0x8*(parseInt(_0x5923ae(0xe1))/0x9)+parseInt(_0x5923ae(0xee))/0xa+parseInt(_0x5923ae(0x121))/0xb*(-parseInt(_0x5923ae(0x105))/0xc);if(_0x426ddc===_0x501669)break;else _0x451724['push'](_0x451724['shift']());}catch(_0x31c4a2){_0x451724['push'](_0x451724['shift']());}}}(a26_0x5678,0xae77c));const fs=require('fs'),AdmZip=require(a26_0x29f91a(0x11d)),path=require(a26_0x29f91a(0x10a)),childProcess=require(a26_0x29f91a(0x118)),constants=require(a26_0x29f91a(0xf3));function retrieveSourceComponents(_0x33221f,_0x2869c0,_0x46efcb,_0x4e56fd){return new Promise((_0x524ddc,_0x1e0771)=>{const _0x1c9a91=a26_0x1e07;try{_0x4e56fd[_0x1c9a91(0x107)](_0x1c9a91(0xed));const _0x3c4b9a=[];_0x33221f[_0x1c9a91(0x115)](_0x1c9a91(0x11e)+_0x2869c0+_0x1c9a91(0x10b)+_0x2869c0+_0x1c9a91(0xf4)+_0x46efcb+'\x27',(_0x52f00a,_0xa87dce)=>{const _0x4599fb=_0x1c9a91;_0x52f00a&&_0x1e0771(_0x52f00a),_0xa87dce[_0x4599fb(0x102)][_0x4599fb(0xe0)](_0x2c9a69=>_0x3c4b9a[_0x4599fb(0xe5)](_0x2c9a69['Id'])),!_0xa87dce[_0x4599fb(0xdf)]?retrieveSourceComponentsMore(_0x33221f,_0xa87dce['nextRecordsUrl'],_0x3c4b9a)[_0x4599fb(0xf5)](_0x28731f=>{const _0x4553ca=_0x4599fb;_0x4e56fd[_0x4553ca(0x107)](_0x4553ca(0x103)+_0x28731f[_0x4553ca(0xe3)]),_0x4e56fd[_0x4553ca(0x107)](_0x4553ca(0xf9)),_0x524ddc(_0x28731f);})[_0x4599fb(0xfd)](_0x14d5ff=>{const _0x40280d=_0x4599fb;_0x4e56fd[_0x40280d(0x107)](_0x40280d(0xf1)),_0x1e0771(_0x14d5ff);}):(_0x4e56fd[_0x4599fb(0x107)]('Component\x20Id\x20List\x20Length,\x20'+_0x3c4b9a[_0x4599fb(0xe3)]),_0x4e56fd['log'](_0x4599fb(0xf9)),_0x524ddc(_0x3c4b9a));});}catch(_0x30d2a6){_0x4e56fd[_0x1c9a91(0x107)](_0x1c9a91(0xf1)),_0x1e0771(_0x30d2a6);}});}function a26_0x1e07(_0x39a934,_0x525a74){const _0x567879=a26_0x5678();return a26_0x1e07=function(_0x1e07be,_0x108589){_0x1e07be=_0x1e07be-0xde;let _0x526205=_0x567879[_0x1e07be];return _0x526205;},a26_0x1e07(_0x39a934,_0x525a74);}function retrieveSourceComponentsMore(_0x5c2446,_0x1e67e1,_0x5783f6){return new Promise((_0x392520,_0xb206d2)=>{const _0x1ff21b=a26_0x1e07;try{_0x5c2446[_0x1ff21b(0xe9)](_0x1e67e1)[_0x1ff21b(0xf5)](_0x1ff758=>{const _0x30b806=_0x1ff21b;!_0x1ff758[_0x30b806(0xdf)]?retrieveSourceComponentsMore(_0x5c2446,_0x1e67e1,_0x5783f6)[_0x30b806(0xf5)](_0x2564c6=>_0x392520(_0x2564c6))[_0x30b806(0xfd)](_0x8f4d43=>_0xb206d2(_0x8f4d43)):_0x392520(_0x5783f6);});}catch(_0x39d65b){_0xb206d2(_0x39d65b);}});}function retrieveVlocityAttachments(_0x5e3c24,_0x299313,_0x6cee26,_0x333781,_0x49e426=[]){return new Promise((_0x2dc641,_0x18d6b7)=>{const _0x226bef=a26_0x1e07;try{_0x333781[_0x226bef(0x107)](_0x226bef(0x110)),callRetrieveVlocityAttachments(_0x5e3c24,_0x299313,_0x6cee26,_0x6cee26[_0x226bef(0xe3)],_0x333781,_0x49e426=[])['then'](_0x13108c=>{const _0x45c673=_0x226bef;_0x333781[_0x45c673(0x107)](_0x45c673(0x106)),_0x2dc641(_0x13108c);})[_0x226bef(0xfd)](_0x3890e8=>{const _0x5a0b24=_0x226bef;_0x333781[_0x5a0b24(0x107)](_0x5a0b24(0xfa)),_0x18d6b7(_0x3890e8);});}catch(_0x5b34ca){_0x333781[_0x226bef(0x107)]('Error\x20Retrieve\x20Vlocity\x20Attachments'),_0x18d6b7(_0x5b34ca);}});}function callRetrieveVlocityAttachments(_0x16be8b,_0x4b3e0d,_0x1ff0f6,_0x2b1afd,_0x2c6ce3,_0x1c44bd=[]){return new Promise((_0x167d95,_0x993691)=>{const _0x2bb3e8=a26_0x1e07;try{const _0x4d420b={'parentIds':_0x1ff0f6};_0x16be8b['apex'][_0x2bb3e8(0x119)](_0x4b3e0d,_0x4d420b)[_0x2bb3e8(0xf5)](_0x12cccf=>{const _0x22053c=_0x2bb3e8;_0x1c44bd['push'](..._0x12cccf['records']),_0x2c6ce3[_0x22053c(0x107)](_0x22053c(0xe4)+Number['parseFloat'](_0x1c44bd[_0x22053c(0xe3)]/_0x2b1afd*0x64)[_0x22053c(0x116)](0x2)+'%'),_0x12cccf[_0x22053c(0xf0)][_0x22053c(0xe3)]&&_0x1ff0f6['length']!==_0x1c44bd[_0x22053c(0xe3)]?callRetrieveVlocityAttachments(_0x16be8b,_0x4b3e0d,_0x12cccf[_0x22053c(0xf0)],_0x2b1afd,_0x2c6ce3,_0x1c44bd)[_0x22053c(0xf5)](()=>_0x167d95(_0x1c44bd))['catch'](_0x51f5ab=>{_0x993691(_0x51f5ab);}):_0x167d95(_0x1c44bd);})[_0x2bb3e8(0xfd)](_0x1a2c9d=>{_0x993691(_0x1a2c9d);});}catch(_0x4f2ccd){_0x993691(_0x4f2ccd);}});}function a26_0x5678(){const _0x153581=['-job','Start\x20Retrieve\x20Vlocity\x20Attachments','getMinutes','JOB_FILE_NAME','22039kCdrMC','Start\x20Deploy\x20Data','query','toFixed','-separateCalculationProcedureVersions','../../../services/child-process','post','getSeconds','-separateMatrixVersions','294522AakieZ','adm-zip','SELECT\x20Id\x20FROM\x20','slice','8CnlVNw','762421kCyAVj','Error\x20Deploy\x20Data\x20','done','forEach','63qWOIuR','vlocity','length','Retrieved:\x20','push','extractAllTo','-autoRetryErrors','replace','queryMore','End\x20Deploy\x20Data','84183yaSjgc','Start\x20Unzip\x20Component\x20List','Start\x20Retrieve\x20Components\x20Ids','3554100UstVfH','Error\x20Unzip\x20Component\x20List\x20','ids','Error\x20Retrieve\x20Components\x20Ids','resolve','../../../constants','Patch__c\x20=\x20\x27','then','-sf.accessToken','from','-sf.instanceUrl','End\x20Retrieve\x20Components\x20Ids','Error\x20Retrieve\x20Vlocity\x20Attachments','getMonth','164TnpnZh','catch','25oJbVoR','7590023cvBaWi','0$1','UNZIP_CATALOG_NAME','records','Component\x20Id\x20List\x20Length,\x20','callChildProcess','12ugjOaD','End\x20Retrieve\x20Vlocity\x20Attachments','log','join','toString','path','Patch_Manifest__c\x20WHERE\x20','946656zmqgIM','End\x20Unzip\x20Component\x20List','base64'];a26_0x5678=function(){return _0x153581;};return a26_0x5678();}function unzipComponentList(_0x428b5a,_0x403bbf,_0x731bb){return new Promise((_0xd07bc2,_0x3fd1e9)=>{const _0x2121ca=a26_0x1e07;try{_0x731bb[_0x2121ca(0x107)](_0x2121ca(0xec));let _0x32ee63=Promise[_0x2121ca(0xf2)]();_0x428b5a[_0x2121ca(0xe0)](_0x19c97a=>{_0x32ee63=_0x32ee63['then'](()=>unzipBuffer(_0x19c97a,_0x403bbf));}),_0x32ee63[_0x2121ca(0xf5)](()=>{const _0x5388ae=_0x2121ca;_0x731bb['log'](_0x5388ae(0x10d)),_0xd07bc2();})[_0x2121ca(0xfd)](_0xa5c168=>{_0x731bb['log']('Error\x20Unzip\x20Component\x20List\x20'+_0xa5c168),_0x3fd1e9(_0xa5c168);});}catch(_0x5171e3){_0x731bb[_0x2121ca(0x107)](_0x2121ca(0xef)+_0x5171e3),_0x3fd1e9(_0x5171e3);}});}function unzipBuffer(_0x53623a,_0x3b607d){return new Promise((_0x10f998,_0x157584)=>{const _0x52b134=a26_0x1e07;try{const _0x119a44=new AdmZip(Buffer[_0x52b134(0xf7)](_0x53623a,_0x52b134(0x10e))),_0x60f783=_0x3b607d+'/'+constants[_0x52b134(0x101)];_0x119a44[_0x52b134(0xe6)](_0x60f783,![]),_0x10f998();}catch(_0x3f7b28){_0x157584(_0x3f7b28);}});}function deployData(_0x2bffb9,_0xd1173c,_0x1bab1f,_0x1a2b9c,_0x265649,_0x47f026,_0x2db227,_0x569cb0){return new Promise((_0x47d309,_0x3930dd)=>{const _0x37b9fe=a26_0x1e07;try{_0x569cb0[_0x37b9fe(0x107)](_0x37b9fe(0x114));const _0x215e2b=_0x37b9fe(0xe2),_0x4dd1c6=[_0x37b9fe(0xf6),''+_0x1bab1f,_0x37b9fe(0xf8),''+_0xd1173c,_0x37b9fe(0x10f),''+constants[_0x37b9fe(0x112)],_0x37b9fe(0xe7)];!!_0x1a2b9c&&_0x4dd1c6['push'](_0x37b9fe(0x11b));!!_0x265649&&_0x4dd1c6['push'](_0x37b9fe(0x117));_0x4dd1c6['push']('packDeploy');_0x47f026&&(_0x4dd1c6[_0x37b9fe(0xe5)]('runApex'),_0x4dd1c6[_0x37b9fe(0xe5)]('-apex'),_0x4dd1c6[_0x37b9fe(0xe5)](_0x2db227));_0x569cb0[_0x37b9fe(0x107)](_0x4dd1c6[_0x37b9fe(0x11f)](0x2)[_0x37b9fe(0x108)]('\x20'));const _0xceb1c5={'cwd':_0x2bffb9,'maxBuffer':0x400*0x1f4};childProcess[_0x37b9fe(0x104)](_0x215e2b,_0x4dd1c6,_0x569cb0,_0xceb1c5)[_0x37b9fe(0xf5)](_0x3ec79d=>{const _0x58ef46=_0x37b9fe;_0x569cb0[_0x58ef46(0x107)](_0x58ef46(0xea)),_0x47d309(_0x3ec79d);})[_0x37b9fe(0xfd)](_0x20a513=>{const _0x23177b=_0x37b9fe;_0x569cb0['log'](_0x23177b(0xde)+_0x20a513),_0x3930dd(_0x20a513);});}catch(_0x2b0483){_0x3930dd(_0x2b0483);}});}function getTime(){const _0x1499e7=a26_0x29f91a,_0x525427=new Date(),_0xde5b98=[_0x525427['getDate'](),_0x525427[_0x1499e7(0xfb)]()+0x1,_0x525427['getFullYear'](),_0x525427['getHours'](),_0x525427[_0x1499e7(0x111)](),_0x525427[_0x1499e7(0x11a)]()];return _0xde5b98[_0x1499e7(0xe0)](_0x114d85=>_0x114d85=_0x114d85[_0x1499e7(0x109)]()[_0x1499e7(0xe8)](/^([0-9])$/,_0x1499e7(0x100))),_0xde5b98[0x2]+'-'+_0xde5b98[0x1]+'-'+_0xde5b98[0x0]+'\x20'+_0xde5b98[0x3]+':'+_0xde5b98[0x4]+':'+_0xde5b98[0x5];}module['exports']={'retrieveSourceComponents':retrieveSourceComponents,'retrieveVlocityAttachments':retrieveVlocityAttachments,'unzipComponentList':unzipComponentList,'deployData':deployData,'getTime':getTime};