const a19_0x1144ac=a19_0x29d0;(function(_0xd3fc14,_0x1fac52){const _0x55b31b=a19_0x29d0,_0x20d9f9=_0xd3fc14();while(!![]){try{const _0x3281b4=-parseInt(_0x55b31b(0xd4))/0x1+parseInt(_0x55b31b(0xfa))/0x2*(parseInt(_0x55b31b(0xcd))/0x3)+parseInt(_0x55b31b(0x108))/0x4*(-parseInt(_0x55b31b(0xf4))/0x5)+-parseInt(_0x55b31b(0xfc))/0x6+parseInt(_0x55b31b(0xf7))/0x7*(parseInt(_0x55b31b(0x101))/0x8)+parseInt(_0x55b31b(0xd9))/0x9+parseInt(_0x55b31b(0xf5))/0xa*(parseInt(_0x55b31b(0xf0))/0xb);if(_0x3281b4===_0x1fac52)break;else _0x20d9f9['push'](_0x20d9f9['shift']());}catch(_0x1a6788){_0x20d9f9['push'](_0x20d9f9['shift']());}}}(a19_0x1a63,0xda9f6));function a19_0x29d0(_0x1f3996,_0x19d1e7){const _0x1a63c0=a19_0x1a63();return a19_0x29d0=function(_0x29d010,_0x362b23){_0x29d010=_0x29d010-0xcc;let _0x5c5f1e=_0x1a63c0[_0x29d010];return _0x5c5f1e;},a19_0x29d0(_0x1f3996,_0x19d1e7);}const fs=require('fs'),AdmZip=require(a19_0x1144ac(0xd3)),path=require(a19_0x1144ac(0xd5)),childProcess=require(a19_0x1144ac(0xf9)),constants=require(a19_0x1144ac(0x102));function retrieveSourceComponents(_0x22b55f,_0x18a05d,_0x4e94f7,_0x2a6956){return new Promise((_0x1415fc,_0x117aa5)=>{const _0x1c1a54=a19_0x29d0;try{_0x2a6956['log'](_0x1c1a54(0xdb));const _0x5d5c43=[];_0x22b55f[_0x1c1a54(0xe2)]('SELECT\x20Id\x20FROM\x20'+_0x18a05d+'Patch_Manifest__c\x20WHERE\x20'+_0x18a05d+_0x1c1a54(0xe7)+_0x4e94f7+'\x27',(_0x4803f1,_0x3c4752)=>{const _0x2a13de=_0x1c1a54;_0x4803f1&&_0x117aa5(_0x4803f1),_0x3c4752[_0x2a13de(0xd8)][_0x2a13de(0xdf)](_0x33ee2d=>_0x5d5c43['push'](_0x33ee2d['Id'])),!_0x3c4752[_0x2a13de(0xfd)]?retrieveSourceComponentsMore(_0x22b55f,_0x3c4752[_0x2a13de(0xcf)],_0x5d5c43)[_0x2a13de(0xf3)](_0x25c298=>{const _0xc4dae2=_0x2a13de;_0x2a6956[_0xc4dae2(0xde)]('Component\x20Id\x20List\x20Length,\x20'+_0x25c298[_0xc4dae2(0xee)]),_0x2a6956[_0xc4dae2(0xde)]('End\x20Retrieve\x20Components\x20Ids'),_0x1415fc(_0x25c298);})[_0x2a13de(0xfb)](_0x4fd6b0=>{const _0x1021cf=_0x2a13de;_0x2a6956[_0x1021cf(0xde)](_0x1021cf(0x107)),_0x117aa5(_0x4fd6b0);}):(_0x2a6956[_0x2a13de(0xde)](_0x2a13de(0xd6)+_0x5d5c43[_0x2a13de(0xee)]),_0x2a6956['log']('End\x20Retrieve\x20Components\x20Ids'),_0x1415fc(_0x5d5c43));});}catch(_0x18370e){_0x2a6956[_0x1c1a54(0xde)](_0x1c1a54(0x107)),_0x117aa5(_0x18370e);}});}function retrieveSourceComponentsMore(_0x49ff4f,_0x4a4fb2,_0x7b3dee){return new Promise((_0x24358e,_0x17696d)=>{const _0x15cdb4=a19_0x29d0;try{_0x49ff4f[_0x15cdb4(0xec)](_0x4a4fb2)[_0x15cdb4(0xf3)](_0x44c771=>{const _0x347a04=_0x15cdb4;!_0x44c771[_0x347a04(0xfd)]?retrieveSourceComponentsMore(_0x49ff4f,_0x4a4fb2,_0x7b3dee)['then'](_0x105369=>_0x24358e(_0x105369))['catch'](_0x52169f=>_0x17696d(_0x52169f)):_0x24358e(_0x7b3dee);});}catch(_0x577a3e){_0x17696d(_0x577a3e);}});}function retrieveVlocityAttachments(_0x224f5c,_0x62de08,_0x53fd00,_0x28d59d,_0x383e48=[]){return new Promise((_0x45a286,_0x322613)=>{const _0x15e9a8=a19_0x29d0;try{_0x28d59d[_0x15e9a8(0xde)](_0x15e9a8(0x10b)),callRetrieveVlocityAttachments(_0x224f5c,_0x62de08,_0x53fd00,_0x53fd00['length'],_0x28d59d,_0x383e48=[])[_0x15e9a8(0xf3)](_0x312c0d=>{const _0x5ea3a6=_0x15e9a8;_0x28d59d[_0x5ea3a6(0xde)](_0x5ea3a6(0x103)),_0x45a286(_0x312c0d);})[_0x15e9a8(0xfb)](_0x3ffcb5=>{const _0x2ed733=_0x15e9a8;_0x28d59d[_0x2ed733(0xde)](_0x2ed733(0xef)),_0x322613(_0x3ffcb5);});}catch(_0x30830e){_0x28d59d['log']('Error\x20Retrieve\x20Vlocity\x20Attachments'),_0x322613(_0x30830e);}});}function callRetrieveVlocityAttachments(_0x12f73d,_0x6b82e5,_0x310307,_0x1ab84e,_0x3e1a7c,_0x4b7e9e=[]){return new Promise((_0x16d52d,_0x58b0cc)=>{const _0x58878c=a19_0x29d0;try{const _0x3046b0={'parentIds':_0x310307};_0x12f73d['apex'][_0x58878c(0xf2)](_0x6b82e5,_0x3046b0)['then'](_0x516224=>{const _0x7578a6=_0x58878c;_0x4b7e9e[_0x7578a6(0xff)](..._0x516224[_0x7578a6(0xd8)]),_0x3e1a7c[_0x7578a6(0xde)](_0x7578a6(0xea)+Number[_0x7578a6(0xe8)](_0x4b7e9e[_0x7578a6(0xee)]/_0x1ab84e*0x64)[_0x7578a6(0x100)](0x2)+'%'),_0x516224[_0x7578a6(0xe1)][_0x7578a6(0xee)]&&_0x310307[_0x7578a6(0xee)]!==_0x4b7e9e[_0x7578a6(0xee)]?callRetrieveVlocityAttachments(_0x12f73d,_0x6b82e5,_0x516224[_0x7578a6(0xe1)],_0x1ab84e,_0x3e1a7c,_0x4b7e9e)['then'](()=>_0x16d52d(_0x4b7e9e))[_0x7578a6(0xfb)](_0x5cb79d=>{_0x58b0cc(_0x5cb79d);}):_0x16d52d(_0x4b7e9e);})[_0x58878c(0xfb)](_0x55a968=>{_0x58b0cc(_0x55a968);});}catch(_0x393095){_0x58b0cc(_0x393095);}});}function unzipComponentList(_0x9cea0b,_0x2e02f8,_0x18144f){return new Promise((_0x2497d3,_0x7d8b75)=>{const _0x1e242b=a19_0x29d0;try{_0x18144f[_0x1e242b(0xde)](_0x1e242b(0x105));let _0x335742=Promise[_0x1e242b(0xf6)]();_0x9cea0b[_0x1e242b(0xdf)](_0x2da2ac=>{const _0x5b599b=_0x1e242b;_0x335742=_0x335742[_0x5b599b(0xf3)](()=>unzipBuffer(_0x2da2ac,_0x2e02f8));}),_0x335742[_0x1e242b(0xf3)](()=>{const _0xabfc60=_0x1e242b;_0x18144f[_0xabfc60(0xde)](_0xabfc60(0xd2)),_0x2497d3();})[_0x1e242b(0xfb)](_0x107b1b=>{const _0x1c9ee3=_0x1e242b;_0x18144f[_0x1c9ee3(0xde)](_0x1c9ee3(0xe6)+_0x107b1b),_0x7d8b75(_0x107b1b);});}catch(_0x829f0){_0x18144f[_0x1e242b(0xde)](_0x1e242b(0xe6)+_0x829f0),_0x7d8b75(_0x829f0);}});}function unzipBuffer(_0x1c9795,_0x4a1cb0){return new Promise((_0x58bb0f,_0x37770c)=>{const _0x2a2433=a19_0x29d0;try{const _0x576695=new AdmZip(Buffer[_0x2a2433(0x104)](_0x1c9795,_0x2a2433(0xe9))),_0x1e1b00=_0x4a1cb0+'/'+constants[_0x2a2433(0xce)];_0x576695[_0x2a2433(0x106)](_0x1e1b00,![]),_0x58bb0f();}catch(_0x2ed41c){_0x37770c(_0x2ed41c);}});}function deployData(_0x4bf03a,_0x57b6c3,_0x399871,_0x1080d1,_0x151c49,_0x247d82,_0xdbfeb,_0x2ccf07){return new Promise((_0x1f8536,_0x492010)=>{const _0x5ea080=a19_0x29d0;try{_0x2ccf07[_0x5ea080(0xde)](_0x5ea080(0xeb));const _0x567a1e=_0x5ea080(0xfe),_0x217f0a=['-sf.accessToken',''+_0x399871,'-sf.instanceUrl',''+_0x57b6c3,'-job',''+constants[_0x5ea080(0xdd)],'-autoRetryErrors'];!!_0x1080d1&&_0x217f0a[_0x5ea080(0xff)](_0x5ea080(0xda));!!_0x151c49&&_0x217f0a[_0x5ea080(0xff)](_0x5ea080(0xd7));_0x217f0a[_0x5ea080(0xff)](_0x5ea080(0xf1));_0x247d82&&(_0x217f0a[_0x5ea080(0xff)](_0x5ea080(0xe4)),_0x217f0a[_0x5ea080(0xff)](_0x5ea080(0x10a)),_0x217f0a[_0x5ea080(0xff)](_0xdbfeb));_0x2ccf07[_0x5ea080(0xde)](_0x217f0a['slice'](0x2)['join']('\x20'));const _0x2ab372={'cwd':_0x4bf03a,'maxBuffer':0x400*0x1f4};childProcess[_0x5ea080(0xf8)](_0x567a1e,_0x217f0a,_0x2ccf07,_0x2ab372)[_0x5ea080(0xf3)](_0x11ca84=>{const _0x29bb90=_0x5ea080;_0x2ccf07[_0x29bb90(0xde)](_0x29bb90(0xe0)),_0x1f8536(_0x11ca84);})[_0x5ea080(0xfb)](_0x4b0c1a=>{const _0x426795=_0x5ea080;_0x2ccf07[_0x426795(0xde)](_0x426795(0xe5)+_0x4b0c1a),_0x492010(_0x4b0c1a);});}catch(_0x5635a6){_0x492010(_0x5635a6);}});}function a19_0x1a63(){const _0x48497b=['parseFloat','base64','Retrieved:\x20','Start\x20Deploy\x20Data','queryMore','getSeconds','length','Error\x20Retrieve\x20Vlocity\x20Attachments','2631288TIbjfo','packDeploy','post','then','145REApRK','10BGvOnM','resolve','126JRxIju','callChildProcess','../../../services/child-process','458JGlMIJ','catch','1008846ibKHrm','done','vlocity','push','toFixed','380648JEFnJs','../../../constants','End\x20Retrieve\x20Vlocity\x20Attachments','from','Start\x20Unzip\x20Component\x20List','extractAllTo','Error\x20Retrieve\x20Components\x20Ids','132148JHWOdq','getMinutes','-apex','Start\x20Retrieve\x20Vlocity\x20Attachments','0$1','22017fFeeSk','UNZIP_CATALOG_NAME','nextRecordsUrl','exports','getDate','End\x20Unzip\x20Component\x20List','adm-zip','1554778WVDBvt','path','Component\x20Id\x20List\x20Length,\x20','-separateCalculationProcedureVersions','records','7201557GTPIZU','-separateMatrixVersions','Start\x20Retrieve\x20Components\x20Ids','getFullYear','JOB_FILE_NAME','log','forEach','End\x20Deploy\x20Data','ids','query','getHours','runApex','Error\x20Deploy\x20Data\x20','Error\x20Unzip\x20Component\x20List\x20','Patch__c\x20=\x20\x27'];a19_0x1a63=function(){return _0x48497b;};return a19_0x1a63();}function getTime(){const _0x98db06=a19_0x1144ac,_0x2165ba=new Date(),_0x5721fd=[_0x2165ba[_0x98db06(0xd1)](),_0x2165ba['getMonth']()+0x1,_0x2165ba[_0x98db06(0xdc)](),_0x2165ba[_0x98db06(0xe3)](),_0x2165ba[_0x98db06(0x109)](),_0x2165ba[_0x98db06(0xed)]()];return _0x5721fd[_0x98db06(0xdf)](_0x7b5f3b=>_0x7b5f3b=_0x7b5f3b['toString']()['replace'](/^([0-9])$/,_0x98db06(0xcc))),_0x5721fd[0x2]+'-'+_0x5721fd[0x1]+'-'+_0x5721fd[0x0]+'\x20'+_0x5721fd[0x3]+':'+_0x5721fd[0x4]+':'+_0x5721fd[0x5];}module[a19_0x1144ac(0xd0)]={'retrieveSourceComponents':retrieveSourceComponents,'retrieveVlocityAttachments':retrieveVlocityAttachments,'unzipComponentList':unzipComponentList,'deployData':deployData,'getTime':getTime};