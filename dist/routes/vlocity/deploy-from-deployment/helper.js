const _0x15e66b=_0x1b91;(function(_0x5f2666,_0x318eac){const _0x4b6c5c=_0x1b91,_0x583b90=_0x5f2666();while(!![]){try{const _0xefc914=parseInt(_0x4b6c5c(0xa4))/0x1+-parseInt(_0x4b6c5c(0x84))/0x2*(parseInt(_0x4b6c5c(0x83))/0x3)+-parseInt(_0x4b6c5c(0xa6))/0x4+parseInt(_0x4b6c5c(0xa1))/0x5+parseInt(_0x4b6c5c(0xaa))/0x6*(-parseInt(_0x4b6c5c(0x79))/0x7)+parseInt(_0x4b6c5c(0x6f))/0x8*(-parseInt(_0x4b6c5c(0xab))/0x9)+parseInt(_0x4b6c5c(0xad))/0xa*(parseInt(_0x4b6c5c(0x8e))/0xb);if(_0xefc914===_0x318eac)break;else _0x583b90['push'](_0x583b90['shift']());}catch(_0x289c1d){_0x583b90['push'](_0x583b90['shift']());}}}(_0xd41f,0xf417f));const fs=require('fs'),AdmZip=require(_0x15e66b(0x9c)),path=require('path'),childProcess=require(_0x15e66b(0x8a)),constants=require(_0x15e66b(0x7b));function retrieveSourceComponents(_0x141d5e,_0x5d9f53,_0x207a80,_0x1ce262){return new Promise((_0x372f1c,_0x4f99be)=>{const _0x2ea32f=_0x1b91;try{_0x1ce262[_0x2ea32f(0x7c)](_0x2ea32f(0x77));const _0x4bad44=[];_0x141d5e[_0x2ea32f(0x92)](_0x2ea32f(0x98)+_0x5d9f53+_0x2ea32f(0x94)+_0x5d9f53+_0x2ea32f(0x90)+_0x207a80+'\x27',(_0x31a720,_0xcddc1)=>{const _0x292319=_0x2ea32f;_0x31a720&&_0x4f99be(_0x31a720),_0xcddc1[_0x292319(0x76)][_0x292319(0x74)](_0x4acf0d=>_0x4bad44[_0x292319(0x7f)](_0x4acf0d['Id'])),!_0xcddc1[_0x292319(0x89)]?retrieveSourceComponentsMore(_0x141d5e,_0xcddc1[_0x292319(0x99)],_0x4bad44)[_0x292319(0x7d)](_0x392b48=>{const _0x15876e=_0x292319;_0x1ce262['log']('Component\x20Id\x20List\x20Length,\x20'+_0x392b48['length']),_0x1ce262[_0x15876e(0x7c)](_0x15876e(0x9a)),_0x372f1c(_0x392b48);})[_0x292319(0xaf)](_0x2f6c2e=>{_0x1ce262['log']('Error\x20Retrieve\x20Components\x20Ids'),_0x4f99be(_0x2f6c2e);}):(_0x1ce262[_0x292319(0x7c)](_0x292319(0x93)+_0x4bad44[_0x292319(0x8b)]),_0x1ce262['log'](_0x292319(0x9a)),_0x372f1c(_0x4bad44));});}catch(_0x4d5006){_0x1ce262[_0x2ea32f(0x7c)](_0x2ea32f(0xa9)),_0x4f99be(_0x4d5006);}});}function retrieveSourceComponentsMore(_0x53f615,_0x335839,_0x4269ff){return new Promise((_0x1ab5c0,_0x3cd644)=>{const _0x190958=_0x1b91;try{_0x53f615['queryMore'](_0x335839)[_0x190958(0x7d)](_0x262b76=>{const _0x3e30ac=_0x190958;!_0x262b76[_0x3e30ac(0x89)]?retrieveSourceComponentsMore(_0x53f615,_0x335839,_0x4269ff)[_0x3e30ac(0x7d)](_0x549a0b=>_0x1ab5c0(_0x549a0b))[_0x3e30ac(0xaf)](_0x40e6c5=>_0x3cd644(_0x40e6c5)):_0x1ab5c0(_0x4269ff);});}catch(_0x529d64){_0x3cd644(_0x529d64);}});}function retrieveVlocityAttachments(_0x3ad26e,_0x193c03,_0x1e76ab,_0x159e8a,_0x47600d=[]){return new Promise((_0xf7bc32,_0x30741f)=>{const _0x4a314e=_0x1b91;try{_0x159e8a[_0x4a314e(0x7c)](_0x4a314e(0x81)),callRetrieveVlocityAttachments(_0x3ad26e,_0x193c03,_0x1e76ab,_0x1e76ab[_0x4a314e(0x8b)],_0x159e8a,_0x47600d=[])[_0x4a314e(0x7d)](_0xdc0970=>{_0x159e8a['log']('End\x20Retrieve\x20Vlocity\x20Attachments'),_0xf7bc32(_0xdc0970);})[_0x4a314e(0xaf)](_0x3d2922=>{const _0x4a75ff=_0x4a314e;_0x159e8a['log'](_0x4a75ff(0x86)),_0x30741f(_0x3d2922);});}catch(_0x3063de){_0x159e8a[_0x4a314e(0x7c)](_0x4a314e(0x86)),_0x30741f(_0x3063de);}});}function callRetrieveVlocityAttachments(_0x41fdfd,_0x104c8b,_0x4f17e0,_0x499136,_0x1b8edc,_0xec0bcc=[]){return new Promise((_0x52b8de,_0x369f22)=>{const _0xd35ed7=_0x1b91;try{const _0x2af88d={'parentIds':_0x4f17e0};_0x41fdfd[_0xd35ed7(0xa3)]['post'](_0x104c8b,_0x2af88d)[_0xd35ed7(0x7d)](_0x1775a2=>{const _0xa17375=_0xd35ed7;_0xec0bcc[_0xa17375(0x7f)](..._0x1775a2[_0xa17375(0x76)]),_0x1b8edc[_0xa17375(0x7c)](_0xa17375(0x91)+Number[_0xa17375(0x71)](_0xec0bcc[_0xa17375(0x8b)]/_0x499136*0x64)['toFixed'](0x2)+'%'),_0x1775a2[_0xa17375(0xa2)][_0xa17375(0x8b)]&&_0x4f17e0['length']!==_0xec0bcc[_0xa17375(0x8b)]?callRetrieveVlocityAttachments(_0x41fdfd,_0x104c8b,_0x1775a2[_0xa17375(0xa2)],_0x499136,_0x1b8edc,_0xec0bcc)['then'](()=>_0x52b8de(_0xec0bcc))[_0xa17375(0xaf)](_0x4f29ea=>{_0x369f22(_0x4f29ea);}):_0x52b8de(_0xec0bcc);})[_0xd35ed7(0xaf)](_0x2dc703=>{_0x369f22(_0x2dc703);});}catch(_0x5260ce){_0x369f22(_0x5260ce);}});}function _0xd41f(){const _0x587937=['8rPETiw','Error\x20Unzip\x20Component\x20List\x20','parseFloat','Error\x20Deploy\x20Data\x20','exports','forEach','Start\x20Unzip\x20Component\x20List','records','Start\x20Retrieve\x20Components\x20Ids','base64','1234394nYGJnA','-separateMatrixVersions','../../../constants','log','then','extractAllTo','push','UNZIP_CATALOG_NAME','Start\x20Retrieve\x20Vlocity\x20Attachments','resolve','9keaQmu','217730VFoeOn','-separateCalculationProcedureVersions','Error\x20Retrieve\x20Vlocity\x20Attachments','slice','join','done','../../../services/child-process','length','getDate','Start\x20Deploy\x20Data','892837SgnymF','vlocity','Patch__c\x20=\x20\x27','Retrieved:\x20','query','Component\x20Id\x20List\x20Length,\x20','Patch_Manifest__c\x20WHERE\x20','-autoRetryErrors','runApex','packDeploy','SELECT\x20Id\x20FROM\x20','nextRecordsUrl','End\x20Retrieve\x20Components\x20Ids','getSeconds','adm-zip','toString','getMinutes','End\x20Deploy\x20Data','replace','3063780dTBhco','ids','apex','1597279UydqCu','End\x20Unzip\x20Component\x20List','7638984kYmetI','-sf.accessToken','callChildProcess','Error\x20Retrieve\x20Components\x20Ids','66AyCdvs','9101772XPelpR','-job','490aMDWTB','-apex','catch'];_0xd41f=function(){return _0x587937;};return _0xd41f();}function unzipComponentList(_0x583a4a,_0x4df886,_0x11ef75){return new Promise((_0x11d8be,_0xabdc8)=>{const _0x2efebe=_0x1b91;try{_0x11ef75[_0x2efebe(0x7c)](_0x2efebe(0x75));let _0x3aa744=Promise[_0x2efebe(0x82)]();_0x583a4a[_0x2efebe(0x74)](_0x44e8e7=>{_0x3aa744=_0x3aa744['then'](()=>unzipBuffer(_0x44e8e7,_0x4df886));}),_0x3aa744[_0x2efebe(0x7d)](()=>{const _0x4c5023=_0x2efebe;_0x11ef75[_0x4c5023(0x7c)](_0x4c5023(0xa5)),_0x11d8be();})[_0x2efebe(0xaf)](_0xca50ec=>{const _0x155ad3=_0x2efebe;_0x11ef75[_0x155ad3(0x7c)](_0x155ad3(0x70)+_0xca50ec),_0xabdc8(_0xca50ec);});}catch(_0x1398b4){_0x11ef75[_0x2efebe(0x7c)](_0x2efebe(0x70)+_0x1398b4),_0xabdc8(_0x1398b4);}});}function unzipBuffer(_0x5ef2a0,_0x488798){return new Promise((_0x454ac6,_0x5758d3)=>{const _0x29b4c9=_0x1b91;try{const _0x5de0c9=new AdmZip(Buffer['from'](_0x5ef2a0,_0x29b4c9(0x78))),_0xc23b0a=_0x488798+'/'+constants[_0x29b4c9(0x80)];_0x5de0c9[_0x29b4c9(0x7e)](_0xc23b0a,![]),_0x454ac6();}catch(_0x9fffae){_0x5758d3(_0x9fffae);}});}function _0x1b91(_0x4f4c4e,_0x57cce5){const _0xd41fb8=_0xd41f();return _0x1b91=function(_0x1b9103,_0x5522f0){_0x1b9103=_0x1b9103-0x6f;let _0x164513=_0xd41fb8[_0x1b9103];return _0x164513;},_0x1b91(_0x4f4c4e,_0x57cce5);}function deployData(_0x312ad4,_0x4790e8,_0x1d3c5b,_0x3af83d,_0x5a4d97,_0x4ab0be,_0x203dbf,_0x2098d6){return new Promise((_0x318411,_0x51be88)=>{const _0x22b3f2=_0x1b91;try{_0x2098d6[_0x22b3f2(0x7c)](_0x22b3f2(0x8d));const _0x369300=_0x22b3f2(0x8f),_0x409e96=[_0x22b3f2(0xa7),''+_0x1d3c5b,'-sf.instanceUrl',''+_0x4790e8,_0x22b3f2(0xac),''+constants['JOB_FILE_NAME'],_0x22b3f2(0x95)];!!_0x3af83d&&_0x409e96['push'](_0x22b3f2(0x7a));!!_0x5a4d97&&_0x409e96[_0x22b3f2(0x7f)](_0x22b3f2(0x85));_0x409e96[_0x22b3f2(0x7f)](_0x22b3f2(0x97));_0x4ab0be&&(_0x409e96['push'](_0x22b3f2(0x96)),_0x409e96[_0x22b3f2(0x7f)](_0x22b3f2(0xae)),_0x409e96[_0x22b3f2(0x7f)](_0x203dbf));_0x2098d6['log'](_0x409e96[_0x22b3f2(0x87)](0x2)[_0x22b3f2(0x88)]('\x20'));const _0x1a505d={'cwd':'./'+_0x312ad4,'maxBuffer':0x400*0x1f4};childProcess[_0x22b3f2(0xa8)](_0x369300,_0x409e96,_0x2098d6,_0x1a505d)[_0x22b3f2(0x7d)](_0x515a=>{const _0x5aa18d=_0x22b3f2;_0x2098d6[_0x5aa18d(0x7c)](_0x5aa18d(0x9f)),_0x318411(_0x515a);})[_0x22b3f2(0xaf)](_0x5dd125=>{const _0x1d4f01=_0x22b3f2;_0x2098d6['log'](_0x1d4f01(0x72)+_0x5dd125),_0x51be88(_0x5dd125);});}catch(_0x1a5aff){_0x51be88(_0x1a5aff);}});}function getTime(){const _0x3eb163=_0x15e66b,_0x23825a=new Date(),_0x30074d=[_0x23825a[_0x3eb163(0x8c)](),_0x23825a['getMonth']()+0x1,_0x23825a['getFullYear'](),_0x23825a['getHours'](),_0x23825a[_0x3eb163(0x9e)](),_0x23825a[_0x3eb163(0x9b)]()];return _0x30074d[_0x3eb163(0x74)](_0x36a475=>_0x36a475=_0x36a475[_0x3eb163(0x9d)]()[_0x3eb163(0xa0)](/^([0-9])$/,'0$1')),_0x30074d[0x2]+'-'+_0x30074d[0x1]+'-'+_0x30074d[0x0]+'\x20'+_0x30074d[0x3]+':'+_0x30074d[0x4]+':'+_0x30074d[0x5];}module[_0x15e66b(0x73)]={'retrieveSourceComponents':retrieveSourceComponents,'retrieveVlocityAttachments':retrieveVlocityAttachments,'unzipComponentList':unzipComponentList,'deployData':deployData,'getTime':getTime};