const a19_0x574f14=a19_0x4b02;(function(_0x46a3f9,_0x4b9d72){const _0xa6acb3=a19_0x4b02,_0x5a5162=_0x46a3f9();while(!![]){try{const _0x31439c=-parseInt(_0xa6acb3(0x1fe))/0x1+parseInt(_0xa6acb3(0x1e2))/0x2+parseInt(_0xa6acb3(0x1d5))/0x3*(parseInt(_0xa6acb3(0x202))/0x4)+parseInt(_0xa6acb3(0x1eb))/0x5*(-parseInt(_0xa6acb3(0x1fb))/0x6)+parseInt(_0xa6acb3(0x1f3))/0x7+parseInt(_0xa6acb3(0x1cb))/0x8+parseInt(_0xa6acb3(0x1f9))/0x9;if(_0x31439c===_0x4b9d72)break;else _0x5a5162['push'](_0x5a5162['shift']());}catch(_0x912f05){_0x5a5162['push'](_0x5a5162['shift']());}}}(a19_0x3646,0x42c0c));const fs=require('fs'),AdmZip=require(a19_0x574f14(0x1e6)),path=require(a19_0x574f14(0x1d6)),childProcess=require(a19_0x574f14(0x1cf)),constants=require(a19_0x574f14(0x1fa));function retrieveSourceComponents(_0x31334e,_0x504511,_0x2e5991,_0x287192){return new Promise((_0xc1eb56,_0x56e3da)=>{const _0x4b3868=a19_0x4b02;try{_0x287192[_0x4b3868(0x1da)]('Start\x20Retrieve\x20Components\x20Ids');const _0x4855d0=[];_0x31334e[_0x4b3868(0x205)](_0x4b3868(0x1cd)+_0x504511+'Patch_Manifest__c\x20WHERE\x20'+_0x504511+_0x4b3868(0x1e7)+_0x2e5991+'\x27',(_0x118ef7,_0x5a710d)=>{const _0x3ea5ac=_0x4b3868;_0x118ef7&&_0x56e3da(_0x118ef7),_0x5a710d[_0x3ea5ac(0x203)][_0x3ea5ac(0x1d9)](_0x3015b5=>_0x4855d0['push'](_0x3015b5['Id'])),!_0x5a710d[_0x3ea5ac(0x1d4)]?retrieveSourceComponentsMore(_0x31334e,_0x5a710d[_0x3ea5ac(0x1e5)],_0x4855d0)[_0x3ea5ac(0x1e0)](_0x186ede=>{const _0x339e7a=_0x3ea5ac;_0x287192['log'](_0x339e7a(0x1cc)+_0x186ede['length']),_0x287192['log'](_0x339e7a(0x1e1)),_0xc1eb56(_0x186ede);})[_0x3ea5ac(0x1f5)](_0x53326f=>{const _0x29e670=_0x3ea5ac;_0x287192[_0x29e670(0x1da)](_0x29e670(0x1dc)),_0x56e3da(_0x53326f);}):(_0x287192[_0x3ea5ac(0x1da)](_0x3ea5ac(0x1cc)+_0x4855d0[_0x3ea5ac(0x1e3)]),_0x287192['log'](_0x3ea5ac(0x1e1)),_0xc1eb56(_0x4855d0));});}catch(_0xd8f2a2){_0x287192[_0x4b3868(0x1da)](_0x4b3868(0x1dc)),_0x56e3da(_0xd8f2a2);}});}function retrieveSourceComponentsMore(_0x33d887,_0x54ae52,_0x53e896){return new Promise((_0x2427bc,_0x13dc38)=>{const _0x5895ea=a19_0x4b02;try{_0x33d887['queryMore'](_0x54ae52)[_0x5895ea(0x1e0)](_0x2a3a1a=>{const _0x526e4a=_0x5895ea;!_0x2a3a1a[_0x526e4a(0x1d4)]?retrieveSourceComponentsMore(_0x33d887,_0x54ae52,_0x53e896)[_0x526e4a(0x1e0)](_0x3eb74a=>_0x2427bc(_0x3eb74a))[_0x526e4a(0x1f5)](_0x5d9751=>_0x13dc38(_0x5d9751)):_0x2427bc(_0x53e896);});}catch(_0x5bb947){_0x13dc38(_0x5bb947);}});}function retrieveVlocityAttachments(_0x373085,_0x5494d0,_0x6b0340,_0x590e31,_0x3f642a=[]){return new Promise((_0x9c610b,_0x4febb9)=>{const _0x435414=a19_0x4b02;try{_0x590e31['log'](_0x435414(0x1d8)),callRetrieveVlocityAttachments(_0x373085,_0x5494d0,_0x6b0340,_0x6b0340[_0x435414(0x1e3)],_0x590e31,_0x3f642a=[])[_0x435414(0x1e0)](_0x5f49b4=>{const _0x222f80=_0x435414;_0x590e31['log'](_0x222f80(0x1ea)),_0x9c610b(_0x5f49b4);})[_0x435414(0x1f5)](_0x36b597=>{const _0x288b51=_0x435414;_0x590e31[_0x288b51(0x1da)](_0x288b51(0x1f7)),_0x4febb9(_0x36b597);});}catch(_0x546fa4){_0x590e31[_0x435414(0x1da)](_0x435414(0x1f7)),_0x4febb9(_0x546fa4);}});}function callRetrieveVlocityAttachments(_0x4a199,_0x3c945b,_0x5591b8,_0x476df4,_0x1faaf1,_0x4887f4=[]){return new Promise((_0x272d6a,_0x4c3cf4)=>{const _0x23a807=a19_0x4b02;try{const _0x112305={'parentIds':_0x5591b8};_0x4a199[_0x23a807(0x1ca)][_0x23a807(0x201)](_0x3c945b,_0x112305)[_0x23a807(0x1e0)](_0x1042d7=>{const _0x1da392=_0x23a807;_0x4887f4['push'](..._0x1042d7[_0x1da392(0x203)]),_0x1faaf1[_0x1da392(0x1da)](_0x1da392(0x1ed)+Number[_0x1da392(0x1db)](_0x4887f4[_0x1da392(0x1e3)]/_0x476df4*0x64)[_0x1da392(0x1de)](0x2)+'%'),_0x1042d7[_0x1da392(0x1f2)]['length']&&_0x5591b8[_0x1da392(0x1e3)]!==_0x4887f4[_0x1da392(0x1e3)]?callRetrieveVlocityAttachments(_0x4a199,_0x3c945b,_0x1042d7[_0x1da392(0x1f2)],_0x476df4,_0x1faaf1,_0x4887f4)[_0x1da392(0x1e0)](()=>_0x272d6a(_0x4887f4))['catch'](_0x4fa21b=>{_0x4c3cf4(_0x4fa21b);}):_0x272d6a(_0x4887f4);})[_0x23a807(0x1f5)](_0x35b49a=>{_0x4c3cf4(_0x35b49a);});}catch(_0x2cd36b){_0x4c3cf4(_0x2cd36b);}});}function unzipComponentList(_0x5973c7,_0x4ed233,_0x3d118b){return new Promise((_0x609f72,_0x208c53)=>{const _0x1364cd=a19_0x4b02;try{_0x3d118b[_0x1364cd(0x1da)](_0x1364cd(0x1df));let _0xd5a04d=Promise['resolve']();_0x5973c7[_0x1364cd(0x1d9)](_0x541ab5=>{const _0x53e831=_0x1364cd;_0xd5a04d=_0xd5a04d[_0x53e831(0x1e0)](()=>unzipBuffer(_0x541ab5,_0x4ed233));}),_0xd5a04d[_0x1364cd(0x1e0)](()=>{const _0x967171=_0x1364cd;_0x3d118b[_0x967171(0x1da)]('End\x20Unzip\x20Component\x20List'),_0x609f72();})['catch'](_0x2bbd2a=>{const _0x85243e=_0x1364cd;_0x3d118b['log'](_0x85243e(0x1d0)+_0x2bbd2a),_0x208c53(_0x2bbd2a);});}catch(_0x49b5f0){_0x3d118b[_0x1364cd(0x1da)](_0x1364cd(0x1d0)+_0x49b5f0),_0x208c53(_0x49b5f0);}});}function unzipBuffer(_0x58c19b,_0x524ff4){return new Promise((_0x5ca63a,_0xff6741)=>{const _0x3a1594=a19_0x4b02;try{const _0xbe6ec=new AdmZip(Buffer[_0x3a1594(0x1ef)](_0x58c19b,_0x3a1594(0x1d3))),_0x344aa2=_0x524ff4+'/'+constants[_0x3a1594(0x1ec)];_0xbe6ec['extractAllTo'](_0x344aa2,![]),_0x5ca63a();}catch(_0x23e83b){_0xff6741(_0x23e83b);}});}function deployData(_0x16f4c2,_0x3cb249,_0x46ba0f,_0x49d383,_0x1c0821,_0xbaee24,_0x3161dc,_0x5dda6f){return new Promise((_0x1cf219,_0x5374ff)=>{const _0x250c5a=a19_0x4b02;try{_0x5dda6f[_0x250c5a(0x1da)](_0x250c5a(0x1e4));const _0x2f5b35='vlocity',_0x55d60d=[_0x250c5a(0x1d7),''+_0x46ba0f,'-sf.instanceUrl',''+_0x3cb249,_0x250c5a(0x204),''+constants['JOB_FILE_NAME'],_0x250c5a(0x1ee)];!!_0x49d383&&_0x55d60d[_0x250c5a(0x1f1)](_0x250c5a(0x1fc));!!_0x1c0821&&_0x55d60d[_0x250c5a(0x1f1)](_0x250c5a(0x1dd));_0x55d60d['push'](_0x250c5a(0x1fd));_0xbaee24&&(_0x55d60d['push'](_0x250c5a(0x1d1)),_0x55d60d['push'](_0x250c5a(0x207)),_0x55d60d[_0x250c5a(0x1f1)](_0x3161dc));_0x5dda6f[_0x250c5a(0x1da)](_0x55d60d[_0x250c5a(0x200)](0x2)[_0x250c5a(0x1f6)]('\x20'));const _0x4b79f1={'cwd':_0x16f4c2,'maxBuffer':0x400*0x1f4};childProcess['callChildProcess'](_0x2f5b35,_0x55d60d,_0x5dda6f,_0x4b79f1)['then'](_0x3e1d0c=>{const _0x5bb52e=_0x250c5a;_0x5dda6f['log'](_0x5bb52e(0x1e9)),_0x1cf219(_0x3e1d0c);})[_0x250c5a(0x1f5)](_0x2332d4=>{const _0x4d041a=_0x250c5a;_0x5dda6f['log'](_0x4d041a(0x1c9)+_0x2332d4),_0x5374ff(_0x2332d4);});}catch(_0x1c43ab){_0x5374ff(_0x1c43ab);}});}function getTime(){const _0xfed048=a19_0x574f14,_0x12367c=new Date(),_0x37df09=[_0x12367c['getDate'](),_0x12367c[_0xfed048(0x1f4)]()+0x1,_0x12367c['getFullYear'](),_0x12367c[_0xfed048(0x1f8)](),_0x12367c[_0xfed048(0x1ff)](),_0x12367c[_0xfed048(0x206)]()];return _0x37df09[_0xfed048(0x1d9)](_0x4c38f2=>_0x4c38f2=_0x4c38f2[_0xfed048(0x1f0)]()[_0xfed048(0x1ce)](/^([0-9])$/,_0xfed048(0x1d2))),_0x37df09[0x2]+'-'+_0x37df09[0x1]+'-'+_0x37df09[0x0]+'\x20'+_0x37df09[0x3]+':'+_0x37df09[0x4]+':'+_0x37df09[0x5];}function a19_0x4b02(_0x1592fc,_0x3e3b88){const _0x3646e1=a19_0x3646();return a19_0x4b02=function(_0x4b02b1,_0x27becc){_0x4b02b1=_0x4b02b1-0x1c9;let _0x47e6d2=_0x3646e1[_0x4b02b1];return _0x47e6d2;},a19_0x4b02(_0x1592fc,_0x3e3b88);}module[a19_0x574f14(0x1e8)]={'retrieveSourceComponents':retrieveSourceComponents,'retrieveVlocityAttachments':retrieveVlocityAttachments,'unzipComponentList':unzipComponentList,'deployData':deployData,'getTime':getTime};function a19_0x3646(){const _0x495926=['639912BCmwkA','Component\x20Id\x20List\x20Length,\x20','SELECT\x20Id\x20FROM\x20','replace','../../../services/child-process','Error\x20Unzip\x20Component\x20List\x20','runApex','0$1','base64','done','3vmGyBv','path','-sf.accessToken','Start\x20Retrieve\x20Vlocity\x20Attachments','forEach','log','parseFloat','Error\x20Retrieve\x20Components\x20Ids','-separateCalculationProcedureVersions','toFixed','Start\x20Unzip\x20Component\x20List','then','End\x20Retrieve\x20Components\x20Ids','246772xgjmDR','length','Start\x20Deploy\x20Data','nextRecordsUrl','adm-zip','Patch__c\x20=\x20\x27','exports','End\x20Deploy\x20Data','End\x20Retrieve\x20Vlocity\x20Attachments','5efQJuL','UNZIP_CATALOG_NAME','Retrieved:\x20','-autoRetryErrors','from','toString','push','ids','695793XeUeoW','getMonth','catch','join','Error\x20Retrieve\x20Vlocity\x20Attachments','getHours','3937995MgkLJe','../../../constants','3105762MJNdgL','-separateMatrixVersions','packDeploy','41695gufuYq','getMinutes','slice','post','369652XaVGyE','records','-job','query','getSeconds','-apex','Error\x20Deploy\x20Data\x20','apex'];a19_0x3646=function(){return _0x495926;};return a19_0x3646();}