const a27_0x3ac0c6=a27_0x3f2d;(function(_0x583df8,_0x2605e2){const _0x4c0099=a27_0x3f2d,_0x10da83=_0x583df8();while(!![]){try{const _0x23dd26=-parseInt(_0x4c0099(0x157))/0x1+parseInt(_0x4c0099(0x166))/0x2+-parseInt(_0x4c0099(0x15a))/0x3+parseInt(_0x4c0099(0x16a))/0x4*(parseInt(_0x4c0099(0x14e))/0x5)+-parseInt(_0x4c0099(0x15f))/0x6+-parseInt(_0x4c0099(0x14d))/0x7+parseInt(_0x4c0099(0x142))/0x8;if(_0x23dd26===_0x2605e2)break;else _0x10da83['push'](_0x10da83['shift']());}catch(_0x41694e){_0x10da83['push'](_0x10da83['shift']());}}}(a27_0x78c6,0x41c57));const AdmZip=require(a27_0x3ac0c6(0x144)),childProcess=require(a27_0x3ac0c6(0x15c)),constants=require(a27_0x3ac0c6(0x143)),http=require('../../../services/http');async function retrieveSourceComponents(_0x1ede58,_0x2860bb,_0x514c00,_0x47350a){const _0x216a48=a27_0x3ac0c6;_0x47350a[_0x216a48(0x167)]('Start\x20Retrieve\x20Components\x20Ids');const _0x44726d=[];let _0x49700c=![];const _0x21515a=_0x216a48(0x152)+_0x2860bb+_0x216a48(0x16b)+_0x2860bb+_0x216a48(0x13d)+_0x514c00+'\x27';let _0x9ec3b4=await _0x1ede58[_0x216a48(0x13f)](_0x21515a);_0x44726d[_0x216a48(0x13c)](..._0x9ec3b4['records'][_0x216a48(0x165)](({Id:_0x20dc93})=>_0x20dc93)),_0x47350a[_0x216a48(0x167)](_0x216a48(0x14f)+_0x9ec3b4[_0x216a48(0x149)]);do{_0x9ec3b4=await _0x1ede58[_0x216a48(0x16e)](_0x9ec3b4[_0x216a48(0x176)]),_0x44726d[_0x216a48(0x13c)](..._0x9ec3b4['records'][_0x216a48(0x165)](({Id:_0x517df8})=>_0x517df8)),_0x47350a[_0x216a48(0x167)](_0x216a48(0x14f)+_0x9ec3b4[_0x216a48(0x149)]),_0x49700c=!_0x9ec3b4[_0x216a48(0x150)];}while(_0x49700c);return _0x47350a[_0x216a48(0x167)](_0x216a48(0x172)),_0x44726d;}function retrieveVlocityAttachments(_0x1d3cde,_0x35fabd,_0x50f907,_0x4c3140,_0x2d2eb6=[]){return new Promise((_0x439046,_0x2a7f5c)=>{const _0x1295da=a27_0x3f2d;try{_0x4c3140[_0x1295da(0x167)](_0x1295da(0x156)),callRetrieveVlocityAttachments(_0x1d3cde,_0x35fabd,_0x50f907,_0x50f907[_0x1295da(0x149)],_0x4c3140,_0x2d2eb6=[])[_0x1295da(0x148)](_0x4a1437=>{const _0x501d6a=_0x1295da;_0x4c3140[_0x501d6a(0x167)](_0x501d6a(0x13e)),_0x439046(_0x4a1437);})[_0x1295da(0x14a)](_0x765dda=>{const _0x28fef5=_0x1295da;_0x4c3140[_0x28fef5(0x167)]('Error\x20Retrieve\x20Vlocity\x20Attachments'),_0x2a7f5c(_0x765dda);});}catch(_0x4f0ad1){_0x4c3140[_0x1295da(0x167)](_0x1295da(0x151)),_0x2a7f5c(_0x4f0ad1);}});}function a27_0x78c6(){const _0x253a4e=['catch','extractAllTo','replace','1534589uDFIGn','5DtujXN','Component\x20Id\x20List\x20Length,\x20','done','Error\x20Retrieve\x20Vlocity\x20Attachments','SELECT\x20Id\x20FROM\x20','ids','-sf.accessToken','getMinutes','Start\x20Retrieve\x20Vlocity\x20Attachments','235810lnpFEx','getFullYear','base64','795165dodvDX','join','../../../services/child-process','Error\x20Unzip\x20Component\x20List\x20','callChildProcess','2038560AxuAAz','resolve','getMonth','packDeploy','Start\x20Deploy\x20Data','getHours','map','734628QKEdOq','log','-separateMatrixVersions','Start\x20Unzip\x20Component\x20List','1821976ziOxBk','Patch_Manifest__c\x20WHERE\x20','End\x20Unzip\x20Component\x20List','exports','queryMore','0$1','-separateCalculationProcedureVersions','Error\x20Deploy\x20Data\x20','End\x20Retrieve\x20Components\x20Ids','forEach','slice','vlocity','nextRecordsUrl','post','-sf.instanceUrl','push','Patch__c\x20=\x20\x27','End\x20Retrieve\x20Vlocity\x20Attachments','query','-apex','-job','4051544xReZCe','../../../constants','adm-zip','records','parseFloat','GetVlocityComponents/','then','length'];a27_0x78c6=function(){return _0x253a4e;};return a27_0x78c6();}async function callRetrieveVlocityAttachments(_0x4175cd,_0x57261e,_0x3140d0,_0x8fc75d,_0x3ccb7e,_0x3f275d=[]){const _0x1bde8e=a27_0x3ac0c6,_0x3471a3={'parentIds':_0x3140d0},_0x847118=await http[_0x1bde8e(0x13a)](_0x4175cd,_0x57261e,_0x3471a3,_0x1bde8e(0x147));_0x3f275d[_0x1bde8e(0x13c)](..._0x847118[_0x1bde8e(0x145)]),_0x3ccb7e[_0x1bde8e(0x167)]('Retrieved:\x20'+Number[_0x1bde8e(0x146)](_0x3f275d[_0x1bde8e(0x149)]/_0x8fc75d*0x64)['toFixed'](0x2)+'%');if(_0x847118[_0x1bde8e(0x153)]['length']&&_0x3140d0[_0x1bde8e(0x149)]!==_0x3f275d['length'])return await callRetrieveVlocityAttachments(_0x4175cd,_0x57261e,_0x847118[_0x1bde8e(0x153)],_0x8fc75d,_0x3ccb7e,_0x3f275d);return _0x3f275d;}function unzipComponentList(_0x39257b,_0x269a98,_0x8385f0){return new Promise((_0xdd3459,_0x5aed6e)=>{const _0x217eab=a27_0x3f2d;try{_0x8385f0[_0x217eab(0x167)](_0x217eab(0x169));let _0x4064c0=Promise[_0x217eab(0x160)]();_0x39257b[_0x217eab(0x173)](_0x165872=>{_0x4064c0=_0x4064c0['then'](()=>unzipBuffer(_0x165872,_0x269a98));}),_0x4064c0[_0x217eab(0x148)](()=>{const _0x2f7b39=_0x217eab;_0x8385f0[_0x2f7b39(0x167)](_0x2f7b39(0x16c)),_0xdd3459();})[_0x217eab(0x14a)](_0x342f6f=>{const _0x5efebe=_0x217eab;_0x8385f0[_0x5efebe(0x167)]('Error\x20Unzip\x20Component\x20List\x20'+_0x342f6f),_0x5aed6e(_0x342f6f);});}catch(_0x242189){_0x8385f0['log'](_0x217eab(0x15d)+_0x242189),_0x5aed6e(_0x242189);}});}function unzipBuffer(_0xe36bd3,_0x5d8816){return new Promise((_0x226644,_0x57d901)=>{const _0x1c246b=a27_0x3f2d;try{const _0x140838=new AdmZip(Buffer['from'](_0xe36bd3,_0x1c246b(0x159))),_0x15f6d8=_0x5d8816+'/'+constants['UNZIP_CATALOG_NAME'];_0x140838[_0x1c246b(0x14b)](_0x15f6d8,![]),_0x226644();}catch(_0xb82b46){_0x57d901(_0xb82b46);}});}function deployData(_0x1cb52d,_0x2b6ecb,_0xcee458,_0x219bd0,_0x35f3f5,_0x30150d,_0x32dfbe,_0x2a6c9d){return new Promise((_0x21c636,_0x4fa928)=>{const _0x299638=a27_0x3f2d;try{_0x2a6c9d[_0x299638(0x167)](_0x299638(0x163));const _0x3790d0=_0x299638(0x175),_0x5301c4=[_0x299638(0x154),''+_0xcee458,_0x299638(0x13b),''+_0x2b6ecb,_0x299638(0x141),''+constants['JOB_FILE_NAME'],'-autoRetryErrors'];_0x219bd0&&_0x5301c4['push'](_0x299638(0x168));_0x35f3f5&&_0x5301c4[_0x299638(0x13c)](_0x299638(0x170));_0x5301c4[_0x299638(0x13c)](_0x299638(0x162));_0x30150d&&(_0x5301c4[_0x299638(0x13c)]('runApex'),_0x5301c4[_0x299638(0x13c)](_0x299638(0x140)),_0x5301c4[_0x299638(0x13c)](_0x32dfbe));_0x2a6c9d[_0x299638(0x167)](_0x5301c4[_0x299638(0x174)](0x2)[_0x299638(0x15b)]('\x20'));const _0x3089d0={'cwd':_0x1cb52d,'maxBuffer':0x400*0x1f4};childProcess[_0x299638(0x15e)](_0x3790d0,_0x5301c4,_0x2a6c9d,_0x3089d0)[_0x299638(0x148)](_0x5e31b2=>{const _0x3507a4=_0x299638;_0x2a6c9d[_0x3507a4(0x167)]('End\x20Deploy\x20Data'),_0x21c636(_0x5e31b2);})[_0x299638(0x14a)](_0xdabe10=>{const _0x324465=_0x299638;_0x2a6c9d[_0x324465(0x167)](_0x324465(0x171)+_0xdabe10),_0x4fa928(_0xdabe10);});}catch(_0x68d896){_0x4fa928(_0x68d896);}});}function getTime(){const _0x429131=a27_0x3ac0c6,_0x52622e=new Date(),_0x16f324=[_0x52622e['getDate'](),_0x52622e[_0x429131(0x161)]()+0x1,_0x52622e[_0x429131(0x158)](),_0x52622e[_0x429131(0x164)](),_0x52622e[_0x429131(0x155)](),_0x52622e['getSeconds']()];return _0x16f324[_0x429131(0x173)](_0x706aba=>_0x706aba=_0x706aba['toString']()[_0x429131(0x14c)](/^([0-9])$/,_0x429131(0x16f))),_0x16f324[0x2]+'-'+_0x16f324[0x1]+'-'+_0x16f324[0x0]+'\x20'+_0x16f324[0x3]+':'+_0x16f324[0x4]+':'+_0x16f324[0x5];}function a27_0x3f2d(_0x4661fd,_0x1cbd49){const _0x78c607=a27_0x78c6();return a27_0x3f2d=function(_0x3f2d4b,_0x5c5359){_0x3f2d4b=_0x3f2d4b-0x13a;let _0x10b1d8=_0x78c607[_0x3f2d4b];return _0x10b1d8;},a27_0x3f2d(_0x4661fd,_0x1cbd49);}module[a27_0x3ac0c6(0x16d)]={'retrieveSourceComponents':retrieveSourceComponents,'retrieveVlocityAttachments':retrieveVlocityAttachments,'unzipComponentList':unzipComponentList,'deployData':deployData,'getTime':getTime};