const a19_0x1b9716=a19_0xe640;(function(_0x15aef1,_0x40df29){const _0x18c51b=a19_0xe640,_0x4ba643=_0x15aef1();while(!![]){try{const _0x373551=-parseInt(_0x18c51b(0x192))/0x1*(parseInt(_0x18c51b(0x17a))/0x2)+-parseInt(_0x18c51b(0x16f))/0x3*(-parseInt(_0x18c51b(0x17e))/0x4)+parseInt(_0x18c51b(0x170))/0x5*(-parseInt(_0x18c51b(0x16c))/0x6)+-parseInt(_0x18c51b(0x16b))/0x7*(-parseInt(_0x18c51b(0x167))/0x8)+-parseInt(_0x18c51b(0x16a))/0x9+-parseInt(_0x18c51b(0x177))/0xa+-parseInt(_0x18c51b(0x196))/0xb*(-parseInt(_0x18c51b(0x16d))/0xc);if(_0x373551===_0x40df29)break;else _0x4ba643['push'](_0x4ba643['shift']());}catch(_0x4f6783){_0x4ba643['push'](_0x4ba643['shift']());}}}(a19_0x3617,0x78c7d));const fs=require('fs'),AdmZip=require(a19_0x1b9716(0x189)),path=require(a19_0x1b9716(0x162)),childProcess=require(a19_0x1b9716(0x195)),constants=require(a19_0x1b9716(0x185));function retrieveSourceComponents(_0x2383a8,_0x669f81,_0x22c005,_0x69036d){return new Promise((_0x3ca6de,_0x5dcf15)=>{const _0x1f2666=a19_0xe640;try{_0x69036d[_0x1f2666(0x165)]('Start\x20Retrieve\x20Components\x20Ids');const _0xcb2a1=[];_0x2383a8['query'](_0x1f2666(0x182)+_0x669f81+'Patch_Manifest__c\x20WHERE\x20'+_0x669f81+_0x1f2666(0x19a)+_0x22c005+'\x27',(_0x57bbaa,_0x19e4e5)=>{const _0x42bb5b=_0x1f2666;_0x57bbaa&&_0x5dcf15(_0x57bbaa),_0x19e4e5[_0x42bb5b(0x17f)]['forEach'](_0xbf5ae1=>_0xcb2a1['push'](_0xbf5ae1['Id'])),!_0x19e4e5[_0x42bb5b(0x175)]?retrieveSourceComponentsMore(_0x2383a8,_0x19e4e5[_0x42bb5b(0x198)],_0xcb2a1)[_0x42bb5b(0x176)](_0x44aadf=>{const _0x3d895d=_0x42bb5b;_0x69036d[_0x3d895d(0x165)]('Component\x20Id\x20List\x20Length,\x20'+_0x44aadf[_0x3d895d(0x197)]),_0x69036d[_0x3d895d(0x165)](_0x3d895d(0x169)),_0x3ca6de(_0x44aadf);})[_0x42bb5b(0x172)](_0x15aea7=>{_0x69036d['log']('Error\x20Retrieve\x20Components\x20Ids'),_0x5dcf15(_0x15aea7);}):(_0x69036d[_0x42bb5b(0x165)](_0x42bb5b(0x18c)+_0xcb2a1['length']),_0x69036d[_0x42bb5b(0x165)](_0x42bb5b(0x169)),_0x3ca6de(_0xcb2a1));});}catch(_0x16722e){_0x69036d[_0x1f2666(0x165)](_0x1f2666(0x183)),_0x5dcf15(_0x16722e);}});}function retrieveSourceComponentsMore(_0x58a618,_0x1d6847,_0x14588c){return new Promise((_0x5449e3,_0x19bfb2)=>{const _0x20ee3f=a19_0xe640;try{_0x58a618[_0x20ee3f(0x191)](_0x1d6847)[_0x20ee3f(0x176)](_0x5044c4=>{const _0x17c5c2=_0x20ee3f;!_0x5044c4['done']?retrieveSourceComponentsMore(_0x58a618,_0x1d6847,_0x14588c)['then'](_0x1bf5a0=>_0x5449e3(_0x1bf5a0))[_0x17c5c2(0x172)](_0x103c6b=>_0x19bfb2(_0x103c6b)):_0x5449e3(_0x14588c);});}catch(_0x1bb62e){_0x19bfb2(_0x1bb62e);}});}function retrieveVlocityAttachments(_0x5bd66e,_0x21e03b,_0x20045a,_0xf1acae,_0x18c9ec=[]){return new Promise((_0x3827e5,_0x4bde9e)=>{const _0x47bc3c=a19_0xe640;try{_0xf1acae['log'](_0x47bc3c(0x180)),callRetrieveVlocityAttachments(_0x5bd66e,_0x21e03b,_0x20045a,_0x20045a[_0x47bc3c(0x197)],_0xf1acae,_0x18c9ec=[])[_0x47bc3c(0x176)](_0x1467e0=>{const _0xd847b9=_0x47bc3c;_0xf1acae['log'](_0xd847b9(0x193)),_0x3827e5(_0x1467e0);})[_0x47bc3c(0x172)](_0x1c3897=>{const _0x538d81=_0x47bc3c;_0xf1acae[_0x538d81(0x165)](_0x538d81(0x166)),_0x4bde9e(_0x1c3897);});}catch(_0x2b6a1e){_0xf1acae[_0x47bc3c(0x165)](_0x47bc3c(0x166)),_0x4bde9e(_0x2b6a1e);}});}function callRetrieveVlocityAttachments(_0x9903d0,_0x229d3a,_0x2cc66e,_0x117b61,_0xf18d1a,_0x143165=[]){return new Promise((_0x159365,_0x5e0a90)=>{const _0x230936=a19_0xe640;try{const _0x2dd12a={'parentIds':_0x2cc66e};_0x9903d0[_0x230936(0x186)][_0x230936(0x179)](_0x229d3a,_0x2dd12a)['then'](_0x2b3986=>{const _0x11c3f9=_0x230936;_0x143165['push'](..._0x2b3986[_0x11c3f9(0x17f)]),_0xf18d1a[_0x11c3f9(0x165)]('Retrieved:\x20'+Number[_0x11c3f9(0x18b)](_0x143165['length']/_0x117b61*0x64)[_0x11c3f9(0x18a)](0x2)+'%'),_0x2b3986[_0x11c3f9(0x199)][_0x11c3f9(0x197)]&&_0x2cc66e[_0x11c3f9(0x197)]!==_0x143165[_0x11c3f9(0x197)]?callRetrieveVlocityAttachments(_0x9903d0,_0x229d3a,_0x2b3986[_0x11c3f9(0x199)],_0x117b61,_0xf18d1a,_0x143165)[_0x11c3f9(0x176)](()=>_0x159365(_0x143165))['catch'](_0x13eedf=>{_0x5e0a90(_0x13eedf);}):_0x159365(_0x143165);})[_0x230936(0x172)](_0x4bf925=>{_0x5e0a90(_0x4bf925);});}catch(_0x4fe7b2){_0x5e0a90(_0x4fe7b2);}});}function unzipComponentList(_0x54f934,_0x597d36,_0xc9044d){return new Promise((_0x3d507f,_0xa9cf8d)=>{const _0xc63ebd=a19_0xe640;try{_0xc9044d[_0xc63ebd(0x165)]('Start\x20Unzip\x20Component\x20List');let _0x50862b=Promise['resolve']();_0x54f934['forEach'](_0x192913=>{const _0x35143a=_0xc63ebd;_0x50862b=_0x50862b[_0x35143a(0x176)](()=>unzipBuffer(_0x192913,_0x597d36));}),_0x50862b[_0xc63ebd(0x176)](()=>{const _0x18d5d1=_0xc63ebd;_0xc9044d[_0x18d5d1(0x165)](_0x18d5d1(0x174)),_0x3d507f();})['catch'](_0x5ef889=>{const _0x43801a=_0xc63ebd;_0xc9044d[_0x43801a(0x165)](_0x43801a(0x17c)+_0x5ef889),_0xa9cf8d(_0x5ef889);});}catch(_0x3cffb6){_0xc9044d[_0xc63ebd(0x165)](_0xc63ebd(0x17c)+_0x3cffb6),_0xa9cf8d(_0x3cffb6);}});}function unzipBuffer(_0x4d2340,_0x47de44){return new Promise((_0x5d39a8,_0x53aabb)=>{const _0x3518ad=a19_0xe640;try{const _0x3af19f=new AdmZip(Buffer[_0x3518ad(0x164)](_0x4d2340,_0x3518ad(0x178))),_0x3de13f=_0x47de44+'/'+constants['UNZIP_CATALOG_NAME'];_0x3af19f[_0x3518ad(0x171)](_0x3de13f,![]),_0x5d39a8();}catch(_0x275b2b){_0x53aabb(_0x275b2b);}});}function deployData(_0x4e76ce,_0x4ab2aa,_0x710f83,_0x457300,_0x3f8802,_0x2ce3ce,_0x50a828,_0x4740c5){return new Promise((_0x2f7224,_0xb7a037)=>{const _0xfbe19=a19_0xe640;try{_0x4740c5[_0xfbe19(0x165)]('Start\x20Deploy\x20Data');const _0x22852a='vlocity',_0x2657b3=[_0xfbe19(0x194),''+_0x710f83,_0xfbe19(0x168),''+_0x4ab2aa,_0xfbe19(0x190),''+constants['JOB_FILE_NAME'],'-autoRetryErrors'];!!_0x457300&&_0x2657b3[_0xfbe19(0x173)](_0xfbe19(0x19c));!!_0x3f8802&&_0x2657b3[_0xfbe19(0x173)](_0xfbe19(0x181));_0x2657b3[_0xfbe19(0x173)](_0xfbe19(0x18f));_0x2ce3ce&&(_0x2657b3[_0xfbe19(0x173)](_0xfbe19(0x17d)),_0x2657b3['push']('-apex'),_0x2657b3[_0xfbe19(0x173)](_0x50a828));_0x4740c5[_0xfbe19(0x165)](_0x2657b3['slice'](0x2)[_0xfbe19(0x18e)]('\x20'));const _0x28af49={'cwd':_0x4e76ce,'maxBuffer':0x400*0x1f4};childProcess[_0xfbe19(0x184)](_0x22852a,_0x2657b3,_0x4740c5,_0x28af49)[_0xfbe19(0x176)](_0x10b2bd=>{const _0x42b5f8=_0xfbe19;_0x4740c5[_0x42b5f8(0x165)]('End\x20Deploy\x20Data'),_0x2f7224(_0x10b2bd);})[_0xfbe19(0x172)](_0x16e63a=>{const _0x418723=_0xfbe19;_0x4740c5[_0x418723(0x165)](_0x418723(0x163)+_0x16e63a),_0xb7a037(_0x16e63a);});}catch(_0x2fa02a){_0xb7a037(_0x2fa02a);}});}function a19_0xe640(_0x2bd478,_0x5a3f06){const _0x361719=a19_0x3617();return a19_0xe640=function(_0xe6409d,_0x49c550){_0xe6409d=_0xe6409d-0x162;let _0x3f2546=_0x361719[_0xe6409d];return _0x3f2546;},a19_0xe640(_0x2bd478,_0x5a3f06);}function getTime(){const _0x4592e3=a19_0x1b9716,_0x82e098=new Date(),_0x1307f2=[_0x82e098[_0x4592e3(0x17b)](),_0x82e098[_0x4592e3(0x188)]()+0x1,_0x82e098['getFullYear'](),_0x82e098['getHours'](),_0x82e098['getMinutes'](),_0x82e098['getSeconds']()];return _0x1307f2['forEach'](_0x287248=>_0x287248=_0x287248[_0x4592e3(0x16e)]()[_0x4592e3(0x187)](/^([0-9])$/,_0x4592e3(0x19b))),_0x1307f2[0x2]+'-'+_0x1307f2[0x1]+'-'+_0x1307f2[0x0]+'\x20'+_0x1307f2[0x3]+':'+_0x1307f2[0x4]+':'+_0x1307f2[0x5];}module[a19_0x1b9716(0x18d)]={'retrieveSourceComponents':retrieveSourceComponents,'retrieveVlocityAttachments':retrieveVlocityAttachments,'unzipComponentList':unzipComponentList,'deployData':deployData,'getTime':getTime};function a19_0x3617(){const _0x58ae28=['Error\x20Deploy\x20Data\x20','from','log','Error\x20Retrieve\x20Vlocity\x20Attachments','5360dhYdFE','-sf.instanceUrl','End\x20Retrieve\x20Components\x20Ids','7203690iInMSK','4403AoXPja','15702eDirzC','72dMVIub','toString','220179JEqLOh','1045EIixwa','extractAllTo','catch','push','End\x20Unzip\x20Component\x20List','done','then','5386490YVIaUT','base64','post','24286vrajIE','getDate','Error\x20Unzip\x20Component\x20List\x20','runApex','4VXKGJQ','records','Start\x20Retrieve\x20Vlocity\x20Attachments','-separateCalculationProcedureVersions','SELECT\x20Id\x20FROM\x20','Error\x20Retrieve\x20Components\x20Ids','callChildProcess','../../../constants','apex','replace','getMonth','adm-zip','toFixed','parseFloat','Component\x20Id\x20List\x20Length,\x20','exports','join','packDeploy','-job','queryMore','28UzwrGJ','End\x20Retrieve\x20Vlocity\x20Attachments','-sf.accessToken','../../../services/child-process','4080835bOqnoU','length','nextRecordsUrl','ids','Patch__c\x20=\x20\x27','0$1','-separateMatrixVersions','path'];a19_0x3617=function(){return _0x58ae28;};return a19_0x3617();}