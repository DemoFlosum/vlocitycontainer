const a25_0xd07ad2=a25_0x2621;(function(_0x3d57f8,_0xe8679b){const _0x1f0fb2=a25_0x2621,_0x28a1e1=_0x3d57f8();while(!![]){try{const _0x2c0b1f=-parseInt(_0x1f0fb2(0x1bd))/0x1*(parseInt(_0x1f0fb2(0x1ba))/0x2)+-parseInt(_0x1f0fb2(0x1b8))/0x3+parseInt(_0x1f0fb2(0x1a4))/0x4*(parseInt(_0x1f0fb2(0x1b7))/0x5)+-parseInt(_0x1f0fb2(0x195))/0x6+-parseInt(_0x1f0fb2(0x1bb))/0x7+parseInt(_0x1f0fb2(0x1a8))/0x8*(parseInt(_0x1f0fb2(0x19d))/0x9)+parseInt(_0x1f0fb2(0x1ac))/0xa;if(_0x2c0b1f===_0xe8679b)break;else _0x28a1e1['push'](_0x28a1e1['shift']());}catch(_0x5e262b){_0x28a1e1['push'](_0x28a1e1['shift']());}}}(a25_0x106b,0x3a6c3));const fs=require('fs'),AdmZip=require(a25_0xd07ad2(0x19b)),path=require('path'),childProcess=require(a25_0xd07ad2(0x1a9)),constants=require(a25_0xd07ad2(0x1bc));function retrieveSourceComponents(_0x5f38f7,_0x325702,_0x38c2ca,_0x3f3d96){return new Promise((_0xbc0095,_0x474ebc)=>{const _0x4a292e=a25_0x2621;try{_0x3f3d96[_0x4a292e(0x1a2)](_0x4a292e(0x1af));const _0x2d313f=[];_0x5f38f7[_0x4a292e(0x188)]('SELECT\x20Id\x20FROM\x20'+_0x325702+_0x4a292e(0x1b5)+_0x325702+'Patch__c\x20=\x20\x27'+_0x38c2ca+'\x27',(_0x561291,_0x299fa4)=>{const _0x1f4413=_0x4a292e;_0x561291&&_0x474ebc(_0x561291),_0x299fa4['records'][_0x1f4413(0x198)](_0x438d2b=>_0x2d313f[_0x1f4413(0x18c)](_0x438d2b['Id'])),!_0x299fa4[_0x1f4413(0x192)]?retrieveSourceComponentsMore(_0x5f38f7,_0x299fa4[_0x1f4413(0x186)],_0x2d313f)[_0x1f4413(0x19e)](_0x1d5486=>{const _0x2964d7=_0x1f4413;_0x3f3d96[_0x2964d7(0x1a2)](_0x2964d7(0x1b9)+_0x1d5486[_0x2964d7(0x1a3)]),_0x3f3d96[_0x2964d7(0x1a2)](_0x2964d7(0x193)),_0xbc0095(_0x1d5486);})[_0x1f4413(0x197)](_0x25be0a=>{const _0x33c6c4=_0x1f4413;_0x3f3d96[_0x33c6c4(0x1a2)](_0x33c6c4(0x1ad)),_0x474ebc(_0x25be0a);}):(_0x3f3d96[_0x1f4413(0x1a2)](_0x1f4413(0x1b9)+_0x2d313f['length']),_0x3f3d96[_0x1f4413(0x1a2)](_0x1f4413(0x193)),_0xbc0095(_0x2d313f));});}catch(_0x430016){_0x3f3d96[_0x4a292e(0x1a2)]('Error\x20Retrieve\x20Components\x20Ids'),_0x474ebc(_0x430016);}});}function retrieveSourceComponentsMore(_0x14f327,_0x21ce69,_0x198b71){return new Promise((_0x40d711,_0x2635a9)=>{const _0x107c19=a25_0x2621;try{_0x14f327[_0x107c19(0x19c)](_0x21ce69)['then'](_0x14a1c2=>{const _0x40b703=_0x107c19;!_0x14a1c2[_0x40b703(0x192)]?retrieveSourceComponentsMore(_0x14f327,_0x21ce69,_0x198b71)[_0x40b703(0x19e)](_0x2bbad6=>_0x40d711(_0x2bbad6))[_0x40b703(0x197)](_0x1b3f7d=>_0x2635a9(_0x1b3f7d)):_0x40d711(_0x198b71);});}catch(_0x39f11c){_0x2635a9(_0x39f11c);}});}function retrieveVlocityAttachments(_0x244aa3,_0x8b0747,_0x3aadd7,_0x32a07e,_0x53104e=[]){return new Promise((_0x1605c6,_0x9f623e)=>{const _0x14c273=a25_0x2621;try{_0x32a07e[_0x14c273(0x1a2)](_0x14c273(0x19f)),callRetrieveVlocityAttachments(_0x244aa3,_0x8b0747,_0x3aadd7,_0x3aadd7['length'],_0x32a07e,_0x53104e=[])[_0x14c273(0x19e)](_0x184d26=>{const _0x4d64be=_0x14c273;_0x32a07e[_0x4d64be(0x1a2)](_0x4d64be(0x194)),_0x1605c6(_0x184d26);})[_0x14c273(0x197)](_0x3b0caf=>{const _0x1968f0=_0x14c273;_0x32a07e[_0x1968f0(0x1a2)](_0x1968f0(0x1a0)),_0x9f623e(_0x3b0caf);});}catch(_0x27ed40){_0x32a07e[_0x14c273(0x1a2)]('Error\x20Retrieve\x20Vlocity\x20Attachments'),_0x9f623e(_0x27ed40);}});}function callRetrieveVlocityAttachments(_0x54168d,_0x2f03c2,_0x2f7ad4,_0x75a7c5,_0x124113,_0x2556b5=[]){return new Promise((_0x21e321,_0x582d44)=>{const _0x2f7d2a=a25_0x2621;try{const _0xe92d51={'parentIds':_0x2f7ad4};_0x54168d['apex'][_0x2f7d2a(0x1b6)](_0x2f03c2,_0xe92d51)[_0x2f7d2a(0x19e)](_0x2881b7=>{const _0x544cdc=_0x2f7d2a;_0x2556b5[_0x544cdc(0x18c)](..._0x2881b7[_0x544cdc(0x1b1)]),_0x124113[_0x544cdc(0x1a2)](_0x544cdc(0x1bf)+Number['parseFloat'](_0x2556b5[_0x544cdc(0x1a3)]/_0x75a7c5*0x64)[_0x544cdc(0x1ae)](0x2)+'%'),_0x2881b7[_0x544cdc(0x196)][_0x544cdc(0x1a3)]&&_0x2f7ad4[_0x544cdc(0x1a3)]!==_0x2556b5[_0x544cdc(0x1a3)]?callRetrieveVlocityAttachments(_0x54168d,_0x2f03c2,_0x2881b7['ids'],_0x75a7c5,_0x124113,_0x2556b5)[_0x544cdc(0x19e)](()=>_0x21e321(_0x2556b5))[_0x544cdc(0x197)](_0x40af79=>{_0x582d44(_0x40af79);}):_0x21e321(_0x2556b5);})[_0x2f7d2a(0x197)](_0x445f4b=>{_0x582d44(_0x445f4b);});}catch(_0x1db170){_0x582d44(_0x1db170);}});}function unzipComponentList(_0x191855,_0x2ff71a,_0x19fd58){return new Promise((_0x339a73,_0x55abee)=>{const _0xcf2804=a25_0x2621;try{_0x19fd58['log'](_0xcf2804(0x1a7));let _0xf41899=Promise[_0xcf2804(0x18d)]();_0x191855['forEach'](_0x19b798=>{const _0x35d01a=_0xcf2804;_0xf41899=_0xf41899[_0x35d01a(0x19e)](()=>unzipBuffer(_0x19b798,_0x2ff71a));}),_0xf41899[_0xcf2804(0x19e)](()=>{const _0x35a4ba=_0xcf2804;_0x19fd58[_0x35a4ba(0x1a2)](_0x35a4ba(0x18f)),_0x339a73();})['catch'](_0xad8448=>{const _0x387bf3=_0xcf2804;_0x19fd58[_0x387bf3(0x1a2)](_0x387bf3(0x199)+_0xad8448),_0x55abee(_0xad8448);});}catch(_0x4839fe){_0x19fd58[_0xcf2804(0x1a2)]('Error\x20Unzip\x20Component\x20List\x20'+_0x4839fe),_0x55abee(_0x4839fe);}});}function unzipBuffer(_0x4bd727,_0x2a60b9){return new Promise((_0x1733af,_0x1a1b02)=>{const _0x3c3c22=a25_0x2621;try{const _0x421293=new AdmZip(Buffer[_0x3c3c22(0x19a)](_0x4bd727,'base64')),_0x413df2=_0x2a60b9+'/'+constants[_0x3c3c22(0x1c3)];_0x421293[_0x3c3c22(0x1b3)](_0x413df2,![]),_0x1733af();}catch(_0x1c5fae){_0x1a1b02(_0x1c5fae);}});}function a25_0x2621(_0x573c0c,_0x3d64aa){const _0x106b5b=a25_0x106b();return a25_0x2621=function(_0x2621b1,_0x22cd25){_0x2621b1=_0x2621b1-0x186;let _0x1c3e96=_0x106b5b[_0x2621b1];return _0x1c3e96;},a25_0x2621(_0x573c0c,_0x3d64aa);}function deployData(_0x34a2e1,_0x1ce4b0,_0x409e6c,_0x3a109d,_0x5e5d80,_0x5d82cc,_0x4f095f,_0x378a97){return new Promise((_0x27dee1,_0xb3b5d4)=>{const _0x6e2ba7=a25_0x2621;try{_0x378a97[_0x6e2ba7(0x1a2)]('Start\x20Deploy\x20Data');const _0x8bd54f=_0x6e2ba7(0x1c1),_0x469ca1=[_0x6e2ba7(0x1b2),''+_0x409e6c,_0x6e2ba7(0x187),''+_0x1ce4b0,_0x6e2ba7(0x1be),''+constants[_0x6e2ba7(0x1a6)],'-autoRetryErrors'];!!_0x3a109d&&_0x469ca1['push'](_0x6e2ba7(0x18e));!!_0x5e5d80&&_0x469ca1[_0x6e2ba7(0x18c)](_0x6e2ba7(0x191));_0x469ca1['push'](_0x6e2ba7(0x1b4));_0x5d82cc&&(_0x469ca1[_0x6e2ba7(0x18c)]('runApex'),_0x469ca1[_0x6e2ba7(0x18c)]('-apex'),_0x469ca1['push'](_0x4f095f));_0x378a97[_0x6e2ba7(0x1a2)](_0x469ca1[_0x6e2ba7(0x189)](0x2)[_0x6e2ba7(0x1c2)]('\x20'));const _0x236f61={'cwd':_0x34a2e1,'maxBuffer':0x400*0x1f4};childProcess[_0x6e2ba7(0x1c0)](_0x8bd54f,_0x469ca1,_0x378a97,_0x236f61)['then'](_0xad034b=>{const _0x58ee62=_0x6e2ba7;_0x378a97[_0x58ee62(0x1a2)](_0x58ee62(0x1a1)),_0x27dee1(_0xad034b);})[_0x6e2ba7(0x197)](_0xc6ce3a=>{const _0x52dc71=_0x6e2ba7;_0x378a97[_0x52dc71(0x1a2)](_0x52dc71(0x18a)+_0xc6ce3a),_0xb3b5d4(_0xc6ce3a);});}catch(_0x1f39ec){_0xb3b5d4(_0x1f39ec);}});}function getTime(){const _0x3bb9e4=a25_0xd07ad2,_0x141677=new Date(),_0x2a007b=[_0x141677[_0x3bb9e4(0x1b0)](),_0x141677[_0x3bb9e4(0x18b)]()+0x1,_0x141677[_0x3bb9e4(0x190)](),_0x141677['getHours'](),_0x141677[_0x3bb9e4(0x1a5)](),_0x141677[_0x3bb9e4(0x1aa)]()];return _0x2a007b[_0x3bb9e4(0x198)](_0x3bdaf3=>_0x3bdaf3=_0x3bdaf3['toString']()['replace'](/^([0-9])$/,_0x3bb9e4(0x1c4))),_0x2a007b[0x2]+'-'+_0x2a007b[0x1]+'-'+_0x2a007b[0x0]+'\x20'+_0x2a007b[0x3]+':'+_0x2a007b[0x4]+':'+_0x2a007b[0x5];}function a25_0x106b(){const _0x50ed0e=['-separateMatrixVersions','End\x20Unzip\x20Component\x20List','getFullYear','-separateCalculationProcedureVersions','done','End\x20Retrieve\x20Components\x20Ids','End\x20Retrieve\x20Vlocity\x20Attachments','123558VptuKh','ids','catch','forEach','Error\x20Unzip\x20Component\x20List\x20','from','adm-zip','queryMore','2250Nxvcgr','then','Start\x20Retrieve\x20Vlocity\x20Attachments','Error\x20Retrieve\x20Vlocity\x20Attachments','End\x20Deploy\x20Data','log','length','4PXIUzv','getMinutes','JOB_FILE_NAME','Start\x20Unzip\x20Component\x20List','4472lyMeMX','../../../services/child-process','getSeconds','exports','6021430llJVVY','Error\x20Retrieve\x20Components\x20Ids','toFixed','Start\x20Retrieve\x20Components\x20Ids','getDate','records','-sf.accessToken','extractAllTo','packDeploy','Patch_Manifest__c\x20WHERE\x20','post','246745uiMXzy','344970UKYqyw','Component\x20Id\x20List\x20Length,\x20','5550dCNRSI','272720BuYhDA','../../../constants','136FoTZZb','-job','Retrieved:\x20','callChildProcess','vlocity','join','UNZIP_CATALOG_NAME','0$1','nextRecordsUrl','-sf.instanceUrl','query','slice','Error\x20Deploy\x20Data\x20','getMonth','push','resolve'];a25_0x106b=function(){return _0x50ed0e;};return a25_0x106b();}module[a25_0xd07ad2(0x1ab)]={'retrieveSourceComponents':retrieveSourceComponents,'retrieveVlocityAttachments':retrieveVlocityAttachments,'unzipComponentList':unzipComponentList,'deployData':deployData,'getTime':getTime};