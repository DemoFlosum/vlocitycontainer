const a24_0xbf85a4=a24_0x1c21;function a24_0x1c21(_0x3117de,_0x5ad55e){const _0x597cfc=a24_0x597c();return a24_0x1c21=function(_0x1c21da,_0x9150c7){_0x1c21da=_0x1c21da-0xd6;let _0x3aef02=_0x597cfc[_0x1c21da];return _0x3aef02;},a24_0x1c21(_0x3117de,_0x5ad55e);}(function(_0x483328,_0x3d2f20){const _0x21c4b9=a24_0x1c21,_0x585604=_0x483328();while(!![]){try{const _0x288779=-parseInt(_0x21c4b9(0x14f))/0x1*(-parseInt(_0x21c4b9(0x107))/0x2)+-parseInt(_0x21c4b9(0x154))/0x3+-parseInt(_0x21c4b9(0x141))/0x4*(parseInt(_0x21c4b9(0x11f))/0x5)+parseInt(_0x21c4b9(0x14a))/0x6*(-parseInt(_0x21c4b9(0x125))/0x7)+-parseInt(_0x21c4b9(0xeb))/0x8*(parseInt(_0x21c4b9(0xf0))/0x9)+-parseInt(_0x21c4b9(0x16b))/0xa+parseInt(_0x21c4b9(0xee))/0xb*(parseInt(_0x21c4b9(0x116))/0xc);if(_0x288779===_0x3d2f20)break;else _0x585604['push'](_0x585604['shift']());}catch(_0x3643af){_0x585604['push'](_0x585604['shift']());}}}(a24_0x597c,0x46dc3));function a24_0x597c(){const _0x4aaecc=['sobject','jsforce','createBackupChunks','filter','join','stringify','vlocityToken','readFile','Start\x20Create\x20Vlocity\x20Temp\x20Zip','toBuffer','adm-zip','\x20Chunks\x20From\x20','forEach','-job','projectPath:\x20./','../retrieve/helper','/services/apexrest/','errorMessage','createProjectDirectory','645720QWqznA','End\x20Deploy\x20Data','Error\x20Backup\x20Data\x20','unlocked-packages','parse','End\x20\x20Retrieve\x20Vlocity\x20Attachments','\x20Deployed.','Retrieved:\x20','../../../services/storage','Error\x20\x20Retrieve\x20Vlocity\x20Attachments\x20','attachmentPackage','Attachment','End\x20Create\x20Vlocity\x20Temp\x20Zip','METHOD_TYPE_GET_BRANCH_ATTACHMENTS','Error\x20Create\x20Vlocity\x20Temp\x20Zip,\x20Vlocity\x20Temp\x20not\x20found','\x20\x20-\x20','MAX_SIZE_UNZIP_ATTACHMENT','result','SOURCE_FOLDER','Start\x20Retrieve\x20Vlocity\x20Attachments','-Export.yaml','callComponentList','split','log','timestamp','537352ZkQJyE','appendFileSync','Start\x20Add\x20Deployment\x20Status\x20Attachments','143BsFacM','componentsCount','45sqrbuj','completeDeployment','componentIdListJson','packDeploy','Start\x20Create\x20Backup\x20Chunks','Start\x20Send\x20Vlocity\x20Temp','End\x20Create\x20Backup\x20Chunks,\x20size\x20=\x20','-sf.accessToken','status','METHOD_ADD_DEPLOYMENT_STATUS_ATTACHMENTS','logger','Error\x20Add\x20Deployment\x20Status\x20Attachments\x20','flosumToken','Error\x20Create\x20Backup\x20Chunks\x20','isLWCActivation','isSeparateCalculationProcedureVersions','logId','push','then','length','Error\x20Create\x20Vlocity\x20Temp\x20Zip\x20','../../../constants','JOB_FILE_NAME','661074YnhKTA','application/zip','manifest:\x0a','includes','Success','-separateCalculationProcedureVersions','createBackupJobYamlFile','End\x20Send\x20Vlocity\x20Temp','Error\x20add\x20deployment\x20status\x20','CalculationMatrixVersion','callChildProcess','CalculationProcedureVersion','existsSync','addLocalFolder','isEnabledApexPostDeploy','935796wRlQFX','slice','UNZIP_CATALOG_NAME','callBranchComponentList','vlocity','Error\x20update\x20metadata\x20log\x20','size','resolvePromise','isSeparateMatrixVersions','5uWPkrc','vlocityUrl','catch','deployBackup','sendVlocityTemp','recordList','91mJdPTd','errors','backupData','addDeploymentStatusAttachments','Failure','exports','attachLogId','/logs','Error\x20Deploy\x20Data\x20','jsForceConnection','nameSpacePrefix','Connection','deployData','callUpdateLog','branchId','getFolderSize','VLOCITY_JOB_INFO','Start\x20Deploy\x20Data','resolve','CREATED','currentStatus','End\x20Deploy\x20Backup\x20Chunks','apexCode','replace','base64','post','BACKUP_FOLDER','readdirSync','35400tpEdTr','Start\x20Deploy\x20Backup\x20Chunks','idList','Vlocity\x20Temp','lastComponentId','flosumUrl','End\x20Backup\x20Data','lstatSync','updateAttachmentLog','221358FYAssh','VLOCITY_TEMP_CATALOG','projectPath','METHOD_VLOCITY_BACKUP','Start\x20Backup\x20Data','1Ojxdzh','Error\x20Send\x20Vlocity\x20Temp\x20Zip\x20','-autoRetryErrors','-apex','-separateMatrixVersions','495591uJtfhP','job-yaml-','../../../services/child-process','toString'];a24_0x597c=function(){return _0x4aaecc;};return a24_0x597c();}const fs=require('fs'),AdmZip=require(a24_0xbf85a4(0x162)),jsForce=require(a24_0xbf85a4(0x159)),childProcess=require(a24_0xbf85a4(0x156)),constants=require(a24_0xbf85a4(0x105)),http=require('../../../services/http'),storage=require(a24_0xbf85a4(0xda)),{RetrieveHelper}=require(a24_0xbf85a4(0x167));class DeployHelper{constructor(_0x4be0a5,_0x1d3d08,_0x84d9d4){const _0x53e55d=a24_0xbf85a4;this['projectPath']=_0x4be0a5,this[_0x53e55d(0x146)]=_0x1d3d08['flosumUrl'],this['flosumToken']=_0x1d3d08['flosumToken'],this['branchId']=_0x1d3d08['branchId'],this[_0x53e55d(0x12f)]=_0x1d3d08[_0x53e55d(0x12f)],this['vlocityUrl']=_0x1d3d08[_0x53e55d(0x120)],this[_0x53e55d(0x15e)]=_0x1d3d08['vlocityToken'],this[_0x53e55d(0x100)]=_0x1d3d08[_0x53e55d(0x100)],this['isSeparateMatrixVersions']=_0x1d3d08[_0x53e55d(0x11e)],this[_0x53e55d(0xff)]=_0x1d3d08[_0x53e55d(0xff)],this[_0x53e55d(0xfe)]=_0x1d3d08['isLWCActivation'],this[_0x53e55d(0xef)]=_0x1d3d08[_0x53e55d(0xef)],this[_0x53e55d(0xf2)]=_0x1d3d08[_0x53e55d(0xf2)],this[_0x53e55d(0x12b)]=_0x1d3d08[_0x53e55d(0x12b)],this[_0x53e55d(0x115)]=!!_0x1d3d08['isEnabledApexPostDeploy'],this[_0x53e55d(0x13b)]=_0x1d3d08[_0x53e55d(0x13b)],this[_0x53e55d(0xea)]=_0x1d3d08[_0x53e55d(0xea)],this[_0x53e55d(0xfa)]=_0x84d9d4,this[_0x53e55d(0x12e)]=new jsForce[(_0x53e55d(0x130))]({'instanceUrl':this[_0x53e55d(0x146)],'accessToken':this[_0x53e55d(0xfc)]});}['retrieveBranchComponents'](){return new Promise((_0xd52b9f,_0x39b22d)=>{const _0x3f36b8=a24_0x1c21;try{this['logger']['log'](_0x3f36b8(0xe5)),this['callBranchComponentList']()[_0x3f36b8(0x102)](_0x5d4879=>{const _0x17296c=_0x3f36b8;this[_0x17296c(0xfa)][_0x17296c(0xe9)](_0x17296c(0xd7)),_0xd52b9f(_0x5d4879);})['catch'](_0x286ed0=>{const _0x4d6bfe=_0x3f36b8;this[_0x4d6bfe(0xfa)][_0x4d6bfe(0xe9)](_0x4d6bfe(0xdb)+_0x286ed0),_0x39b22d(_0x286ed0);});}catch(_0x19c16e){this['logger'][_0x3f36b8(0xe9)](_0x3f36b8(0xdb)+_0x19c16e),_0x39b22d(_0x19c16e);}});}[a24_0xbf85a4(0x119)](_0x1be027='',_0x4fb9b6=[]){return new Promise((_0x414919,_0xb8a49f)=>{const _0x52a97b=a24_0x1c21;try{const _0xc8d213=this[_0x52a97b(0x12f)]?this[_0x52a97b(0x12f)][_0x52a97b(0x13c)]('__','')+'/':'',_0x4eb71e=this[_0x52a97b(0x146)]+_0x52a97b(0x168)+_0xc8d213+_0x52a97b(0x16e),_0x22b776={'branchId':this[_0x52a97b(0x133)],'lastComponentId':_0x1be027,'componentIdListJson':this[_0x52a97b(0xf2)]},_0x180794={'methodType':constants[_0x52a97b(0xdf)],'body':JSON[_0x52a97b(0x15d)](_0x22b776)};http['post'](_0x4eb71e,this[_0x52a97b(0xfc)],this['nameSpacePrefix'],_0x180794)[_0x52a97b(0x102)](_0x46a4d1=>{const _0x5a15c7=_0x52a97b;let {data:_0x3d815a}=_0x46a4d1;_0x3d815a=JSON[_0x5a15c7(0xd6)](_0x3d815a),this['logger'][_0x5a15c7(0xe9)](_0x5a15c7(0xd9)+Number['parseFloat'](''+_0x4fb9b6[_0x5a15c7(0x103)]/this[_0x5a15c7(0xef)]*0x64)['toFixed'](0x2)+'%'),_0x4fb9b6['push'](..._0x3d815a[_0x5a15c7(0xdc)][_0x5a15c7(0x124)]),_0x3d815a['lastComponentId']!=='-1'?_0x3d815a[_0x5a15c7(0xdc)][_0x5a15c7(0x143)]&&_0x3d815a['attachmentPackage'][_0x5a15c7(0x143)][_0x5a15c7(0x103)]?http[_0x5a15c7(0xe7)](this[_0x5a15c7(0x146)],this[_0x5a15c7(0xfc)],_0x3d815a[_0x5a15c7(0xdc)]['idList'],this[_0x5a15c7(0x12f)],this['componentsCount'],this[_0x5a15c7(0xfa)],_0x4fb9b6)[_0x5a15c7(0x102)](_0x43d1dc=>this[_0x5a15c7(0x119)](_0x3d815a['lastComponentId'],_0x43d1dc))['then'](_0x5c6116=>_0x414919(_0x5c6116))[_0x5a15c7(0x121)](_0x12f23c=>_0xb8a49f(_0x12f23c)):this['callBranchComponentList'](_0x3d815a[_0x5a15c7(0x145)],_0x4fb9b6)[_0x5a15c7(0x102)](_0x7d9b61=>_0x414919(_0x7d9b61))[_0x5a15c7(0x121)](_0x56e760=>{_0xb8a49f(_0x56e760);}):_0x414919(_0x4fb9b6);})[_0x52a97b(0x121)](_0x40e29e=>{_0xb8a49f(_0x40e29e);});}catch(_0x2caaf4){_0xb8a49f(_0x2caaf4);}});}async[a24_0xbf85a4(0x127)](){const _0x1fb7ca=a24_0xbf85a4;try{this[_0x1fb7ca(0xfa)][_0x1fb7ca(0xe9)](_0x1fb7ca(0x14e)),await storage[_0x1fb7ca(0x16a)](this[_0x1fb7ca(0x14c)]+'/'+constants[_0x1fb7ca(0x13f)]),this[_0x1fb7ca(0x10d)]();const _0x4c6b24=fs['readdirSync'](this[_0x1fb7ca(0x14c)]+'/'+constants[_0x1fb7ca(0xe4)]),_0x361e58=new RetrieveHelper(this[_0x1fb7ca(0x14c)]+'/'+constants[_0x1fb7ca(0x13f)],{'isNotIncludeDependencies':!![],'isSeparateMatrixVersions':_0x4c6b24[_0x1fb7ca(0x10a)](_0x1fb7ca(0x110)),'isSeparateCalculationProcedureVersions':_0x4c6b24[_0x1fb7ca(0x10a)](_0x1fb7ca(0x112)),'authFlosum':{'instanceUrl':this[_0x1fb7ca(0x146)],'accessToken':this[_0x1fb7ca(0xfc)]},'authVlosityOrg':{'instanceUrl':this['vlocityUrl'],'accessToken':this[_0x1fb7ca(0x15e)]},'attachLogId':this[_0x1fb7ca(0x12b)],'selectedDataPackTypes':'[]'},this[_0x1fb7ca(0xfa)]);await _0x361e58['retrieveData']();const _0x49438f=await this[_0x1fb7ca(0x15a)]();await this[_0x1fb7ca(0x122)](_0x49438f),this['logger'][_0x1fb7ca(0xe9)](_0x1fb7ca(0x147));}catch(_0x4107ba){this[_0x1fb7ca(0xfa)][_0x1fb7ca(0xe9)](_0x1fb7ca(0x16d)+_0x4107ba);throw _0x4107ba;}}[a24_0xbf85a4(0x10d)](){const _0x2992fc=a24_0xbf85a4;try{let _0x2991ae=_0x2992fc(0x166)+constants[_0x2992fc(0x118)]+'\x0a';_0x2991ae+=_0x2992fc(0x109);const _0x49d587=fs[_0x2992fc(0x140)](this['projectPath']+'/'+constants[_0x2992fc(0xe4)]);for(const _0x1d3b38 of _0x49d587){const _0x50a594=fs['readdirSync'](this[_0x2992fc(0x14c)]+'/'+constants[_0x2992fc(0xe4)]+'/'+_0x1d3b38);for(const _0x2d580f of _0x50a594){_0x2991ae+=_0x2992fc(0xe1)+_0x1d3b38+'/'+_0x2d580f+'\x0a';}}fs[_0x2992fc(0xec)](this['projectPath']+'/'+constants[_0x2992fc(0x13f)]+'/'+constants['JOB_FILE_NAME'],_0x2991ae);}catch(_0x5e9c0e){this[_0x2992fc(0xfa)][_0x2992fc(0xe9)](_0x2992fc(0x16d)+_0x5e9c0e);throw _0x5e9c0e;}}[a24_0xbf85a4(0x134)](_0x1a7a83){const _0x241337=a24_0xbf85a4;let _0x527bb5=0x0;const _0x4c3ed0=fs[_0x241337(0x140)](_0x1a7a83);return _0x4c3ed0[_0x241337(0x164)](_0x34aa71=>{const _0x2cebae=_0x241337,_0x32f72b=fs[_0x2cebae(0x148)](_0x1a7a83+'/'+_0x34aa71);_0x32f72b['isDirectory']()?_0x527bb5+=this[_0x2cebae(0x134)](_0x1a7a83+'/'+_0x34aa71):_0x527bb5+=_0x32f72b[_0x2cebae(0x11c)];}),_0x527bb5;}[a24_0xbf85a4(0x15a)](){return new Promise((_0x28f4af,_0xcb9c25)=>{const _0x404442=a24_0x1c21;try{this[_0x404442(0xfa)][_0x404442(0xe9)](_0x404442(0xf4));const _0x907f3b=[],_0x1ae82e=this['projectPath']+'/'+constants[_0x404442(0x13f)]+'/'+constants[_0x404442(0xe4)];!fs[_0x404442(0x113)](_0x1ae82e)&&_0x28f4af([]);let _0x13c60f=new AdmZip(),_0x4ac427=0x0;const _0x766b39=fs[_0x404442(0x140)](_0x1ae82e);_0x766b39['forEach'](_0x138331=>{const _0x2d5ad6=_0x404442,_0x131738=fs['readdirSync'](_0x1ae82e+'/'+_0x138331);_0x131738[_0x2d5ad6(0x164)](_0x4ce71b=>{const _0x560a2c=_0x2d5ad6,_0x1904c3=_0x1ae82e+'/'+_0x138331+'/'+_0x4ce71b,_0x1be303=this['getFolderSize'](_0x1904c3);_0x4ac427+_0x1be303>constants[_0x560a2c(0xe2)]?(_0x907f3b[_0x560a2c(0x101)](_0x13c60f[_0x560a2c(0x161)]()[_0x560a2c(0x157)](_0x560a2c(0x13d))),_0x13c60f=new AdmZip(),_0x13c60f[_0x560a2c(0x114)](_0x1904c3,_0x138331+'/'+_0x4ce71b),this['logger']['log']('Backup\x20Chunk\x20prepared,\x20size\x20=\x20'+_0x4ac427),_0x4ac427=_0x1be303):(_0x4ac427+=_0x1be303,_0x13c60f['addLocalFolder'](_0x1904c3,_0x138331+'/'+_0x4ce71b));});}),_0x907f3b[_0x404442(0x101)](_0x13c60f[_0x404442(0x161)]()[_0x404442(0x157)]('base64')),this[_0x404442(0xfa)][_0x404442(0xe9)](_0x404442(0xf6)+_0x907f3b[_0x404442(0x103)]),_0x28f4af(_0x907f3b);}catch(_0x32ddc6){this['logger'][_0x404442(0xe9)](_0x404442(0xfd)+_0x32ddc6),_0xcb9c25(_0x32ddc6);}});}['deployBackup'](_0x2e8410){return new Promise((_0x2c4628,_0x18b3f7)=>{const _0x2dc8c4=a24_0x1c21;try{this[_0x2dc8c4(0xfa)][_0x2dc8c4(0xe9)](_0x2dc8c4(0x142));const _0x4e66e3=this[_0x2dc8c4(0x12f)]?.[_0x2dc8c4(0x103)]?this['nameSpacePrefix'][_0x2dc8c4(0x13c)]('__','')+'/':'',_0x5d0dbc=this[_0x2dc8c4(0x146)]+_0x2dc8c4(0x168)+_0x4e66e3+_0x2dc8c4(0x16e);let _0x3e0cb5=Promise[_0x2dc8c4(0x137)]();_0x2e8410[_0x2dc8c4(0x164)]((_0x44141c,_0x224648)=>{_0x3e0cb5=_0x3e0cb5['then'](()=>{const _0x1b70b2=a24_0x1c21,_0x356f34={'vlocityBackupZip':_0x44141c,'metadataLogId':this['logId']},_0x37d7a6={'methodType':constants[_0x1b70b2(0x14d)],'body':JSON['stringify'](_0x356f34)};return http[_0x1b70b2(0x13e)](_0x5d0dbc,this['flosumToken'],this['nameSpacePrefix'],_0x37d7a6)[_0x1b70b2(0x102)](()=>this[_0x1b70b2(0xfa)][_0x1b70b2(0xe9)](_0x224648+0x1+_0x1b70b2(0x163)+_0x2e8410['length']+_0x1b70b2(0xd8)));});}),_0x3e0cb5[_0x2dc8c4(0x102)](()=>{const _0x45d863=_0x2dc8c4;this['logger'][_0x45d863(0xe9)](_0x45d863(0x13a)),_0x2c4628();})['catch'](_0x45a66e=>{const _0x23cedb=_0x2dc8c4;this[_0x23cedb(0xfa)]['log']('Error\x20Deploy\x20Backup\x20Chunks\x20'+_0x45a66e),_0x18b3f7(_0x45a66e);});}catch(_0x435741){this['logger'][_0x2dc8c4(0xe9)]('Error\x20Deploy\x20Backup\x20Chunks\x20'+_0x435741),_0x18b3f7(_0x435741);}});}[a24_0xbf85a4(0x131)](_0x1c0a1c,_0x3657dc){return new Promise((_0x402e6b,_0x50066f)=>{const _0x19f068=a24_0x1c21;try{this['logger'][_0x19f068(0xe9)](_0x19f068(0x136));const _0x599319=_0x19f068(0x11a),_0x2cb449=[_0x19f068(0xf7),this[_0x19f068(0x15e)],'-sf.instanceUrl',this[_0x19f068(0x120)],_0x19f068(0x165),constants[_0x19f068(0x106)],_0x19f068(0x151)];this[_0x19f068(0x11e)]&&_0x2cb449[_0x19f068(0x101)](_0x19f068(0x153));this['isSeparateCalculationProcedureVersions']&&_0x2cb449[_0x19f068(0x101)](_0x19f068(0x10c));_0x2cb449['push'](_0x19f068(0xf3));this['isEnabledApexPostDeploy']&&(_0x2cb449[_0x19f068(0x101)]('runApex'),_0x2cb449[_0x19f068(0x101)](_0x19f068(0x152)),_0x2cb449[_0x19f068(0x101)](_0x1c0a1c));this[_0x19f068(0xfa)]['log'](_0x2cb449[_0x19f068(0x117)](0x2)[_0x19f068(0x15c)]('\x20'));const _0x1a2a1c=()=>{const _0x34d404=_0x19f068;http[_0x34d404(0x149)](this[_0x34d404(0x14c)],this[_0x34d404(0x12e)],this[_0x34d404(0x12b)],this['logger'],![]);},_0x2f50d0={'cwd':this[_0x19f068(0x14c)],'maxBuffer':0x400*0x1f4};childProcess[_0x19f068(0x111)](_0x599319,_0x2cb449,this[_0x19f068(0xfa)],_0x2f50d0,_0x3657dc,_0x1a2a1c)['then'](_0x4ad59e=>{const _0x1341a5=_0x19f068;this[_0x1341a5(0xfa)]['log'](_0x1341a5(0x16c)),_0x402e6b(_0x4ad59e);})[_0x19f068(0x121)](_0xe879ed=>{const _0x1f356d=_0x19f068;this['logger'][_0x1f356d(0xe9)]('Error\x20Deploy\x20Data\x20'+_0xe879ed),_0x50066f(_0xe879ed);});}catch(_0x4a3038){this[_0x19f068(0xfa)][_0x19f068(0xe9)](_0x19f068(0x12d)+_0x4a3038),_0x50066f(_0x4a3038);}});}async['addDeploymentStatusAttachments'](_0x18a076){const _0x2e71ba=a24_0xbf85a4;try{if(!_0x18a076)return 0x0;_0x18a076=JSON[_0x2e71ba(0xd6)](_0x18a076),this[_0x2e71ba(0xfa)][_0x2e71ba(0xe9)](_0x2e71ba(0xed));const _0x5cbe53=[];for(const _0x4d497a in _0x18a076[_0x2e71ba(0x139)]){const _0x3dc152=_0x4d497a[_0x2e71ba(0xe8)]('/');if(_0x3dc152[_0x2e71ba(0x103)]!==0x2)continue;const [_0x3b9f83,_0x53da9e]=_0x3dc152,_0x26e17f={'componentType':_0x3b9f83,'componentName':_0x53da9e},_0x35eb31=_0x18a076['currentStatus'][_0x4d497a];_0x35eb31===_0x2e71ba(0x10b)?(_0x26e17f['status']=_0x2e71ba(0x10b),_0x26e17f[_0x2e71ba(0xe3)]=_0x2e71ba(0x138)):(_0x26e17f[_0x2e71ba(0xf8)]=_0x2e71ba(0x129),_0x26e17f[_0x2e71ba(0x169)]=_0x35eb31),_0x5cbe53[_0x2e71ba(0x101)](_0x26e17f);}const _0x112d86={'deploymentResultList':_0x5cbe53,'metadataLogId':this[_0x2e71ba(0x100)]},_0x3a5437={'methodType':constants[_0x2e71ba(0xf9)],'body':JSON[_0x2e71ba(0x15d)](_0x112d86)},_0x174d7c=this[_0x2e71ba(0x12f)]?.['length']?this['nameSpacePrefix'][_0x2e71ba(0x13c)]('__','')+'/':'',_0x4488c9=this[_0x2e71ba(0x146)]+_0x2e71ba(0x168)+_0x174d7c+_0x2e71ba(0x16e);return await http[_0x2e71ba(0x13e)](_0x4488c9,this[_0x2e71ba(0xfc)],this[_0x2e71ba(0x12f)],_0x3a5437),this[_0x2e71ba(0xfa)]['log']('End\x20Add\x20Deployment\x20Status\x20Attachments'),_0x5cbe53[_0x2e71ba(0x15b)](_0xfd7585=>!_0xfd7585[_0x2e71ba(0x169)])['length'];}catch(_0x30eb6c){this[_0x2e71ba(0xfa)][_0x2e71ba(0xe9)](_0x2e71ba(0xfb)+_0x30eb6c);throw _0x30eb6c;}}[a24_0xbf85a4(0x11d)](_0x13cc9a){return new Promise((_0xc5f39d,_0x13d2a6)=>{const _0x64de7f=a24_0x1c21;try{_0x13cc9a[_0x64de7f(0x102)](_0xc5f39d)[_0x64de7f(0x121)](_0xc5f39d);}catch(_0xce7f07){_0x13d2a6(_0xce7f07);}});}['createVlocityTempZip'](){return new Promise((_0x42bd2a,_0x4382b9)=>{const _0x92c468=a24_0x1c21;try{this[_0x92c468(0xfa)][_0x92c468(0xe9)](_0x92c468(0x160));const _0x2c34a6=this[_0x92c468(0x14c)]+'/'+constants[_0x92c468(0x14b)];if(fs[_0x92c468(0x113)](_0x2c34a6)){const _0xf31a84=_0x2c34a6+_0x92c468(0x12c);if(this[_0x92c468(0xfa)][_0x92c468(0x126)][_0x92c468(0x103)]&&fs[_0x92c468(0x113)](_0xf31a84)){const _0x202f19=fs['readdirSync'](_0xf31a84);if(_0x202f19&&_0x202f19[_0x92c468(0x103)]){const _0x263028=_0x202f19[0x0];if(_0x263028[_0x92c468(0x10a)](_0x92c468(0x155))&&_0x263028[_0x92c468(0x10a)](_0x92c468(0xe6))){const _0x4a38b3='FlosumErrors:\x20'+JSON[_0x92c468(0x15d)](this[_0x92c468(0xfa)][_0x92c468(0x126)]);fs[_0x92c468(0xec)]('./'+_0xf31a84+'/'+_0x263028,_0x4a38b3);}}}const _0x5f12a1=new AdmZip();_0x5f12a1[_0x92c468(0x114)](_0x2c34a6,constants[_0x92c468(0x14b)]),this[_0x92c468(0xfa)][_0x92c468(0xe9)](_0x92c468(0xde)),_0x42bd2a(_0x5f12a1['toBuffer']()[_0x92c468(0x157)]('base64'));}else this[_0x92c468(0xfa)][_0x92c468(0xe9)](_0x92c468(0xe0)),_0x42bd2a();}catch(_0x4f06c3){this['logger'][_0x92c468(0xe9)](_0x92c468(0x104)+_0x4f06c3),_0x42bd2a();}});}[a24_0xbf85a4(0x123)](_0x2f90e4){return new Promise((_0x110616,_0x1b5571)=>{const _0x37f194=a24_0x1c21;try{this[_0x37f194(0xfa)][_0x37f194(0xe9)](_0x37f194(0xf5));const _0x2db843={'Name':_0x37f194(0x144),'ContentType':_0x37f194(0x108),'Description':_0x37f194(0x144),'ParentId':this[_0x37f194(0x100)],'Body':_0x2f90e4};this['jsForceConnection'][_0x37f194(0x158)](_0x37f194(0xdd))['create'](_0x2db843)[_0x37f194(0x102)](()=>{const _0x47ef6f=_0x37f194;this[_0x47ef6f(0xfa)][_0x47ef6f(0xe9)](_0x47ef6f(0x10e)),_0x110616();})[_0x37f194(0x121)](_0x4df25b=>{const _0x2b26ab=_0x37f194;this[_0x2b26ab(0xfa)]['log'](_0x2b26ab(0x150)+_0x4df25b),_0x1b5571(_0x4df25b);});}catch(_0x29f5ff){this[_0x37f194(0xfa)]['log'](_0x37f194(0x150)+_0x29f5ff),_0x1b5571(_0x29f5ff);}});}async[a24_0xbf85a4(0xf1)](_0x5062e7,_0x2f8fa1=![]){const _0x58857c=a24_0xbf85a4,_0x497bc5=await this['createVlocityTempZip']();_0x497bc5&&await this['sendVlocityTemp'](_0x497bc5);let _0x24f62c=this[_0x58857c(0xef)];try{const _0x248983=await storage[_0x58857c(0x15f)](this[_0x58857c(0x14c)],constants[_0x58857c(0x14b)]+'/'+constants[_0x58857c(0x135)],this[_0x58857c(0xfa)]);_0x24f62c=await this[_0x58857c(0x128)](_0x248983);}catch(_0x4b29af){this[_0x58857c(0xfa)][_0x58857c(0xe9)](_0x58857c(0x10f)+_0x4b29af);}const _0x7c0b9a=await http[_0x58857c(0x149)](this['projectPath'],this[_0x58857c(0x12e)],this['attachLogId'],this[_0x58857c(0xfa)],_0x2f8fa1,!![]);try{await http[_0x58857c(0x132)](this['jsForceConnection'],this[_0x58857c(0x100)],this[_0x58857c(0x12f)],_0x5062e7&&_0x24f62c>0x0,this[_0x58857c(0xfa)],_0x7c0b9a||_0x24f62c!==this[_0x58857c(0xef)]);}catch(_0x4347e2){this[_0x58857c(0xfa)][_0x58857c(0xe9)](_0x58857c(0x11b)+_0x4347e2);}}}module[a24_0xbf85a4(0x12a)]={'DeployHelper':DeployHelper};