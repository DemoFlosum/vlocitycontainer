function a23_0x1cf7(_0x39d08b,_0x29789e){const _0x5a4950=a23_0x5a49();return a23_0x1cf7=function(_0x1cf743,_0x205b6b){_0x1cf743=_0x1cf743-0x121;let _0x18fec9=_0x5a4950[_0x1cf743];return _0x18fec9;},a23_0x1cf7(_0x39d08b,_0x29789e);}const a23_0x1044f8=a23_0x1cf7;(function(_0x527c3b,_0x219861){const _0x186968=a23_0x1cf7,_0x43f04f=_0x527c3b();while(!![]){try{const _0x5e38e0=-parseInt(_0x186968(0x188))/0x1+parseInt(_0x186968(0x13c))/0x2+parseInt(_0x186968(0x18b))/0x3+parseInt(_0x186968(0x136))/0x4*(parseInt(_0x186968(0x158))/0x5)+parseInt(_0x186968(0x12c))/0x6+parseInt(_0x186968(0x193))/0x7*(-parseInt(_0x186968(0x1aa))/0x8)+parseInt(_0x186968(0x16b))/0x9*(-parseInt(_0x186968(0x187))/0xa);if(_0x5e38e0===_0x219861)break;else _0x43f04f['push'](_0x43f04f['shift']());}catch(_0x2e63c4){_0x43f04f['push'](_0x43f04f['shift']());}}}(a23_0x5a49,0x397a1));const fs=require('fs'),AdmZip=require('adm-zip'),jsForce=require(a23_0x1044f8(0x165)),childProcess=require('../../../services/child-process'),constants=require(a23_0x1044f8(0x172)),http=require(a23_0x1044f8(0x198)),storage=require(a23_0x1044f8(0x152)),{RetrieveHelper}=require(a23_0x1044f8(0x164));class DeployHelper{constructor(_0x18aa98,_0x112a58,_0x2eae70){const _0x30ebb8=a23_0x1044f8;this[_0x30ebb8(0x147)]=_0x18aa98,this['flosumUrl']=_0x112a58[_0x30ebb8(0x154)],this[_0x30ebb8(0x186)]=_0x112a58['flosumToken'],this[_0x30ebb8(0x180)]=_0x112a58[_0x30ebb8(0x180)],this[_0x30ebb8(0x122)]=_0x112a58[_0x30ebb8(0x122)],this[_0x30ebb8(0x14e)]=_0x112a58[_0x30ebb8(0x14e)],this['vlocityToken']=_0x112a58[_0x30ebb8(0x144)],this[_0x30ebb8(0x143)]=_0x112a58['logId'],this[_0x30ebb8(0x185)]=_0x112a58[_0x30ebb8(0x185)],this[_0x30ebb8(0x142)]=_0x112a58['isSeparateCalculationProcedureVersions'],this[_0x30ebb8(0x160)]=_0x112a58[_0x30ebb8(0x160)],this[_0x30ebb8(0x166)]=_0x112a58[_0x30ebb8(0x166)],this['componentIdListJson']=_0x112a58['componentIdListJson'],this[_0x30ebb8(0x173)]=_0x112a58[_0x30ebb8(0x173)],this[_0x30ebb8(0x1a5)]=!!_0x112a58[_0x30ebb8(0x1a5)],this[_0x30ebb8(0x174)]=_0x112a58[_0x30ebb8(0x174)],this[_0x30ebb8(0x15b)]=_0x112a58['timestamp'],this['logger']=_0x2eae70,this['jsForceConnection']=new jsForce[(_0x30ebb8(0x19e))]({'instanceUrl':this[_0x30ebb8(0x154)],'accessToken':this[_0x30ebb8(0x186)]});}['retrieveBranchComponents'](){return new Promise((_0xba61c3,_0x16fc4)=>{const _0xd4252b=a23_0x1cf7;try{this[_0xd4252b(0x139)][_0xd4252b(0x12a)]('Start\x20Retrieve\x20Vlocity\x20Attachments'),this[_0xd4252b(0x150)]()['then'](_0x2ab7c4=>{const _0x3aaaa3=_0xd4252b;this[_0x3aaaa3(0x139)][_0x3aaaa3(0x12a)](_0x3aaaa3(0x1ab)),_0xba61c3(_0x2ab7c4);})[_0xd4252b(0x169)](_0xa8ade1=>{const _0x42cac9=_0xd4252b;this[_0x42cac9(0x139)]['log'](_0x42cac9(0x182)+_0xa8ade1),_0x16fc4(_0xa8ade1);});}catch(_0x22e27e){this[_0xd4252b(0x139)][_0xd4252b(0x12a)]('Error\x20\x20Retrieve\x20Vlocity\x20Attachments\x20'+_0x22e27e),_0x16fc4(_0x22e27e);}});}[a23_0x1044f8(0x150)](_0x2cd983='',_0x5eba17=[]){return new Promise((_0x505d94,_0x4dde53)=>{const _0x1095e4=a23_0x1cf7;try{const _0x416f5d=this['nameSpacePrefix']?this['nameSpacePrefix'][_0x1095e4(0x190)]('__','')+'/':'',_0xc97654=this[_0x1095e4(0x154)]+_0x1095e4(0x132)+_0x416f5d+'unlocked-packages',_0x1ff519={'branchId':this[_0x1095e4(0x180)],'lastComponentId':_0x2cd983,'componentIdListJson':this['componentIdListJson']},_0x3ff3a2={'methodType':constants[_0x1095e4(0x18f)],'body':JSON['stringify'](_0x1ff519)};http[_0x1095e4(0x1a1)](_0xc97654,this[_0x1095e4(0x186)],this[_0x1095e4(0x122)],_0x3ff3a2)[_0x1095e4(0x15c)](_0x3876b2=>{const _0x60789b=_0x1095e4;let {data:_0x1a7362}=_0x3876b2;_0x1a7362=JSON[_0x60789b(0x16e)](_0x1a7362),this[_0x60789b(0x139)][_0x60789b(0x12a)]('Retrieved:\x20'+Number[_0x60789b(0x179)](''+_0x5eba17[_0x60789b(0x13d)]/this[_0x60789b(0x166)]*0x64)[_0x60789b(0x197)](0x2)+'%'),_0x5eba17[_0x60789b(0x129)](..._0x1a7362[_0x60789b(0x18d)][_0x60789b(0x175)]),_0x1a7362[_0x60789b(0x12b)]!=='-1'?_0x1a7362[_0x60789b(0x18d)][_0x60789b(0x16d)]&&_0x1a7362[_0x60789b(0x18d)][_0x60789b(0x16d)][_0x60789b(0x13d)]?http[_0x60789b(0x17a)](this[_0x60789b(0x154)],this[_0x60789b(0x186)],_0x1a7362[_0x60789b(0x18d)][_0x60789b(0x16d)],this['nameSpacePrefix'],this['componentsCount'],this[_0x60789b(0x139)],_0x5eba17)[_0x60789b(0x15c)](_0x41430c=>this[_0x60789b(0x150)](_0x1a7362[_0x60789b(0x12b)],_0x41430c))['then'](_0x32efa6=>_0x505d94(_0x32efa6))[_0x60789b(0x169)](_0x2268bd=>_0x4dde53(_0x2268bd)):this[_0x60789b(0x150)](_0x1a7362[_0x60789b(0x12b)],_0x5eba17)[_0x60789b(0x15c)](_0x47c335=>_0x505d94(_0x47c335))[_0x60789b(0x169)](_0x24af3f=>{_0x4dde53(_0x24af3f);}):_0x505d94(_0x5eba17);})[_0x1095e4(0x169)](_0x2414fb=>{_0x4dde53(_0x2414fb);});}catch(_0x1e4e4b){_0x4dde53(_0x1e4e4b);}});}async[a23_0x1044f8(0x199)](){const _0x1a8563=a23_0x1044f8;try{this[_0x1a8563(0x139)][_0x1a8563(0x12a)](_0x1a8563(0x15e)),await storage[_0x1a8563(0x1a6)](this[_0x1a8563(0x147)]+'/'+constants[_0x1a8563(0x156)]),this[_0x1a8563(0x1a0)]();const _0x1001cc=fs['readdirSync'](this[_0x1a8563(0x147)]+'/'+constants['SOURCE_FOLDER']),_0x5f0749=new RetrieveHelper(this['projectPath']+'/'+constants[_0x1a8563(0x156)],{'isNotIncludeDependencies':!![],'isSeparateMatrixVersions':_0x1001cc[_0x1a8563(0x130)](_0x1a8563(0x192)),'isSeparateCalculationProcedureVersions':_0x1001cc['includes'](_0x1a8563(0x133)),'authFlosum':{'instanceUrl':this['flosumUrl'],'accessToken':this['flosumToken']},'authVlosityOrg':{'instanceUrl':this['vlocityUrl'],'accessToken':this[_0x1a8563(0x144)]},'attachLogId':this['attachLogId'],'selectedDataPackTypes':'[]'},this[_0x1a8563(0x139)]);await _0x5f0749[_0x1a8563(0x1a9)]();const _0x2401bf=await this[_0x1a8563(0x167)]();await this['deployBackup'](_0x2401bf),this['logger'][_0x1a8563(0x12a)]('End\x20Backup\x20Data');}catch(_0x5c3934){this[_0x1a8563(0x139)][_0x1a8563(0x12a)](_0x1a8563(0x19a)+_0x5c3934);throw _0x5c3934;}}[a23_0x1044f8(0x1a0)](){const _0x4b4676=a23_0x1044f8;try{let _0x1f882d=_0x4b4676(0x195)+constants[_0x4b4676(0x124)]+'\x0a';_0x1f882d+=_0x4b4676(0x145);const _0x3568ae=fs[_0x4b4676(0x121)](this[_0x4b4676(0x147)]+'/'+constants[_0x4b4676(0x196)]);for(const _0xeaddfc of _0x3568ae){const _0x23a097=fs[_0x4b4676(0x121)](this['projectPath']+'/'+constants[_0x4b4676(0x196)]+'/'+_0xeaddfc);for(const _0x19e542 of _0x23a097){_0x1f882d+=_0x4b4676(0x148)+_0xeaddfc+'/'+_0x19e542+'\x0a';}}fs['appendFileSync'](this[_0x4b4676(0x147)]+'/'+constants[_0x4b4676(0x156)]+'/'+constants['JOB_FILE_NAME'],_0x1f882d);}catch(_0xa70e13){this[_0x4b4676(0x139)][_0x4b4676(0x12a)](_0x4b4676(0x19a)+_0xa70e13);throw _0xa70e13;}}[a23_0x1044f8(0x13f)](_0x5de08a){let _0xf9fad=0x0;const _0x6737d7=fs['readdirSync'](_0x5de08a);return _0x6737d7['forEach'](_0x4e244c=>{const _0xc2a2f6=a23_0x1cf7,_0x486047=fs[_0xc2a2f6(0x149)](_0x5de08a+'/'+_0x4e244c);_0x486047[_0xc2a2f6(0x13b)]()?_0xf9fad+=this[_0xc2a2f6(0x13f)](_0x5de08a+'/'+_0x4e244c):_0xf9fad+=_0x486047['size'];}),_0xf9fad;}['createBackupChunks'](){return new Promise((_0x543648,_0x1f9a70)=>{const _0x3ca057=a23_0x1cf7;try{this['logger']['log'](_0x3ca057(0x163));const _0x5e9b6d=[],_0x52d41a=this[_0x3ca057(0x147)]+'/'+constants[_0x3ca057(0x156)]+'/'+constants[_0x3ca057(0x196)];!fs[_0x3ca057(0x146)](_0x52d41a)&&_0x543648([]);let _0x5596f7=new AdmZip(),_0x207502=0x0;const _0x480f66=fs[_0x3ca057(0x121)](_0x52d41a);_0x480f66[_0x3ca057(0x12f)](_0x241fc0=>{const _0x5c87b7=_0x3ca057,_0x44435b=fs[_0x5c87b7(0x121)](_0x52d41a+'/'+_0x241fc0);_0x44435b[_0x5c87b7(0x12f)](_0x53adca=>{const _0x1eed49=_0x5c87b7,_0x75884c=_0x52d41a+'/'+_0x241fc0+'/'+_0x53adca,_0x1639c9=this[_0x1eed49(0x13f)](_0x75884c);_0x207502+_0x1639c9>constants['MAX_SIZE_UNZIP_ATTACHMENT']?(_0x5e9b6d['push'](_0x5596f7[_0x1eed49(0x140)]()[_0x1eed49(0x176)](_0x1eed49(0x17b))),_0x5596f7=new AdmZip(),_0x5596f7[_0x1eed49(0x16c)](_0x75884c,_0x241fc0+'/'+_0x53adca),this[_0x1eed49(0x139)][_0x1eed49(0x12a)](_0x1eed49(0x137)+_0x207502),_0x207502=_0x1639c9):(_0x207502+=_0x1639c9,_0x5596f7['addLocalFolder'](_0x75884c,_0x241fc0+'/'+_0x53adca));});}),_0x5e9b6d[_0x3ca057(0x129)](_0x5596f7['toBuffer']()[_0x3ca057(0x176)](_0x3ca057(0x17b))),this[_0x3ca057(0x139)][_0x3ca057(0x12a)]('End\x20Create\x20Backup\x20Chunks,\x20size\x20=\x20'+_0x5e9b6d[_0x3ca057(0x13d)]),_0x543648(_0x5e9b6d);}catch(_0x3e34be){this[_0x3ca057(0x139)][_0x3ca057(0x12a)]('Error\x20Create\x20Backup\x20Chunks\x20'+_0x3e34be),_0x1f9a70(_0x3e34be);}});}[a23_0x1044f8(0x1a3)](_0x1aa0c7){return new Promise((_0x4715af,_0xbe7994)=>{const _0x3a999f=a23_0x1cf7;try{this[_0x3a999f(0x139)][_0x3a999f(0x12a)]('Start\x20Deploy\x20Backup\x20Chunks');const _0x4e13b8=this[_0x3a999f(0x122)]?.[_0x3a999f(0x13d)]?this[_0x3a999f(0x122)][_0x3a999f(0x190)]('__','')+'/':'',_0x57fbbc=this[_0x3a999f(0x154)]+_0x3a999f(0x132)+_0x4e13b8+_0x3a999f(0x131);let _0x515fa2=Promise['resolve']();_0x1aa0c7[_0x3a999f(0x12f)]((_0x70d7d,_0x59a721)=>{const _0x3259fc=_0x3a999f;_0x515fa2=_0x515fa2[_0x3259fc(0x15c)](()=>{const _0x5b770f=_0x3259fc,_0x472e62={'vlocityBackupZip':_0x70d7d,'metadataLogId':this[_0x5b770f(0x143)]},_0x2a939d={'methodType':constants['METHOD_VLOCITY_BACKUP'],'body':JSON[_0x5b770f(0x155)](_0x472e62)};return http[_0x5b770f(0x1a1)](_0x57fbbc,this[_0x5b770f(0x186)],this[_0x5b770f(0x122)],_0x2a939d)[_0x5b770f(0x15c)](()=>this[_0x5b770f(0x139)]['log'](_0x59a721+0x1+'\x20Chunks\x20From\x20'+_0x1aa0c7[_0x5b770f(0x13d)]+_0x5b770f(0x1a4)));});}),_0x515fa2[_0x3a999f(0x15c)](()=>{const _0x1f8271=_0x3a999f;this[_0x1f8271(0x139)][_0x1f8271(0x12a)]('End\x20Deploy\x20Backup\x20Chunks'),_0x4715af();})[_0x3a999f(0x169)](_0x5ca0df=>{const _0x4184ba=_0x3a999f;this['logger'][_0x4184ba(0x12a)](_0x4184ba(0x135)+_0x5ca0df),_0xbe7994(_0x5ca0df);});}catch(_0x43fef2){this[_0x3a999f(0x139)][_0x3a999f(0x12a)](_0x3a999f(0x135)+_0x43fef2),_0xbe7994(_0x43fef2);}});}[a23_0x1044f8(0x127)](_0x93fd5d,_0x2ba95d){return new Promise((_0x3e9418,_0x4a53be)=>{const _0x3a6a38=a23_0x1cf7;try{this[_0x3a6a38(0x139)]['log'](_0x3a6a38(0x177));const _0x56a7ea=_0x3a6a38(0x15d),_0x1cded5=[_0x3a6a38(0x14f),this[_0x3a6a38(0x144)],_0x3a6a38(0x13a),this['vlocityUrl'],_0x3a6a38(0x178),constants[_0x3a6a38(0x19f)],'-autoRetryErrors'];this[_0x3a6a38(0x185)]&&_0x1cded5[_0x3a6a38(0x129)](_0x3a6a38(0x191));this['isSeparateCalculationProcedureVersions']&&_0x1cded5[_0x3a6a38(0x129)](_0x3a6a38(0x181));_0x1cded5[_0x3a6a38(0x129)](_0x3a6a38(0x14b));this[_0x3a6a38(0x1a5)]&&(_0x1cded5['push'](_0x3a6a38(0x12e)),_0x1cded5[_0x3a6a38(0x129)](_0x3a6a38(0x1ad)),_0x1cded5[_0x3a6a38(0x129)](_0x93fd5d));this['logger'][_0x3a6a38(0x12a)](_0x1cded5[_0x3a6a38(0x184)](0x2)[_0x3a6a38(0x14d)]('\x20'));const _0x31a581=()=>{const _0x54a663=_0x3a6a38;http[_0x54a663(0x1a2)](this[_0x54a663(0x147)],this[_0x54a663(0x18e)],this[_0x54a663(0x173)],this[_0x54a663(0x139)],![]);},_0x503bca={'cwd':this[_0x3a6a38(0x147)],'maxBuffer':0x400*0x1f4};childProcess[_0x3a6a38(0x189)](_0x56a7ea,_0x1cded5,this[_0x3a6a38(0x139)],_0x503bca,_0x2ba95d,_0x31a581)[_0x3a6a38(0x15c)](_0x1b17d5=>{const _0x182013=_0x3a6a38;this[_0x182013(0x139)][_0x182013(0x12a)]('End\x20Deploy\x20Data'),_0x3e9418(_0x1b17d5);})[_0x3a6a38(0x169)](_0x37e5e3=>{const _0x4e52dc=_0x3a6a38;this['logger'][_0x4e52dc(0x12a)]('Error\x20Deploy\x20Data\x20'+_0x37e5e3),_0x4a53be(_0x37e5e3);});}catch(_0x2d9b98){this['logger'][_0x3a6a38(0x12a)](_0x3a6a38(0x157)+_0x2d9b98),_0x4a53be(_0x2d9b98);}});}async[a23_0x1044f8(0x138)](_0x555dff){const _0x313c29=a23_0x1044f8;try{if(!_0x555dff)return 0x0;_0x555dff=JSON[_0x313c29(0x16e)](_0x555dff),this['logger'][_0x313c29(0x12a)](_0x313c29(0x19b));const _0x4cae21=[];for(const _0x11d672 in _0x555dff['currentStatus']){const _0x1487fd=_0x11d672[_0x313c29(0x1ac)]('/');if(_0x1487fd['length']!==0x2)continue;const [_0xe2fc92,_0x12cb4c]=_0x1487fd,_0x30ac5b={'componentType':_0xe2fc92,'componentName':_0x12cb4c},_0xdb3049=_0x555dff[_0x313c29(0x123)][_0x11d672];_0xdb3049==='Success'?(_0x30ac5b[_0x313c29(0x141)]=_0x313c29(0x16a),_0x30ac5b[_0x313c29(0x15f)]=_0x313c29(0x126)):(_0x30ac5b['status']=_0x313c29(0x15a),_0x30ac5b[_0x313c29(0x17e)]=_0xdb3049),_0x4cae21[_0x313c29(0x129)](_0x30ac5b);}const _0x1f1444={'deploymentResultList':_0x4cae21,'metadataLogId':this[_0x313c29(0x143)]},_0x20bd6a={'methodType':constants['METHOD_ADD_DEPLOYMENT_STATUS_ATTACHMENTS'],'body':JSON['stringify'](_0x1f1444)},_0x4310a2=this['nameSpacePrefix']?.[_0x313c29(0x13d)]?this[_0x313c29(0x122)][_0x313c29(0x190)]('__','')+'/':'',_0x22b23d=this['flosumUrl']+_0x313c29(0x132)+_0x4310a2+_0x313c29(0x131);return await http[_0x313c29(0x1a1)](_0x22b23d,this[_0x313c29(0x186)],this['nameSpacePrefix'],_0x20bd6a),this[_0x313c29(0x139)]['log'](_0x313c29(0x1a7)),_0x4cae21[_0x313c29(0x17d)](_0x1e6da5=>!_0x1e6da5[_0x313c29(0x17e)])[_0x313c29(0x13d)];}catch(_0x4f4f10){this[_0x313c29(0x139)][_0x313c29(0x12a)](_0x313c29(0x162)+_0x4f4f10);throw _0x4f4f10;}}[a23_0x1044f8(0x13e)](_0x1c0880){return new Promise((_0x574f1a,_0x35b76d)=>{const _0x3539a7=a23_0x1cf7;try{_0x1c0880['then'](_0x574f1a)[_0x3539a7(0x169)](_0x574f1a);}catch(_0x2db771){_0x35b76d(_0x2db771);}});}[a23_0x1044f8(0x153)](){return new Promise((_0x341373,_0x371e35)=>{const _0x1b7813=a23_0x1cf7;try{this[_0x1b7813(0x139)]['log'](_0x1b7813(0x171));const _0x416a9e=this[_0x1b7813(0x147)]+'/'+constants[_0x1b7813(0x19c)];if(fs[_0x1b7813(0x146)](_0x416a9e)){const _0x590cd3=_0x416a9e+_0x1b7813(0x19d);if(this[_0x1b7813(0x139)][_0x1b7813(0x134)]['length']&&fs[_0x1b7813(0x146)](_0x590cd3)){const _0x36e527=fs['readdirSync'](_0x590cd3);if(_0x36e527&&_0x36e527[_0x1b7813(0x13d)]){const _0x3cb9ae=_0x36e527[0x0];if(_0x3cb9ae[_0x1b7813(0x130)](_0x1b7813(0x1a8))&&_0x3cb9ae[_0x1b7813(0x130)](_0x1b7813(0x18a))){const _0x8e368a=_0x1b7813(0x128)+JSON[_0x1b7813(0x155)](this[_0x1b7813(0x139)][_0x1b7813(0x134)]);fs[_0x1b7813(0x183)]('./'+_0x590cd3+'/'+_0x3cb9ae,_0x8e368a);}}}const _0x66552d=new AdmZip();_0x66552d[_0x1b7813(0x16c)](_0x416a9e,constants[_0x1b7813(0x19c)]),this[_0x1b7813(0x139)]['log']('End\x20Create\x20Vlocity\x20Temp\x20Zip'),_0x341373(_0x66552d[_0x1b7813(0x140)]()[_0x1b7813(0x176)](_0x1b7813(0x17b)));}else this[_0x1b7813(0x139)]['log'](_0x1b7813(0x161)),_0x341373();}catch(_0x300aa7){this['logger'][_0x1b7813(0x12a)](_0x1b7813(0x151)+_0x300aa7),_0x341373();}});}['sendVlocityTemp'](_0x1742b9){return new Promise((_0x22c236,_0x502a09)=>{const _0x52d09b=a23_0x1cf7;try{this[_0x52d09b(0x139)][_0x52d09b(0x12a)](_0x52d09b(0x170));const _0x27a226={'Name':_0x52d09b(0x168),'ContentType':'application/zip','Description':_0x52d09b(0x168),'ParentId':this[_0x52d09b(0x143)],'Body':_0x1742b9};this[_0x52d09b(0x18e)][_0x52d09b(0x14a)](_0x52d09b(0x16f))[_0x52d09b(0x17f)](_0x27a226)[_0x52d09b(0x15c)](()=>{const _0x6e504e=_0x52d09b;this[_0x6e504e(0x139)][_0x6e504e(0x12a)](_0x6e504e(0x12d)),_0x22c236();})[_0x52d09b(0x169)](_0x26b709=>{const _0x52aec9=_0x52d09b;this[_0x52aec9(0x139)][_0x52aec9(0x12a)](_0x52aec9(0x14c)+_0x26b709),_0x502a09(_0x26b709);});}catch(_0x4bcc44){this[_0x52d09b(0x139)][_0x52d09b(0x12a)](_0x52d09b(0x14c)+_0x4bcc44),_0x502a09(_0x4bcc44);}});}async[a23_0x1044f8(0x194)](_0x5878f1,_0x2fd7ad=![]){const _0x44b127=a23_0x1044f8,_0x49e3c9=await this[_0x44b127(0x153)]();_0x49e3c9&&await this[_0x44b127(0x17c)](_0x49e3c9);let _0xa1ac7e=this['componentsCount'];try{const _0x34222e=await storage['readFile'](this[_0x44b127(0x147)],constants[_0x44b127(0x19c)]+'/'+constants[_0x44b127(0x125)],this[_0x44b127(0x139)]);_0xa1ac7e=await this[_0x44b127(0x138)](_0x34222e);}catch(_0x2a734d){this[_0x44b127(0x139)][_0x44b127(0x12a)](_0x44b127(0x159)+_0x2a734d);}const _0x4bb8c1=await http['updateAttachmentLog'](this[_0x44b127(0x147)],this[_0x44b127(0x18e)],this['attachLogId'],this[_0x44b127(0x139)],_0x2fd7ad,!![]);try{await http[_0x44b127(0x18c)](this[_0x44b127(0x18e)],this[_0x44b127(0x143)],this[_0x44b127(0x122)],_0x5878f1&&_0xa1ac7e>0x0,this['logger'],_0x4bb8c1||_0xa1ac7e!==this['componentsCount']);}catch(_0x30a3b7){this[_0x44b127(0x139)][_0x44b127(0x12a)]('Error\x20update\x20metadata\x20log\x20'+_0x30a3b7);}}}module['exports']={'DeployHelper':DeployHelper};function a23_0x5a49(){const _0x24c52a=['toString','Start\x20Deploy\x20Data','-job','parseFloat','callComponentList','base64','sendVlocityTemp','filter','errorMessage','create','branchId','-separateCalculationProcedureVersions','Error\x20\x20Retrieve\x20Vlocity\x20Attachments\x20','appendFileSync','slice','isSeparateMatrixVersions','flosumToken','2870RKewbQ','48020QQkyCR','callChildProcess','-Export.yaml','1069182aJRHEi','callUpdateLog','attachmentPackage','jsForceConnection','METHOD_TYPE_GET_BRANCH_ATTACHMENTS','replace','-separateMatrixVersions','CalculationMatrixVersion','14nlYSYk','completeDeployment','projectPath:\x20./','SOURCE_FOLDER','toFixed','../../../services/http','backupData','Error\x20Backup\x20Data\x20','Start\x20Add\x20Deployment\x20Status\x20Attachments','VLOCITY_TEMP_CATALOG','/logs','Connection','JOB_FILE_NAME','createBackupJobYamlFile','post','updateAttachmentLog','deployBackup','\x20Deployed.','isEnabledApexPostDeploy','createProjectDirectory','End\x20Add\x20Deployment\x20Status\x20Attachments','job-yaml-','retrieveData','26576DnnMFl','End\x20\x20Retrieve\x20Vlocity\x20Attachments','split','-apex','readdirSync','nameSpacePrefix','currentStatus','UNZIP_CATALOG_NAME','VLOCITY_JOB_INFO','CREATED','deployData','FlosumErrors:\x20','push','log','lastComponentId','1144536GXnjYT','End\x20Send\x20Vlocity\x20Temp','runApex','forEach','includes','unlocked-packages','/services/apexrest/','CalculationProcedureVersion','errors','Error\x20Deploy\x20Backup\x20Chunks\x20','76QnFifZ','Backup\x20Chunk\x20prepared,\x20size\x20=\x20','addDeploymentStatusAttachments','logger','-sf.instanceUrl','isDirectory','7580WhaCXr','length','resolvePromise','getFolderSize','toBuffer','status','isSeparateCalculationProcedureVersions','logId','vlocityToken','manifest:\x0a','existsSync','projectPath','\x20\x20-\x20','lstatSync','sobject','packDeploy','Error\x20Send\x20Vlocity\x20Temp\x20Zip\x20','join','vlocityUrl','-sf.accessToken','callBranchComponentList','Error\x20Create\x20Vlocity\x20Temp\x20Zip\x20','../../../services/storage','createVlocityTempZip','flosumUrl','stringify','BACKUP_FOLDER','Error\x20Deploy\x20Data\x20','104990RTyfCK','Error\x20add\x20deployment\x20status\x20','Failure','timestamp','then','vlocity','Start\x20Backup\x20Data','result','isLWCActivation','Error\x20Create\x20Vlocity\x20Temp\x20Zip,\x20Vlocity\x20Temp\x20not\x20found','Error\x20Add\x20Deployment\x20Status\x20Attachments\x20','Start\x20Create\x20Backup\x20Chunks','../retrieve/helper','jsforce','componentsCount','createBackupChunks','Vlocity\x20Temp','catch','Success','20691Bhpmbb','addLocalFolder','idList','parse','Attachment','Start\x20Send\x20Vlocity\x20Temp','Start\x20Create\x20Vlocity\x20Temp\x20Zip','../../../constants','attachLogId','apexCode','recordList'];a23_0x5a49=function(){return _0x24c52a;};return a23_0x5a49();}