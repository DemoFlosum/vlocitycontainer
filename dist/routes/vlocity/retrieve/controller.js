function a31_0x4e90(_0x401ee1,_0x9931dc){const _0x51452d=a31_0x5145();return a31_0x4e90=function(_0x4e9047,_0x511339){_0x4e9047=_0x4e9047-0x1d1;let _0x401474=_0x51452d[_0x4e9047];return _0x401474;},a31_0x4e90(_0x401ee1,_0x9931dc);}const a31_0x186858=a31_0x4e90;(function(_0x38d7b1,_0x44c57d){const _0x26a56a=a31_0x4e90,_0x95b429=_0x38d7b1();while(!![]){try{const _0x5710f5=-parseInt(_0x26a56a(0x1d6))/0x1+parseInt(_0x26a56a(0x1ef))/0x2+parseInt(_0x26a56a(0x202))/0x3*(parseInt(_0x26a56a(0x1f0))/0x4)+parseInt(_0x26a56a(0x1e1))/0x5+-parseInt(_0x26a56a(0x1f9))/0x6+parseInt(_0x26a56a(0x1e0))/0x7+parseInt(_0x26a56a(0x1ff))/0x8*(parseInt(_0x26a56a(0x1eb))/0x9);if(_0x5710f5===_0x44c57d)break;else _0x95b429['push'](_0x95b429['shift']());}catch(_0x1101ed){_0x95b429['push'](_0x95b429['shift']());}}}(a31_0x5145,0x557a6));function a31_0x5145(){const _0x286214=['packRetry','then','71824NFBdMC','2461416dbtxqc','catch','join','exports','createProjectDirectory','logId','isRunPackRetryAutomatically','existsSync','authVlosityOrg','3517416mQcWnS','nameSpacePrefix','attachLogId','../../../services/http','prepareDataForDeploy','SOURCE_FOLDER','23672aUifdb','log','deployComponents','3ICYnHq','../../../constants','instanceUrl','resolve','removeProject','Snapshot\x20has\x20errors,\x20Start\x20PackRetry\x20command:','375225dLIxfI','accessToken','path','completeDeployment','Retrieval\x20(SFI)\x20started:\x20','snapshotId','checkExistComponents','createJobYamlFile','rmdirSync','retrieveData','2846081ykfWyy','1209470JqaZwZ','./helper','timestamp','---\x20body','../../../config/path','authFlosum','checkErrors','valueOf','getTime','PackRetry','36iHaQpw','../../../services/storage'];a31_0x5145=function(){return _0x286214;};return a31_0x5145();}const fs=require('fs'),path=require(a31_0x186858(0x1d8)),{RetrieveHelper}=require(a31_0x186858(0x1e2)),http=require(a31_0x186858(0x1fc)),storage=require(a31_0x186858(0x1ec)),packRetry=require('../pack-retry/controller'),constants=require(a31_0x186858(0x1d1)),{pathConfig}=require(a31_0x186858(0x1e5));function retrieve(_0x5d7610,_0x2fbf8c){return new Promise((_0x5821bc,_0x16c0e5)=>{const _0x587095=a31_0x4e90;try{console[_0x587095(0x200)](_0x587095(0x1e4)),console[_0x587095(0x200)](_0x5d7610),_0x2fbf8c[_0x587095(0x200)](_0x587095(0x1da)+http[_0x587095(0x1e9)]());const _0x1193b2=new Date()[_0x587095(0x1e8)](),_0x267815=_0x5d7610['snapshotType']+'_'+_0x1193b2+'_'+_0x5d7610[_0x587095(0x1f5)],_0xb0ed7=path[_0x587095(0x1f2)](pathConfig['tmpPath'],_0x267815),_0x920298=new RetrieveHelper(_0xb0ed7,_0x5d7610,_0x2fbf8c);Promise['resolve']()[_0x587095(0x1ee)](()=>storage[_0x587095(0x1f4)](_0xb0ed7))[_0x587095(0x1ee)](()=>_0x920298[_0x587095(0x1dd)]())['then'](()=>_0x920298[_0x587095(0x1df)]())[_0x587095(0x1ee)](()=>storage[_0x587095(0x1dc)](_0xb0ed7,_0x2fbf8c))[_0x587095(0x1ee)](_0x23ec07=>{const _0x2c35ee=_0x587095;if(_0x23ec07)return _0x920298[_0x2c35ee(0x1fd)]()['then'](_0x298f94=>_0x920298[_0x2c35ee(0x201)](_0x298f94));return Promise[_0x2c35ee(0x1d3)]();})['then'](()=>{const _0x290264=_0x587095;if(_0x5d7610[_0x290264(0x1f6)])return _0x920298[_0x290264(0x1e7)](_0xb0ed7,_0x2fbf8c);return Promise['resolve'](![]);})[_0x587095(0x1ee)](_0x4a6106=>{const _0x55097e=_0x587095;if(_0x5d7610['isRunPackRetryAutomatically']&&_0x4a6106){_0x2fbf8c[_0x55097e(0x200)](_0x55097e(0x1d5));const _0x2a75c0={'flosumUrl':_0x5d7610['authFlosum'][_0x55097e(0x1d2)],'flosumToken':_0x5d7610[_0x55097e(0x1e6)][_0x55097e(0x1d7)],'vlocityUrl':_0x5d7610[_0x55097e(0x1f8)][_0x55097e(0x1d2)],'vlocityToken':_0x5d7610[_0x55097e(0x1f8)][_0x55097e(0x1d7)],'logId':_0x5d7610[_0x55097e(0x1f5)],'attachLogId':_0x5d7610[_0x55097e(0x1fb)],'timestamp':_0x5d7610[_0x55097e(0x1e3)],'nameSpacePrefix':_0x5d7610[_0x55097e(0x1fa)],'snapshotType':_0x55097e(0x1ea),'snapshotId':_0x5d7610[_0x55097e(0x1db)],'projectName':_0x267815};return fs[_0x55097e(0x1f7)](_0xb0ed7+'/'+constants[_0x55097e(0x1fe)])&&fs[_0x55097e(0x1de)](_0xb0ed7+'/'+constants[_0x55097e(0x1fe)],{'recursive':!![]}),packRetry[_0x55097e(0x1ed)](_0x2a75c0,_0x2fbf8c);}return Promise[_0x55097e(0x1d3)]();})[_0x587095(0x1ee)](()=>_0x920298[_0x587095(0x1d9)](!![]))['catch'](_0x462a92=>{const _0x11310d=_0x587095;_0x920298['completeDeployment'](!![],!![])[_0x11310d(0x1ee)](()=>_0x16c0e5(_0x462a92))[_0x11310d(0x1f1)](_0x2f1ada=>_0x16c0e5(_0x462a92+'\x0a'+_0x2f1ada));})['then'](()=>storage[_0x587095(0x1d4)](_0xb0ed7,_0x2fbf8c));}catch(_0x400560){_0x16c0e5(_0x400560);}});}module[a31_0x186858(0x1f3)]={'retrieve':retrieve};