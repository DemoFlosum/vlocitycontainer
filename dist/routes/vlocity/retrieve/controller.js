function a39_0x3724(){const _0x4ca30e=['rmdirSync','createJobYamlFile','authFlosum','../pack-retry/controller','instanceUrl','snapshotType','1507420GIyDpE','logId','join','Snapshot\x20has\x20errors,\x20Start\x20PackRetry\x20command:','16bNZIsK','valueOf','exports','isRunPackRetryAutomatically','then','224419AxCKca','3086BCDfTU','tmpPath','snapshotId','resolve','attachLogId','createProjectDirectory','135lIViOz','accessToken','nameSpacePrefix','deployComponents','735910Hootue','2478pKmeDe','5036760qGmiqe','---\x20body','prepareDataForDeploy','../../../constants','log','3080749LAoLfB','catch','./helper','retrieveData','completeDeployment','PackRetry','7232340sMebAx','checkErrors','SOURCE_FOLDER','authVlosityOrg'];a39_0x3724=function(){return _0x4ca30e;};return a39_0x3724();}const a39_0xc35add=a39_0x33e0;(function(_0x1c0879,_0x1d6fa0){const _0x26bc81=a39_0x33e0,_0x3505c4=_0x1c0879();while(!![]){try{const _0x4a0483=parseInt(_0x26bc81(0xf7))/0x1+parseInt(_0x26bc81(0xf8))/0x2*(parseInt(_0x26bc81(0x103))/0x3)+-parseInt(_0x26bc81(0xee))/0x4+parseInt(_0x26bc81(0x104))/0x5+-parseInt(_0x26bc81(0x10f))/0x6+-parseInt(_0x26bc81(0x109))/0x7*(-parseInt(_0x26bc81(0xf2))/0x8)+-parseInt(_0x26bc81(0xfe))/0x9*(parseInt(_0x26bc81(0x102))/0xa);if(_0x4a0483===_0x1d6fa0)break;else _0x3505c4['push'](_0x3505c4['shift']());}catch(_0x2a8b91){_0x3505c4['push'](_0x3505c4['shift']());}}}(a39_0x3724,0xaafe9));const fs=require('fs'),path=require('path'),{RetrieveHelper}=require(a39_0xc35add(0x10b)),http=require('../../../services/http'),storage=require('../../../services/storage'),packRetry=require(a39_0xc35add(0xeb)),constants=require(a39_0xc35add(0x107)),{pathConfig}=require('../../../config/path');function a39_0x33e0(_0xf5344c,_0x4284ac){const _0x3724c3=a39_0x3724();return a39_0x33e0=function(_0x33e053,_0x5d8005){_0x33e053=_0x33e053-0xe6;let _0x46f2ab=_0x3724c3[_0x33e053];return _0x46f2ab;},a39_0x33e0(_0xf5344c,_0x4284ac);}function retrieve(_0x47724a,_0x22b2f6){return new Promise((_0x32e64d,_0xb1303d)=>{const _0x17175e=a39_0x33e0;try{console[_0x17175e(0x108)](_0x17175e(0x105)),console[_0x17175e(0x108)](_0x47724a),_0x22b2f6['log']('Retrieval\x20(SFI)\x20started:\x20'+http['getTime']());const _0x4eab9c=new Date()[_0x17175e(0xf3)](),_0x4ae6fe=_0x47724a[_0x17175e(0xed)]+'_'+_0x4eab9c+'_'+_0x47724a[_0x17175e(0xef)],_0x34ac11=path[_0x17175e(0xf0)](pathConfig[_0x17175e(0xf9)],_0x4ae6fe),_0x577d62=new RetrieveHelper(_0x34ac11,_0x47724a,_0x22b2f6);Promise[_0x17175e(0xfb)]()[_0x17175e(0xf6)](()=>storage[_0x17175e(0xfd)](_0x34ac11))['then'](()=>_0x577d62[_0x17175e(0xe9)]())[_0x17175e(0xf6)](()=>_0x577d62[_0x17175e(0x10c)]())[_0x17175e(0xf6)](()=>storage['checkExistComponents'](_0x34ac11,_0x22b2f6))[_0x17175e(0xf6)](_0x38f677=>{const _0x52c93f=_0x17175e;if(_0x38f677)return _0x577d62[_0x52c93f(0x106)]()['then'](_0x32c9c1=>_0x577d62[_0x52c93f(0x101)](_0x32c9c1));return Promise[_0x52c93f(0xfb)]();})[_0x17175e(0xf6)](()=>{const _0x3e8da3=_0x17175e;if(_0x47724a[_0x3e8da3(0xf5)])return _0x577d62[_0x3e8da3(0x110)](_0x34ac11,_0x22b2f6);return Promise['resolve'](![]);})[_0x17175e(0xf6)](_0x2895f4=>{const _0x1857bd=_0x17175e;if(_0x47724a['isRunPackRetryAutomatically']&&_0x2895f4){_0x22b2f6[_0x1857bd(0x108)](_0x1857bd(0xf1));const _0x23c0f6={'flosumUrl':_0x47724a[_0x1857bd(0xea)][_0x1857bd(0xec)],'flosumToken':_0x47724a[_0x1857bd(0xea)][_0x1857bd(0xff)],'vlocityUrl':_0x47724a[_0x1857bd(0xe7)][_0x1857bd(0xec)],'vlocityToken':_0x47724a[_0x1857bd(0xe7)][_0x1857bd(0xff)],'logId':_0x47724a[_0x1857bd(0xef)],'attachLogId':_0x47724a[_0x1857bd(0xfc)],'timestamp':_0x47724a['timestamp'],'nameSpacePrefix':_0x47724a[_0x1857bd(0x100)],'snapshotType':_0x1857bd(0x10e),'snapshotId':_0x47724a[_0x1857bd(0xfa)],'projectName':_0x4ae6fe};return fs['existsSync'](_0x34ac11+'/'+constants[_0x1857bd(0xe6)])&&fs[_0x1857bd(0xe8)](_0x34ac11+'/'+constants[_0x1857bd(0xe6)],{'recursive':!![]}),packRetry['packRetry'](_0x23c0f6,_0x22b2f6);}return Promise[_0x1857bd(0xfb)]();})[_0x17175e(0xf6)](()=>_0x577d62[_0x17175e(0x10d)](!![]))[_0x17175e(0x10a)](_0x22f314=>{const _0x3dc1c2=_0x17175e;_0x577d62['completeDeployment'](!![],!![])['then'](()=>_0xb1303d(_0x22f314))[_0x3dc1c2(0x10a)](_0x35d007=>_0xb1303d(_0x22f314+'\x0a'+_0x35d007));})[_0x17175e(0xf6)](()=>storage['removeProject'](_0x34ac11,_0x22b2f6));}catch(_0x33e076){_0xb1303d(_0x33e076);}});}module[a39_0xc35add(0xf4)]={'retrieve':retrieve};