function a39_0x584c(){const _0x19ce26=['timestamp','419MNMAoQ','exports','4MPpbEF','snapshotId','deployComponents','checkExistComponents','join','rmdirSync','---\x20body','PackRetry','225032deuNtO','createProjectDirectory','583032EeJDlM','1716255xJuMNO','path','14SFoeGF','Retrieval\x20(SFI)\x20started:\x20','isRunPackRetryAutomatically','576606gVTwln','getTime','nameSpacePrefix','log','createJobYamlFile','prepareDataForDeploy','./helper','then','authFlosum','../../../services/storage','2353190RLwyQy','resolve','instanceUrl','594llhdeo','../../../constants','attachLogId','../pack-retry/controller','Snapshot\x20has\x20errors,\x20Start\x20PackRetry\x20command:','authVlosityOrg','removeProject','logId','657385JGsScr','existsSync','checkErrors','packRetry'];a39_0x584c=function(){return _0x19ce26;};return a39_0x584c();}function a39_0x2e45(_0xe62b19,_0x2a4f4f){const _0x584c8c=a39_0x584c();return a39_0x2e45=function(_0x2e450e,_0x499476){_0x2e450e=_0x2e450e-0xf6;let _0x28c5c0=_0x584c8c[_0x2e450e];return _0x28c5c0;},a39_0x2e45(_0xe62b19,_0x2a4f4f);}const a39_0x32f23f=a39_0x2e45;(function(_0x4d4fd9,_0x488a35){const _0x48e8d1=a39_0x2e45,_0x478e72=_0x4d4fd9();while(!![]){try{const _0x339c72=-parseInt(_0x48e8d1(0x121))/0x1*(-parseInt(_0x48e8d1(0x114))/0x2)+parseInt(_0x48e8d1(0x101))/0x3+parseInt(_0x48e8d1(0xf7))/0x4*(-parseInt(_0x48e8d1(0x11c))/0x5)+-parseInt(_0x48e8d1(0x107))/0x6+-parseInt(_0x48e8d1(0x104))/0x7*(-parseInt(_0x48e8d1(0xff))/0x8)+parseInt(_0x48e8d1(0x102))/0x9+-parseInt(_0x48e8d1(0x111))/0xa;if(_0x339c72===_0x488a35)break;else _0x478e72['push'](_0x478e72['shift']());}catch(_0x2a8d7a){_0x478e72['push'](_0x478e72['shift']());}}}(a39_0x584c,0x191bb));const fs=require('fs'),path=require(a39_0x32f23f(0x103)),{RetrieveHelper}=require(a39_0x32f23f(0x10d)),http=require('../../../services/http'),storage=require(a39_0x32f23f(0x110)),packRetry=require(a39_0x32f23f(0x117)),constants=require(a39_0x32f23f(0x115)),{pathConfig}=require('../../../config/path');function retrieve(_0x2bb330,_0x15ba1e){return new Promise((_0xb2f7dd,_0x5303b5)=>{const _0x599db7=a39_0x2e45;try{console[_0x599db7(0x10a)](_0x599db7(0xfd)),console[_0x599db7(0x10a)](_0x2bb330),_0x15ba1e[_0x599db7(0x10a)](_0x599db7(0x105)+http[_0x599db7(0x108)]());const _0x13afdb=new Date()['valueOf'](),_0x22f57b=_0x2bb330['snapshotType']+'_'+_0x13afdb+'_'+_0x2bb330['logId'],_0x15f5ec=path[_0x599db7(0xfb)](pathConfig['tmpPath'],_0x22f57b),_0x41db00=new RetrieveHelper(_0x15f5ec,_0x2bb330,_0x15ba1e);Promise[_0x599db7(0x112)]()[_0x599db7(0x10e)](()=>storage[_0x599db7(0x100)](_0x15f5ec))['then'](()=>_0x41db00[_0x599db7(0x10b)]())[_0x599db7(0x10e)](()=>_0x41db00['retrieveData']())[_0x599db7(0x10e)](()=>storage[_0x599db7(0xfa)](_0x15f5ec,_0x15ba1e))[_0x599db7(0x10e)](_0x40aa74=>{const _0x32cfe2=_0x599db7;if(_0x40aa74)return _0x41db00[_0x32cfe2(0x10c)]()[_0x32cfe2(0x10e)](_0x42d29a=>_0x41db00[_0x32cfe2(0xf9)](_0x42d29a));return Promise[_0x32cfe2(0x112)]();})[_0x599db7(0x10e)](()=>{const _0x450e17=_0x599db7;if(_0x2bb330[_0x450e17(0x106)])return _0x41db00[_0x450e17(0x11e)](_0x15f5ec,_0x15ba1e);return Promise[_0x450e17(0x112)](![]);})['then'](_0x454401=>{const _0x3232e2=_0x599db7;if(_0x2bb330[_0x3232e2(0x106)]&&_0x454401){_0x15ba1e[_0x3232e2(0x10a)](_0x3232e2(0x118));const _0x33a731={'flosumUrl':_0x2bb330['authFlosum'][_0x3232e2(0x113)],'flosumToken':_0x2bb330[_0x3232e2(0x10f)]['accessToken'],'vlocityUrl':_0x2bb330[_0x3232e2(0x119)][_0x3232e2(0x113)],'vlocityToken':_0x2bb330[_0x3232e2(0x119)]['accessToken'],'logId':_0x2bb330[_0x3232e2(0x11b)],'attachLogId':_0x2bb330[_0x3232e2(0x116)],'timestamp':_0x2bb330[_0x3232e2(0x120)],'nameSpacePrefix':_0x2bb330[_0x3232e2(0x109)],'snapshotType':_0x3232e2(0xfe),'snapshotId':_0x2bb330[_0x3232e2(0xf8)],'projectName':_0x22f57b};return fs[_0x3232e2(0x11d)](_0x15f5ec+'/'+constants['SOURCE_FOLDER'])&&fs[_0x3232e2(0xfc)](_0x15f5ec+'/'+constants['SOURCE_FOLDER'],{'recursive':!![]}),packRetry[_0x3232e2(0x11f)](_0x33a731,_0x15ba1e);}return Promise[_0x3232e2(0x112)]();})[_0x599db7(0x10e)](()=>_0x41db00['completeDeployment'](!![]))['catch'](_0x4c756b=>{_0x41db00['completeDeployment'](!![],!![])['then'](()=>_0x5303b5(_0x4c756b))['catch'](_0xb1e18d=>_0x5303b5(_0x4c756b+'\x0a'+_0xb1e18d));})[_0x599db7(0x10e)](()=>storage[_0x599db7(0x11a)](_0x15f5ec,_0x15ba1e));}catch(_0x2baba5){_0x5303b5(_0x2baba5);}});}module[a39_0x32f23f(0xf6)]={'retrieve':retrieve};