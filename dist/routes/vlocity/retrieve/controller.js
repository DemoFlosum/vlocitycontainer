const a39_0x1fc1e5=a39_0x45f6;(function(_0x2e3573,_0x4b8b89){const _0x135c8c=a39_0x45f6,_0x5314ca=_0x2e3573();while(!![]){try{const _0x3ed984=parseInt(_0x135c8c(0x10f))/0x1*(-parseInt(_0x135c8c(0x117))/0x2)+parseInt(_0x135c8c(0x134))/0x3*(-parseInt(_0x135c8c(0x10b))/0x4)+parseInt(_0x135c8c(0x110))/0x5*(-parseInt(_0x135c8c(0x10c))/0x6)+parseInt(_0x135c8c(0x121))/0x7+-parseInt(_0x135c8c(0x107))/0x8+-parseInt(_0x135c8c(0x11d))/0x9+-parseInt(_0x135c8c(0x119))/0xa*(-parseInt(_0x135c8c(0x11a))/0xb);if(_0x3ed984===_0x4b8b89)break;else _0x5314ca['push'](_0x5314ca['shift']());}catch(_0x4603ca){_0x5314ca['push'](_0x5314ca['shift']());}}}(a39_0x393f,0x3a297));const fs=require('fs'),path=require(a39_0x1fc1e5(0x114)),{RetrieveHelper}=require('./helper'),http=require(a39_0x1fc1e5(0x10d)),storage=require(a39_0x1fc1e5(0x108)),packRetry=require(a39_0x1fc1e5(0x113)),constants=require(a39_0x1fc1e5(0x12f)),{pathConfig}=require(a39_0x1fc1e5(0x11e));function a39_0x45f6(_0x31072b,_0x2b7896){const _0x393f43=a39_0x393f();return a39_0x45f6=function(_0x45f60e,_0x1f9fbf){_0x45f60e=_0x45f60e-0x105;let _0x1a218f=_0x393f43[_0x45f60e];return _0x1a218f;},a39_0x45f6(_0x31072b,_0x2b7896);}function a39_0x393f(){const _0x58c60d=['2375107UgBirU','Retrieval\x20(SFI)\x20started:\x20','removeProject','rmdirSync','deployComponents','authFlosum','completeDeployment','packRetry','checkErrors','accessToken','then','exports','resolve','Snapshot\x20has\x20errors,\x20Start\x20PackRetry\x20command:','../../../constants','SOURCE_FOLDER','---\x20body','instanceUrl','catch','3EMUqsy','createJobYamlFile','valueOf','PackRetry','3614552RwrdjC','../../../services/storage','snapshotType','log','674220KPJCNe','2274jKBpxt','../../../services/http','logId','21NoOOLq','1930HnvArU','timestamp','retrieveData','../pack-retry/controller','path','attachLogId','prepareDataForDeploy','36376ghpnaE','authVlosityOrg','807170yrqjDI','176HGlVLq','join','tmpPath','2195334PwZDiz','../../../config/path','checkExistComponents','isRunPackRetryAutomatically'];a39_0x393f=function(){return _0x58c60d;};return a39_0x393f();}function retrieve(_0x3c3452,_0x3f4006){return new Promise((_0x3b03fb,_0x17fcdc)=>{const _0x1a9f01=a39_0x45f6;try{console[_0x1a9f01(0x10a)](_0x1a9f01(0x131)),console[_0x1a9f01(0x10a)](_0x3c3452),_0x3f4006[_0x1a9f01(0x10a)](_0x1a9f01(0x122)+http['getTime']());const _0x515b54=new Date()[_0x1a9f01(0x105)](),_0x2cf49e=_0x3c3452[_0x1a9f01(0x109)]+'_'+_0x515b54+'_'+_0x3c3452[_0x1a9f01(0x10e)],_0x9285b5=path[_0x1a9f01(0x11b)](pathConfig[_0x1a9f01(0x11c)],_0x2cf49e),_0x4d2816=new RetrieveHelper(_0x9285b5,_0x3c3452,_0x3f4006);Promise['resolve']()[_0x1a9f01(0x12b)](()=>storage['createProjectDirectory'](_0x9285b5))['then'](()=>_0x4d2816[_0x1a9f01(0x135)]())[_0x1a9f01(0x12b)](()=>_0x4d2816[_0x1a9f01(0x112)]())[_0x1a9f01(0x12b)](()=>storage[_0x1a9f01(0x11f)](_0x9285b5,_0x3f4006))['then'](_0x390481=>{const _0x1bfe3d=_0x1a9f01;if(_0x390481)return _0x4d2816[_0x1bfe3d(0x116)]()[_0x1bfe3d(0x12b)](_0x2931b8=>_0x4d2816[_0x1bfe3d(0x125)](_0x2931b8));return Promise['resolve']();})[_0x1a9f01(0x12b)](()=>{const _0x108448=_0x1a9f01;if(_0x3c3452[_0x108448(0x120)])return _0x4d2816[_0x108448(0x129)](_0x9285b5,_0x3f4006);return Promise[_0x108448(0x12d)](![]);})[_0x1a9f01(0x12b)](_0x89420b=>{const _0x50dd51=_0x1a9f01;if(_0x3c3452[_0x50dd51(0x120)]&&_0x89420b){_0x3f4006['log'](_0x50dd51(0x12e));const _0x39c763={'flosumUrl':_0x3c3452[_0x50dd51(0x126)][_0x50dd51(0x132)],'flosumToken':_0x3c3452['authFlosum']['accessToken'],'vlocityUrl':_0x3c3452[_0x50dd51(0x118)]['instanceUrl'],'vlocityToken':_0x3c3452[_0x50dd51(0x118)][_0x50dd51(0x12a)],'logId':_0x3c3452[_0x50dd51(0x10e)],'attachLogId':_0x3c3452[_0x50dd51(0x115)],'timestamp':_0x3c3452[_0x50dd51(0x111)],'nameSpacePrefix':_0x3c3452['nameSpacePrefix'],'snapshotType':_0x50dd51(0x106),'snapshotId':_0x3c3452['snapshotId'],'projectName':_0x2cf49e};return fs['existsSync'](_0x9285b5+'/'+constants[_0x50dd51(0x130)])&&fs[_0x50dd51(0x124)](_0x9285b5+'/'+constants[_0x50dd51(0x130)],{'recursive':!![]}),packRetry[_0x50dd51(0x128)](_0x39c763,_0x3f4006);}return Promise[_0x50dd51(0x12d)]();})[_0x1a9f01(0x12b)](()=>_0x4d2816[_0x1a9f01(0x127)](!![]))[_0x1a9f01(0x133)](_0x398bd1=>{const _0x4fbb49=_0x1a9f01;_0x4d2816[_0x4fbb49(0x127)](!![],!![])[_0x4fbb49(0x12b)](()=>_0x17fcdc(_0x398bd1))['catch'](_0x2a4d2c=>_0x17fcdc(_0x398bd1+'\x0a'+_0x2a4d2c));})['then'](()=>storage[_0x1a9f01(0x123)](_0x9285b5,_0x3f4006));}catch(_0x1bbead){_0x17fcdc(_0x1bbead);}});}module[a39_0x1fc1e5(0x12c)]={'retrieve':retrieve};