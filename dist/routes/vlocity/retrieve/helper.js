const a39_0x236f64=a39_0xc81f;(function(_0x1cc08a,_0x2d0f60){const _0x138862=a39_0xc81f,_0x1a724f=_0x1cc08a();while(!![]){try{const _0x5a1d02=-parseInt(_0x138862(0x1fe))/0x1+-parseInt(_0x138862(0x18e))/0x2+parseInt(_0x138862(0x1f7))/0x3+parseInt(_0x138862(0x1ad))/0x4*(-parseInt(_0x138862(0x155))/0x5)+-parseInt(_0x138862(0x177))/0x6+parseInt(_0x138862(0x1c2))/0x7*(-parseInt(_0x138862(0x171))/0x8)+-parseInt(_0x138862(0x176))/0x9*(-parseInt(_0x138862(0x1a7))/0xa);if(_0x5a1d02===_0x2d0f60)break;else _0x1a724f['push'](_0x1a724f['shift']());}catch(_0x4b08ea){_0x1a724f['push'](_0x1a724f['shift']());}}}(a39_0x51fc,0x1e085));const fs=require('fs'),crc32=require(a39_0x236f64(0x1e6)),AdmZip=require('adm-zip'),yaml=require(a39_0x236f64(0x164)),{resolve}=require(a39_0x236f64(0x1a6)),jsForce=require('jsforce'),constants=require(a39_0x236f64(0x1d7)),childProcess=require(a39_0x236f64(0x175)),http=require(a39_0x236f64(0x19d)),{VlocityHelper}=require(a39_0x236f64(0x1ab));function a39_0x51fc(){const _0x371c31=['prepareDataForDeploy','stringify','toLowerCase','packExport','jsForceConnection','count','Start\x20Prepare\x20Data\x20For\x20Deploy','\x0a\x20-\x20','trim','js-yaml','searchBy','createQuery','\x20WHERE\x20Name\x20IN\x20(\x27','name','Error\x20Retrieve\x20Data\x20','apex','UNZIP_CATALOG_NAME','toString','Errors\x20found,\x20start\x20pack\x20retry\x20command\x20\x0a','updateAttachmentLog','query','Error\x20parse\x20component\x20','154824OKtYwK','isNotIncludeDependencies','isArray','Error\x20Create\x20Job\x20File,\x20Not\x20Valid\x20Provided\x20Yaml\x20File:\x20','../../../services/child-process','153ynSCoN','461112iBrwVT','_DataPack.json','nameSpacePrefix','\x20WHERE\x20(Name\x20LIKE\x20\x27%','readFileSync','%\x27)','createVlocityTempZip','-maxDepth','Attachment','AND','DATA_PACK_TYPES_QUERIES_MAP','isSeparateMatrixVersions','job-yaml-','End\x20Create\x20Job\x20File','Is_Error__c','Error\x20Update\x20Snapshot','appendFileSync','exports','flosumToken','addFile','Start\x20Create\x20Job\x20File','value','utf8','218506NHtOOO','-autoRetryErrors','/logs','sobject','accessToken','Error\x20Deploy\x20Components\x20','resolve','Error\x20Create\x20Vlocity\x20Temp\x20Zip,\x20Vlocity\x20Temp\x20not\x20found','VLOCITY_NAMESPACE_PREFIX_CODE','FlosumErrors:\x20','/Flosum/SnapshotVlocity/','Errors','split','log','End\x20Prepare\x20Data\x20For\x20Deploy','../../../services/http','isLikeSearch','Start\x20Deploy\x20Components','from','endsWith','End\x20Send\x20Vlocity\x20Temp','checkErrors','isSeparateCalculationProcedureVersions','records','path','195030wHCNHr','findSubItems','Error\x20deploy\x20chunk\x20','instanceUrl','../../../services/vlocity','getVlocityQueries','225520igUOsh','isRunPackRetryAutomatically','logger','Vlocity\x20Temp','join','parse','type','vlocityToken','queries:\x0a','map','Connection','selectedDataPackTypes','NAME_LOGS_FILE',',\x20size\x20more\x20then\x203mb.','application/zip','readFiles','Error,\x20Components\x20not\x20found','-separateCalculationProcedureVersions','Deployed\x20','%\x27\x20OR\x20Name\x20LIKE\x20\x27%','isDirectory','14zcsvGS','-separateMatrixVersions','key','-job','\x20FROM\x20','vlocityUrl','next','includes','\x0amanifest:\x0a\x20-\x20','post','sendVlocityTemp','yaml','Name','__c','filter','Snapshot_Vlocity__c','has','existsSync','errors','authFlosum','createJobYamlFile','../../../constants','load','length','completeDeployment','push','-Export.yaml','forEach','createYamlByDataPackTypes','projectPath','then','deploy','catch','Error\x20Create\x20Job\x20File','snapshotId','lstatSync','crc-32','attachLogId','Records\x20to\x20export\x20not\x20a\x20found','toBuffer','nameOfComponents','some','ContentVersion','addLocalFolder','nextChunk','JOB_FILE_NAME','replace','create','fields','objectName','base64','Cannot\x20retrieve\x20component\x20','vlocityNameSpacePrefix','635877pRJzHv','readdirSync','Error\x20Prepare\x20Data\x20For\x20Deploy','keys','\x27,\x27','WHERE','-\x20VlocityDataPackType:\x20','26546vgYEpR','Start\x20Create\x20Vlocity\x20Temp\x20Zip','callChildProcess','VLOCITY_TEMP_CATALOG','15DGcwDt','\x20from\x20','\x20\x20query:\x20SELECT\x20','buf','-sf.instanceUrl','logId'];a39_0x51fc=function(){return _0x371c31;};return a39_0x51fc();}function a39_0xc81f(_0x35ee9b,_0x30c391){const _0x51fc31=a39_0x51fc();return a39_0xc81f=function(_0xc81fa7,_0x5a2354){_0xc81fa7=_0xc81fa7-0x155;let _0x3e27cd=_0x51fc31[_0xc81fa7];return _0x3e27cd;},a39_0xc81f(_0x35ee9b,_0x30c391);}class RetrieveHelper{constructor(_0x14c4c8,_0x3c24f0,_0x2581ae){const _0x363cf9=a39_0x236f64;this['flosumUrl']=_0x3c24f0[_0x363cf9(0x1d5)][_0x363cf9(0x1aa)],this[_0x363cf9(0x189)]=_0x3c24f0[_0x363cf9(0x1d5)][_0x363cf9(0x192)],this[_0x363cf9(0x1c7)]=_0x3c24f0['authVlosityOrg'][_0x363cf9(0x1aa)],this[_0x363cf9(0x1b4)]=_0x3c24f0['authVlosityOrg'][_0x363cf9(0x192)],this[_0x363cf9(0x15a)]=_0x3c24f0[_0x363cf9(0x15a)],this['attachLogId']=_0x3c24f0[_0x363cf9(0x1e7)],this['projectPath']=_0x14c4c8,this[_0x363cf9(0x1d5)]=_0x3c24f0[_0x363cf9(0x1d5)],this[_0x363cf9(0x179)]=_0x3c24f0[_0x363cf9(0x179)],this[_0x363cf9(0x1f6)]=_0x3c24f0[_0x363cf9(0x1f6)],this['nameOfComponents']=_0x3c24f0['nameOfComponents'],this[_0x363cf9(0x165)]=_0x3c24f0[_0x363cf9(0x165)],this['isLikeSearch']=_0x3c24f0[_0x363cf9(0x19e)],this[_0x363cf9(0x1e4)]=_0x3c24f0[_0x363cf9(0x1e4)],this[_0x363cf9(0x1b8)]=JSON[_0x363cf9(0x1b2)](_0x3c24f0[_0x363cf9(0x1b8)]),this[_0x363cf9(0x172)]=_0x3c24f0[_0x363cf9(0x172)],this['isSeparateMatrixVersions']=_0x3c24f0[_0x363cf9(0x182)],this[_0x363cf9(0x1a4)]=_0x3c24f0[_0x363cf9(0x1a4)],this['isAfterUpdateSearchByKey']=_0x3c24f0['isAfterUpdateSearchByKey'],this['isRunPackRetryAutomatically']=!!_0x3c24f0[_0x363cf9(0x1ae)],this[_0x363cf9(0x1b3)]=_0x3c24f0['type'],this[_0x363cf9(0x1fa)]=_0x3c24f0[_0x363cf9(0x1fa)],this[_0x363cf9(0x1af)]=_0x2581ae,this[_0x363cf9(0x15f)]=new jsForce[(_0x363cf9(0x1b7))](_0x3c24f0[_0x363cf9(0x1d5)]);}async[a39_0x236f64(0x1de)](){const _0x291085=a39_0x236f64,_0x1d100d=await new VlocityHelper(this['vlocityToken'],this[_0x291085(0x1c7)],this[_0x291085(0x1af)])['getAvailableToExport']();if(!_0x1d100d?.[_0x291085(0x1a5)]?.[_0x291085(0x1d9)])throw new Error(_0x291085(0x1e8));const _0x5725eb=this[_0x291085(0x1ea)][_0x291085(0x19a)](';')[_0x291085(0x1b6)](_0x5138fe=>_0x5138fe[_0x291085(0x15d)]()),_0x5da51d=new Set(this['selectedDataPackTypes']),_0xc7ae13=[];for(const {VlocityDataPackType:_0x33387d,Name:_0x14bdde,VlocityDataPackDisplayLabel:_0x5dc754,VlocityDataPackKey:_0x4ed917}of _0x1d100d[_0x291085(0x1a5)]){if(!_0x5da51d[_0x291085(0x1d2)](_0x33387d))continue;const _0x4ec08b=_0x14bdde?.[_0x291085(0x15d)]()||'',_0x5097f5=_0x5dc754?.['toLowerCase']()||'',_0xe8a3cf=_0x4ed917?.[_0x291085(0x15d)]()||'';(_0x5725eb[_0x291085(0x1eb)](_0x54b82c=>_0x4ec08b[_0x291085(0x1c9)](_0x54b82c))||_0x5725eb[_0x291085(0x1eb)](_0x36034=>_0x5097f5[_0x291085(0x1c9)](_0x36034))||_0x5725eb[_0x291085(0x1eb)](_0x115194=>_0xe8a3cf[_0x291085(0x1c9)](_0x115194)))&&_0xc7ae13[_0x291085(0x1db)](_0x4ed917);}const _0x485496='projectPath:\x20./'+constants[_0x291085(0x16b)]+_0x291085(0x1ca)+_0xc7ae13[_0x291085(0x1b1)](_0x291085(0x162));fs[_0x291085(0x187)](this[_0x291085(0x1df)]+'/'+constants[_0x291085(0x1ef)],_0x485496),this[_0x291085(0x1af)][_0x291085(0x19b)](_0x291085(0x184));}[a39_0x236f64(0x1d6)](){return new Promise((_0x4df4af,_0x4550f1)=>{const _0x1f9610=a39_0xc81f;try{this[_0x1f9610(0x1af)][_0x1f9610(0x19b)](_0x1f9610(0x18b));let _0x52af54;if(this['type']==='selective'&&this[_0x1f9610(0x1fa)]?.[_0x1f9610(0x1d9)]){_0x52af54='projectPath:\x20./'+constants[_0x1f9610(0x16b)]+'\x0amanifest:\x0a\x20-\x20'+this[_0x1f9610(0x1fa)][_0x1f9610(0x1b1)](_0x1f9610(0x162)),fs['appendFileSync'](this[_0x1f9610(0x1df)]+'/'+constants[_0x1f9610(0x1ef)],_0x52af54),this[_0x1f9610(0x1af)][_0x1f9610(0x19b)](_0x1f9610(0x184)),_0x4df4af();return;}if(this[_0x1f9610(0x1b3)]==='types'){this[_0x1f9610(0x1de)]()['then'](()=>_0x4df4af())[_0x1f9610(0x1e2)](_0x39364a=>{const _0x207a73=_0x1f9610;this[_0x207a73(0x1af)][_0x207a73(0x19b)](_0x207a73(0x1e3)),_0x4550f1(_0x39364a);});return;}_0x52af54='projectPath:\x20./'+constants[_0x1f9610(0x16b)]+'\x0a';if(this['isAfterUpdateSearchByKey']){if(this[_0x1f9610(0x1ea)]){if(this['searchBy']===_0x1f9610(0x1c4)){const _0x434799=this[_0x1f9610(0x1ea)][_0x1f9610(0x19a)]('\x0a')[_0x1f9610(0x1d0)](_0x19d4aa=>_0x19d4aa[_0x1f9610(0x163)]()['startsWith']('-'))[_0x1f9610(0x1b6)](_0xcca46a=>_0xcca46a[_0x1f9610(0x1f0)]('-','')[_0x1f9610(0x163)]());_0x434799[_0x1f9610(0x1d9)]?(_0x52af54+='manifest:\x0a\x20-\x20',_0x52af54+=_0x434799[_0x1f9610(0x1b1)](_0x1f9610(0x162)),fs[_0x1f9610(0x187)](this[_0x1f9610(0x1df)]+'/'+constants['JOB_FILE_NAME'],_0x52af54),this[_0x1f9610(0x1af)]['log']('End\x20Create\x20Job\x20File'),_0x4df4af()):_0x4550f1(_0x1f9610(0x1bd));}if(this['searchBy']===_0x1f9610(0x1cd))try{const _0x42523e=yaml[_0x1f9610(0x1d8)](this[_0x1f9610(0x1ea)]);_0x42523e[_0x1f9610(0x1df)]='./source_data',fs[_0x1f9610(0x187)](this[_0x1f9610(0x1df)]+'/'+constants[_0x1f9610(0x1ef)],yaml['dump'](_0x42523e)),_0x4df4af(),this['logger']['log']('End\x20Create\x20Job\x20File');}catch(_0x774d90){this[_0x1f9610(0x1af)][_0x1f9610(0x19b)](_0x1f9610(0x174)+_0x774d90),_0x4550f1(_0x774d90);}else _0x52af54+=_0x1f9610(0x1b5)+this[_0x1f9610(0x1ac)](),fs[_0x1f9610(0x187)](this['projectPath']+'/'+constants[_0x1f9610(0x1ef)],_0x52af54),_0x4df4af(),this[_0x1f9610(0x1af)][_0x1f9610(0x19b)]('End\x20Create\x20Job\x20File');}else _0x52af54+=_0x1f9610(0x1b5)+this['getVlocityQueries'](),fs[_0x1f9610(0x187)](this[_0x1f9610(0x1df)]+'/'+constants[_0x1f9610(0x1ef)],_0x52af54),_0x4df4af(),this[_0x1f9610(0x1af)][_0x1f9610(0x19b)](_0x1f9610(0x184));}else _0x52af54+=_0x1f9610(0x1b5)+this[_0x1f9610(0x1ac)](),fs['appendFileSync'](this[_0x1f9610(0x1df)]+'/'+constants[_0x1f9610(0x1ef)],_0x52af54),_0x4df4af(),this[_0x1f9610(0x1af)]['log'](_0x1f9610(0x184));}catch(_0xe15a0b){this['logger'][_0x1f9610(0x19b)](_0x1f9610(0x1e3)),_0x4550f1(_0xe15a0b);}});}[a39_0x236f64(0x1ac)](){const _0x3c1ed1=a39_0x236f64,_0x478660=Array[_0x3c1ed1(0x173)](this['selectedDataPackTypes'])?this[_0x3c1ed1(0x1b8)]:Object['keys'](this[_0x3c1ed1(0x1b8)]),_0x4f5a4c=[];/^ *$/['test'](this[_0x3c1ed1(0x1ea)])?this[_0x3c1ed1(0x1ea)]=[]:this[_0x3c1ed1(0x1ea)]=this[_0x3c1ed1(0x1ea)][_0x3c1ed1(0x19a)](';');if(this[_0x3c1ed1(0x1ea)][_0x3c1ed1(0x1d9)]){const _0x837dd9=this[_0x3c1ed1(0x19e)]?this['nameOfComponents']['join'](_0x3c1ed1(0x1c0)):this[_0x3c1ed1(0x1ea)][_0x3c1ed1(0x1b1)](_0x3c1ed1(0x1fb));for(const _0x320496 of _0x478660){_0x4f5a4c[_0x3c1ed1(0x1db)](this[_0x3c1ed1(0x166)](_0x320496,_0x837dd9));}}else for(const _0x4909c2 of _0x478660){const _0xfd5739=constants['UNSUPPORTED_BY_DEFAULT_LIST'][_0x3c1ed1(0x1c9)](_0x4909c2)?this[_0x3c1ed1(0x166)](_0x4909c2):'-\x20'+_0x4909c2;_0x4f5a4c[_0x3c1ed1(0x1db)](_0xfd5739);}return _0x4f5a4c['join']('\x0a');}['createQuery'](_0x3e9d5c,_0x5f3e01=null){const _0x200f0e=a39_0x236f64,_0x84fe3a=constants[_0x200f0e(0x181)][_0x3e9d5c];let _0x4f9cf2='';if(_0x84fe3a){const _0x28b0fc=_0x84fe3a[_0x200f0e(0x1f3)]['endsWith'](_0x200f0e(0x1cf))&&!!this[_0x200f0e(0x1f6)]?''+this[_0x200f0e(0x1f6)]+_0x84fe3a[_0x200f0e(0x1f3)]:''+_0x84fe3a[_0x200f0e(0x1f3)];_0x4f9cf2=_0x200f0e(0x1fd)+_0x3e9d5c+'\x0a';const _0x586204=_0x84fe3a[_0x200f0e(0x1f2)][_0x200f0e(0x1f0)](new RegExp(constants[_0x200f0e(0x196)],'g'),this[_0x200f0e(0x1f6)]);this[_0x200f0e(0x19e)]?(_0x4f9cf2+='\x20\x20query:\x20SELECT\x20'+_0x586204+'\x20FROM\x20'+_0x28b0fc,_0x5f3e01&&(_0x4f9cf2+=_0x200f0e(0x17a)+_0x5f3e01+_0x200f0e(0x17c))):(_0x4f9cf2+=_0x200f0e(0x157)+_0x586204+_0x200f0e(0x1c6)+_0x28b0fc,_0x5f3e01&&(_0x4f9cf2+=_0x200f0e(0x167)+_0x5f3e01+'\x27)'));if(_0x84fe3a[_0x200f0e(0x16f)]){const _0x9b26fc=_0x5f3e01?_0x200f0e(0x180):_0x200f0e(0x1fc),_0x10c493=_0x84fe3a[_0x200f0e(0x16f)][_0x200f0e(0x1f0)](new RegExp(constants[_0x200f0e(0x196)],'g'),this[_0x200f0e(0x1f6)]);_0x4f9cf2+='\x20'+_0x9b26fc+'\x20'+_0x10c493+'\x0a';}else _0x4f9cf2+='\x0a';}return _0x4f9cf2;}['retrieveData'](){return new Promise((_0x1db53e,_0x297ef3)=>{const _0x596c2d=a39_0xc81f;try{this['logger'][_0x596c2d(0x19b)]('Start\x20Retrieve\x20Data');const _0x133cff='vlocity',_0x252607=this[_0x596c2d(0x172)]?'0':'-1',_0x2f9e63=['-sf.accessToken',''+this[_0x596c2d(0x1b4)],_0x596c2d(0x159),''+this['vlocityUrl'],_0x596c2d(0x1c5),''+constants[_0x596c2d(0x1ef)],_0x596c2d(0x18f),_0x596c2d(0x17e),_0x252607];this[_0x596c2d(0x182)]&&_0x2f9e63['push'](_0x596c2d(0x1c3));this['isSeparateCalculationProcedureVersions']&&_0x2f9e63[_0x596c2d(0x1db)](_0x596c2d(0x1be));_0x2f9e63[_0x596c2d(0x1db)](_0x596c2d(0x15e));const _0x686262=()=>{const _0x5cde53=_0x596c2d;http[_0x5cde53(0x16e)](this[_0x5cde53(0x1df)],this[_0x5cde53(0x15f)],this[_0x5cde53(0x1e7)],this[_0x5cde53(0x1af)],![]);};this[_0x596c2d(0x1af)][_0x596c2d(0x19b)](_0x2f9e63[_0x596c2d(0x1b1)]('\x20'));const _0x225c52={'cwd':''+this[_0x596c2d(0x1df)],'maxBuffer':0x400*0x1f4};childProcess[_0x596c2d(0x200)](_0x133cff,_0x2f9e63,this[_0x596c2d(0x1af)],_0x225c52,!![],_0x686262)[_0x596c2d(0x1e0)](_0x5899de=>{const _0x4ebebb=_0x596c2d;this[_0x4ebebb(0x1af)][_0x4ebebb(0x19b)]('End\x20Retrieve\x20Data'),_0x1db53e(_0x5899de);})[_0x596c2d(0x1e2)](_0x3e0bd1=>{const _0x178fae=_0x596c2d;this[_0x178fae(0x1af)][_0x178fae(0x19b)](_0x178fae(0x169)+_0x3e0bd1),_0x297ef3(_0x3e0bd1);});}catch(_0xf060ef){_0x297ef3(_0xf060ef);}});}[a39_0x236f64(0x15b)](){return new Promise((_0x15ccc3,_0x2fa152)=>{const _0xeb210c=a39_0xc81f;try{this[_0xeb210c(0x1af)][_0xeb210c(0x19b)](_0xeb210c(0x161));let _0x2b1e20=0x0,_0x26b4d6=[],_0x2dfebb=0x0;const _0x4a0e8f=[],_0x384166=this[_0xeb210c(0x1df)]+'/'+constants['UNZIP_CATALOG_NAME'],_0xdaf53e=fs[_0xeb210c(0x1f8)](_0x384166);for(let _0x23a3a3=0x0;_0x23a3a3<_0xdaf53e[_0xeb210c(0x1d9)];_0x23a3a3++){const _0x28c4dd=_0xdaf53e[_0x23a3a3]===_0xeb210c(0x1ec)?'Title':_0xeb210c(0x1ce),_0x204f96=_0x384166+'/'+_0xdaf53e[_0x23a3a3],_0x4019f4=fs['readdirSync'](_0x204f96);for(let _0xf55e55=0x0;_0xf55e55<_0x4019f4[_0xeb210c(0x1d9)];_0xf55e55++){const _0x511e8a=_0xdaf53e[_0x23a3a3]+'/'+_0x4019f4[_0xf55e55];let _0x28a5e9=_0x4019f4[_0xf55e55];const _0x4d89aa=[],_0x4d5183=_0x384166+'/'+_0xdaf53e[_0x23a3a3]+'/'+_0x4019f4[_0xf55e55],_0x53abe6=fs['readdirSync'](_0x4d5183);_0x53abe6[_0xeb210c(0x1dd)](_0x3bb22b=>{const _0x1fed5a=_0xeb210c;try{_0x3bb22b[_0x1fed5a(0x16c)]()[_0x1fed5a(0x1a1)](_0x1fed5a(0x178))&&(_0x28a5e9=JSON['parse'](fs['readFileSync'](_0x4d5183+'/'+_0x3bb22b)[_0x1fed5a(0x16c)]())[_0x28c4dd]);}catch(_0x5de6f4){this[_0x1fed5a(0x1af)][_0x1fed5a(0x19b)](_0x1fed5a(0x170)+_0x3bb22b);}!_0x28a5e9&&(_0x28a5e9=undefined),fs['lstatSync'](_0x4d5183+'/'+_0x3bb22b[_0x1fed5a(0x16c)]())[_0x1fed5a(0x1c1)]()&&_0x4d89aa[_0x1fed5a(0x1db)](...this['findSubItems'](_0x4d5183,_0x3bb22b));});const _0x2e91da=new AdmZip();_0x2e91da[_0xeb210c(0x1ed)](_0x4d5183,_0xdaf53e[_0x23a3a3]+'/'+_0x4019f4[_0xf55e55]);const _0x5d9db1=_0x2e91da[_0xeb210c(0x1e9)](),_0x4b3e34=crc32[_0xeb210c(0x158)](_0x5d9db1),_0x58d7ab=_0x5d9db1[_0xeb210c(0x16c)](_0xeb210c(0x1f4)),_0x386f0a={'fileName':_0x28a5e9,'name':_0x4019f4[_0xf55e55],'type':_0xdaf53e[_0x23a3a3],'label':_0x511e8a,'crc':_0x4b3e34,'base64':_0x58d7ab,'snapshotId':this[_0xeb210c(0x1e4)],'subItemList':JSON['stringify'](_0x4d89aa)},_0x5a6999=_0x5d9db1[_0xeb210c(0x1d9)]/0xf4240,_0x3bdf6c=!!(_0x4019f4[_0xeb210c(0x1d9)]-0x1===_0xf55e55&&_0xdaf53e['length']-0x1===_0x23a3a3);_0x2b1e20+=_0x5a6999,_0x2b1e20>0x2||_0x26b4d6>0xfa0?(_0x4a0e8f[_0xeb210c(0x1db)](_0x26b4d6),_0x5a6999<0x3?(_0x26b4d6=[_0x386f0a],_0x2dfebb++,_0x2b1e20=_0x5a6999):(this[_0xeb210c(0x1af)][_0xeb210c(0x19b)](_0xeb210c(0x1f5)+_0x511e8a+_0xeb210c(0x1ba),!![]),_0x2b1e20=0x0)):(_0x26b4d6[_0xeb210c(0x1db)](_0x386f0a),_0x2dfebb++),_0x3bdf6c&&_0x4a0e8f[_0xeb210c(0x1db)](_0x26b4d6);}}this[_0xeb210c(0x1af)][_0xeb210c(0x19b)](_0xeb210c(0x19c)),_0x15ccc3({'iteratorDeploy':_0x4a0e8f[Symbol['iterator']](),'count':_0x2dfebb});}catch(_0x4a4340){this[_0xeb210c(0x1af)]['log'](_0xeb210c(0x1f9)),_0x2fa152(_0x4a4340);}});}[a39_0x236f64(0x1a8)](_0x19d1b9,_0x264ad2,_0x5dff54='',_0x31d588=[]){const _0x3df622=a39_0x236f64;_0x5dff54['length']&&(_0x5dff54='/'+_0x5dff54);const _0x4cab6a=fs[_0x3df622(0x1f8)](_0x19d1b9+'/'+_0x264ad2+_0x5dff54);return _0x4cab6a[_0x3df622(0x1dd)](_0x24a5fb=>{const _0x4b8a3f=_0x3df622;!fs[_0x4b8a3f(0x1e5)](_0x19d1b9+'/'+_0x264ad2+_0x5dff54+'/'+_0x24a5fb[_0x4b8a3f(0x16c)]())['isDirectory']()?_0x31d588['push'](''+_0x264ad2+_0x5dff54+'/'+_0x24a5fb[_0x4b8a3f(0x16c)]()):this[_0x4b8a3f(0x1a8)](_0x19d1b9,_0x264ad2,_0x24a5fb,_0x31d588);}),_0x31d588;}[a39_0x236f64(0x1bc)](_0x47b8eb,_0x476e86='',_0x2e6b55=[]){const _0x5571bd=a39_0x236f64,_0x2c9424=fs[_0x5571bd(0x1f8)](_0x47b8eb,{'withFileTypes':!![]});return _0x2c9424['forEach'](_0x536ee=>{const _0x3c5ff4=_0x5571bd,_0x4a974c=resolve(_0x47b8eb,_0x536ee[_0x3c5ff4(0x168)]);if(_0x536ee[_0x3c5ff4(0x1c1)]()){const _0x4db07a=_0x476e86['length']?_0x476e86+'/'+_0x536ee[_0x3c5ff4(0x168)]:_0x536ee[_0x3c5ff4(0x168)];this['readFiles'](_0x4a974c,_0x4db07a,_0x2e6b55);}else{let _0x1763b2;_0x476e86['length']?_0x1763b2=_0x476e86+'/'+_0x536ee['name']:_0x1763b2=_0x536ee['name'],_0x2e6b55[_0x3c5ff4(0x1db)](_0x1763b2);}}),_0x2e6b55;}['deployComponents'](_0x31df3f){return new Promise((_0xb145ce,_0x1e2b39)=>{const _0x365b5e=a39_0xc81f;try{this['logger'][_0x365b5e(0x19b)](_0x365b5e(0x19f)),this['nextChunk'](_0x31df3f)['then'](()=>{const _0x53d9ed=_0x365b5e;this[_0x53d9ed(0x1af)][_0x53d9ed(0x19b)]('End\x20Deploy\x20Components'),_0xb145ce();})['catch'](_0x42ff98=>{const _0x3b9f33=_0x365b5e;this[_0x3b9f33(0x1af)]['log'](_0x3b9f33(0x193)+_0x42ff98),_0x1e2b39(_0x42ff98);});}catch(_0x28cb40){_0x1e2b39(_0x28cb40);}});}['nextChunk'](_0x114461,_0x1a1510=0x0){return new Promise((_0x41719c,_0x41b9ef)=>{const _0x38363a=a39_0xc81f;try{const _0x58434b=_0x114461['iteratorDeploy'][_0x38363a(0x1c8)]();_0x58434b['done']?_0x41719c():this[_0x38363a(0x1e1)](_0x114461,_0x58434b,_0x1a1510)['then'](()=>_0x41719c())[_0x38363a(0x1e2)](_0x3ce6b0=>_0x41b9ef(_0x3ce6b0));}catch(_0x195259){_0x41b9ef(_0x195259);}});}['deploy'](_0x41fa58,_0x54ae27,_0x5b011f=0x0){return new Promise((_0x56b5cb,_0x125396)=>{const _0x2e7710=a39_0xc81f;try{const _0x213ea8=this[_0x2e7710(0x179)]===''?'/SnapshotVlocity/':_0x2e7710(0x198),_0x31ea93={'items':_0x54ae27[_0x2e7710(0x18c)]};this[_0x2e7710(0x15f)][_0x2e7710(0x16a)][_0x2e7710(0x1cb)](_0x213ea8,_0x31ea93)[_0x2e7710(0x1e0)](()=>{const _0x1beb37=_0x2e7710;return _0x5b011f+=_0x54ae27[_0x1beb37(0x18c)][_0x1beb37(0x1d9)],this[_0x1beb37(0x1af)][_0x1beb37(0x19b)](_0x1beb37(0x1bf)+_0x5b011f+_0x1beb37(0x156)+_0x41fa58[_0x1beb37(0x160)]),Promise[_0x1beb37(0x194)]();})[_0x2e7710(0x1e2)](_0x2f3747=>{const _0x36c4eb=_0x2e7710;return this[_0x36c4eb(0x1af)][_0x36c4eb(0x19b)](_0x36c4eb(0x1a9)+_0x2f3747),Promise[_0x36c4eb(0x194)]();})[_0x2e7710(0x1e0)](()=>this[_0x2e7710(0x1ee)](_0x41fa58,_0x5b011f))[_0x2e7710(0x1e0)](_0x56b5cb)[_0x2e7710(0x1e2)](_0x125396);}catch(_0x319438){_0x125396(_0x319438);}});}['createVlocityTempZip'](){return new Promise(_0x3c9d1d=>{const _0x37b9b2=a39_0xc81f;try{this[_0x37b9b2(0x1af)][_0x37b9b2(0x19b)](_0x37b9b2(0x1ff));const _0x5ceae6=this[_0x37b9b2(0x1df)]+'/'+constants['VLOCITY_TEMP_CATALOG'];if(fs[_0x37b9b2(0x1d3)](_0x5ceae6)){const _0x360961=_0x5ceae6+_0x37b9b2(0x190);if(this[_0x37b9b2(0x1af)][_0x37b9b2(0x1d4)][_0x37b9b2(0x1d9)]&&fs[_0x37b9b2(0x1d3)](_0x360961)){const _0x18c0bc=fs[_0x37b9b2(0x1f8)](_0x360961);if(_0x18c0bc&&_0x18c0bc[_0x37b9b2(0x1d9)]){const _0x2b8166=_0x18c0bc[0x0];if(_0x2b8166[_0x37b9b2(0x1c9)](_0x37b9b2(0x183))&&_0x2b8166['includes'](_0x37b9b2(0x1dc))){const _0x2ba581=_0x37b9b2(0x197)+JSON[_0x37b9b2(0x15c)](this[_0x37b9b2(0x1af)][_0x37b9b2(0x1d4)]);fs[_0x37b9b2(0x187)]('./'+_0x360961+'/'+_0x2b8166,_0x2ba581);}}}const _0x5ae3f8=new AdmZip();_0x5ae3f8['addLocalFolder'](_0x5ceae6,constants[_0x37b9b2(0x201)]),_0x3c9d1d(_0x5ae3f8[_0x37b9b2(0x1e9)]()[_0x37b9b2(0x16c)](_0x37b9b2(0x1f4))),this['logger'][_0x37b9b2(0x19b)]('End\x20Create\x20Vlocity\x20Temp\x20Zip');}else this[_0x37b9b2(0x1af)][_0x37b9b2(0x19b)](_0x37b9b2(0x195)),_0x3c9d1d();}catch(_0x313b23){this['logger'][_0x37b9b2(0x19b)]('Error\x20Create\x20Vlocity\x20Temp\x20Zip\x20'+_0x313b23),_0x3c9d1d();}});}[a39_0x236f64(0x1cc)](_0x1f68fb){return new Promise((_0x1db701,_0x3aa7c6)=>{const _0x2a8fac=a39_0xc81f;try{this[_0x2a8fac(0x1af)][_0x2a8fac(0x19b)]('Start\x20Send\x20Vlocity\x20Temp');const _0x449018={'Name':_0x2a8fac(0x1b0),'ContentType':_0x2a8fac(0x1bb),'Description':_0x2a8fac(0x1b0),'ParentId':this[_0x2a8fac(0x1e4)],'Body':_0x1f68fb};this['jsForceConnection']['sobject'](_0x2a8fac(0x17f))[_0x2a8fac(0x1f1)](_0x449018)['then'](()=>{const _0x1e21c0=_0x2a8fac;this[_0x1e21c0(0x1af)][_0x1e21c0(0x19b)](_0x1e21c0(0x1a2)),_0x1db701();})[_0x2a8fac(0x1e2)](_0x1e61be=>{const _0x2a9fb0=_0x2a8fac;this[_0x2a9fb0(0x1af)][_0x2a9fb0(0x19b)]('Error\x20Send\x20Vlocity\x20Temp\x20Zip\x20'+_0x1e61be),_0x3aa7c6(_0x1e61be);});}catch(_0x3a1365){this[_0x2a8fac(0x1af)][_0x2a8fac(0x19b)]('Error\x20Send\x20Vlocity\x20Temp\x20Zip\x20'+_0x3a1365),_0x3aa7c6(_0x3a1365);}});}[a39_0x236f64(0x1a3)](){return new Promise(_0x30264d=>{const _0x2bece2=a39_0xc81f;try{if(fs[_0x2bece2(0x1d3)](this[_0x2bece2(0x1df)]+'/'+constants[_0x2bece2(0x1b9)])){const _0x49ae3f=yaml[_0x2bece2(0x1d8)](fs['readFileSync'](this[_0x2bece2(0x1df)]+'/'+constants[_0x2bece2(0x1b9)],'utf8'));_0x49ae3f[_0x2bece2(0x199)]&&_0x49ae3f[_0x2bece2(0x199)]['length']?(this['logger'][_0x2bece2(0x19b)](_0x2bece2(0x16d)+_0x49ae3f['Errors'][_0x2bece2(0x1b1)]('\x0a')),_0x30264d(!![])):_0x30264d(![]);}else _0x30264d(![]);}catch(_0x1f9994){_0x30264d(![]);}});}[a39_0x236f64(0x1da)](_0x5dc864,_0x1bf53c=![]){return new Promise((_0x155128,_0x2068f2)=>{const _0x2e2490=a39_0xc81f;try{Promise[_0x2e2490(0x194)]()['then'](()=>this[_0x2e2490(0x17d)]())[_0x2e2490(0x1e0)](_0x5e0d60=>{const _0x509ce5=_0x2e2490;if(_0x5e0d60)return this[_0x509ce5(0x1cc)](_0x5e0d60);return Promise[_0x509ce5(0x194)]();})[_0x2e2490(0x1e0)](()=>http[_0x2e2490(0x16e)](this[_0x2e2490(0x1df)],this['jsForceConnection'],this['attachLogId'],this['logger'],_0x1bf53c,!![]))[_0x2e2490(0x1e0)](_0x1bc1e9=>{const _0x337b76=_0x2e2490;return _0x1bf53c=_0x1bc1e9,http['callUpdateLog'](this[_0x337b76(0x15f)],this[_0x337b76(0x15a)],this[_0x337b76(0x179)],_0x5dc864,this[_0x337b76(0x1af)],_0x1bc1e9);})[_0x2e2490(0x1e0)](()=>this['callUpdateSnapshot'](_0x1bf53c));}catch(_0x192a29){_0x2068f2(_0x192a29);}});}['callUpdateSnapshot'](_0x129624){return new Promise((_0x519271,_0x498bb0)=>{const _0x2a2d32=a39_0xc81f;try{this[_0x2a2d32(0x1af)]['log']('Start\x20Update\x20Snapshot');const _0x1b2185={'Id':this[_0x2a2d32(0x1e4)],[this['nameSpacePrefix']+'Is_Completed__c']:!![],[this['nameSpacePrefix']+_0x2a2d32(0x185)]:_0x129624};this[_0x2a2d32(0x15f)][_0x2a2d32(0x191)](this[_0x2a2d32(0x179)]+_0x2a2d32(0x1d1))['update'](_0x1b2185)[_0x2a2d32(0x1e0)](()=>{const _0x31594e=_0x2a2d32;this['logger']['log']('End\x20Update\x20Snapshot'),_0x519271(_0x1b2185[this['nameSpacePrefix']+_0x31594e(0x185)]);})[_0x2a2d32(0x1e2)](_0x4dfcc0=>{const _0x1e7490=_0x2a2d32;this['logger'][_0x1e7490(0x19b)](_0x1e7490(0x186)),_0x498bb0(_0x4dfcc0);});}catch(_0x3b23b4){this[_0x2a2d32(0x1af)][_0x2a2d32(0x19b)](_0x2a2d32(0x186)),_0x498bb0(_0x3b23b4);}});}}function createZip(_0x2a4ab0,_0x295086){const _0x3d817f=a39_0x236f64,_0x20e9fd=new AdmZip(),_0x2bcd2f=this[_0x3d817f(0x1bc)](_0x2a4ab0);return _0x2bcd2f[_0x3d817f(0x1dd)](_0x2de88d=>{const _0x1e9348=_0x3d817f;if(Array[_0x1e9348(0x173)](_0x2de88d))_0x2de88d[_0x1e9348(0x1dd)](_0xd960a0=>{const _0x2f8772=_0x1e9348,_0x840ece=fs[_0x2f8772(0x17b)](_0x2a4ab0+'/'+_0xd960a0,_0x2f8772(0x18d));_0x20e9fd[_0x2f8772(0x18a)](_0x295086+'/'+_0xd960a0,Buffer[_0x2f8772(0x1a0)](_0x840ece));});else{const _0x435a1c=fs[_0x1e9348(0x17b)](_0x2a4ab0+'/'+_0x2de88d,'utf8');_0x20e9fd[_0x1e9348(0x18a)](_0x295086+'/'+_0x2de88d,Buffer[_0x1e9348(0x1a0)](_0x435a1c));}}),_0x20e9fd[_0x3d817f(0x1e9)]();}module[a39_0x236f64(0x188)]={'RetrieveHelper':RetrieveHelper};