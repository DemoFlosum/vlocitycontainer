const a11_0x19a18a=a11_0x46a0;function a11_0xf958(){const _0x5c8139=['tmpPath','logger','../../../services/vlocity','966GgXkuD','2075780hrlAzB','stringify','catch','1081578IazmUH','availableToExport','type','70QzjxcZ','474qfNKTE','1808257WbfHTj','sort','626841qlQAJw','key','../../../config/path','push','exports','utf-8','2370fbjnss','execute','32NsMSBT','records','13882692LnLFAW','map','length','parse','35tjaPkK','25276QMArNk','then','page','.json','vlocityToken'];a11_0xf958=function(){return _0x5c8139;};return a11_0xf958();}(function(_0x9cb1c3,_0x5c706e){const _0x389780=a11_0x46a0,_0x127099=_0x9cb1c3();while(!![]){try{const _0x2466d2=-parseInt(_0x389780(0xcd))/0x1*(-parseInt(_0x389780(0xde))/0x2)+parseInt(_0x389780(0xd5))/0x3*(parseInt(_0x389780(0xe7))/0x4)+-parseInt(_0x389780(0xce))/0x5+-parseInt(_0x389780(0xd1))/0x6*(-parseInt(_0x389780(0xe6))/0x7)+-parseInt(_0x389780(0xe0))/0x8*(-parseInt(_0x389780(0xd8))/0x9)+parseInt(_0x389780(0xd4))/0xa*(-parseInt(_0x389780(0xd6))/0xb)+-parseInt(_0x389780(0xe2))/0xc;if(_0x2466d2===_0x5c706e)break;else _0x127099['push'](_0x127099['shift']());}catch(_0x3b2938){_0x127099['push'](_0x127099['shift']());}}}(a11_0xf958,0x928cb));const {readFile,access,writeFile,rm}=require('fs/promises'),{join}=require('path'),{VlocityHelper}=require(a11_0x19a18a(0xcc)),{pathConfig}=require(a11_0x19a18a(0xda)),body={'instanceUrl':'','accessToken':'','page':0x0},AVAILABLE_TO_EXPORT='available_export',COUNT_OF_COMPONENTS_PER_PAGE=0x2710;function checkFileExists(_0x5ad8){const _0x118b16=a11_0x19a18a;return access(_0x5ad8)[_0x118b16(0xe8)](()=>!![])[_0x118b16(0xd0)](()=>![]);}function a11_0x46a0(_0x1e7f98,_0x22ec2d){const _0xf9583e=a11_0xf958();return a11_0x46a0=function(_0x46a038,_0x2fd81c){_0x46a038=_0x46a038-0xc9;let _0x9977c=_0xf9583e[_0x46a038];return _0x9977c;},a11_0x46a0(_0x1e7f98,_0x22ec2d);}class AvailableToExportHelper{constructor({instanceUrl:_0x273e6c,accessToken:_0xe160cb,page:_0xb4ac0d}=body,_0x200f0e){const _0x132eb3=a11_0x19a18a;this['vlocityUrl']=_0x273e6c,this[_0x132eb3(0xc9)]=_0xe160cb,this[_0x132eb3(0xe9)]=_0xb4ac0d!==null&&_0xb4ac0d!==undefined?_0xb4ac0d:-0x1,this[_0x132eb3(0xcb)]=_0x200f0e;}async[a11_0x19a18a(0xd2)](){const _0x2bc2fe=a11_0x19a18a,_0x47a24f=join(pathConfig[_0x2bc2fe(0xca)],AVAILABLE_TO_EXPORT+'_'+this[_0x2bc2fe(0xc9)]['substring'](0x0,0xf)+_0x2bc2fe(0xea)),_0x1de3de=await checkFileExists(_0x47a24f);if(this[_0x2bc2fe(0xe9)]!==null&&this[_0x2bc2fe(0xe9)]!==undefined&&this[_0x2bc2fe(0xe9)]>0x0&&_0x1de3de){const _0x3d703a=await readFile(_0x47a24f,{'encoding':_0x2bc2fe(0xdd)});try{return JSON[_0x2bc2fe(0xe5)](_0x3d703a);}catch(_0x59b720){}}this[_0x2bc2fe(0xe9)]===0x0&&_0x1de3de&&await rm(_0x47a24f);const _0x3ac613=await new VlocityHelper(this[_0x2bc2fe(0xc9)],this['vlocityUrl'],this['logger'])['getAvailableToExport'](),_0x9c3321=_0x3ac613?.[_0x2bc2fe(0xe1)][_0x2bc2fe(0xe3)](({VlocityDataPackType:_0x7d1141,Name:_0x5bd4c1,VlocityDataPackDisplayLabel:_0x477895,VlocityDataPackKey:_0x43bb5e})=>({'type':_0x7d1141,'name':_0x5bd4c1,'label':_0x477895,'key':_0x43bb5e}));return _0x9c3321[_0x2bc2fe(0xd7)]((_0x3fbbaa,_0x506d11)=>{const _0x34473e=_0x2bc2fe,_0x3b4e71=_0x3fbbaa[_0x34473e(0xd3)]+'_'+_0x3fbbaa[_0x34473e(0xd9)],_0x5aeeb0=_0x506d11[_0x34473e(0xd3)]+'_'+_0x506d11[_0x34473e(0xd9)];if(_0x3b4e71>_0x5aeeb0)return 0x1;if(_0x5aeeb0>_0x3b4e71)return-0x1;return 0x0;}),_0x9c3321[_0x2bc2fe(0xe4)]>COUNT_OF_COMPONENTS_PER_PAGE&&await writeFile(_0x47a24f,JSON[_0x2bc2fe(0xcf)](_0x9c3321)),_0x9c3321;}async[a11_0x19a18a(0xdf)](){const _0x106245=a11_0x19a18a,_0x371c72=await this['availableToExport'](),_0x205df2={};let _0x45cc47=-0x1,_0x29a63a=0x0;for(const {type:_0x3df272,name:_0x980bf8,label:_0x457c7c,key:_0x3c13f2}of _0x371c72){_0x45cc47++;if(this[_0x106245(0xe9)]>=0x0){if(_0x29a63a>=COUNT_OF_COMPONENTS_PER_PAGE)return _0x205df2;if(_0x45cc47<=this[_0x106245(0xe9)]*COUNT_OF_COMPONENTS_PER_PAGE)continue;}!_0x205df2[_0x3df272]&&(_0x205df2[_0x3df272]=[]),_0x205df2[_0x3df272][_0x106245(0xdb)]({'name':_0x980bf8,'label':_0x457c7c,'key':_0x3c13f2}),_0x29a63a++;}return _0x205df2;}}module[a11_0x19a18a(0xdc)]={'AvailableToExportHelper':AvailableToExportHelper};