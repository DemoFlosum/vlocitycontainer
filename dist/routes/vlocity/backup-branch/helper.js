function a14_0x4748(_0x191fff,_0xcd9c1f){const _0x226d39=a14_0x226d();return a14_0x4748=function(_0x47481f,_0x2fd799){_0x47481f=_0x47481f-0x14f;let _0x20a03f=_0x226d39[_0x47481f];return _0x20a03f;},a14_0x4748(_0x191fff,_0xcd9c1f);}function a14_0x226d(){const _0x41bd94=['METHOD_BACKUP_LOG','then','End\x20Create\x20Job\x20File','../../../services/child-process','\x20\x20\x20\x20query:\x20Select\x20Id\x20from\x20','Start\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.','keys','Error\x20Retrieve\x20Data\x20','isDirectory','callChildProcess','6924ddoxqn','toString','\x20where\x20Name\x20LIKE\x20\x27%','isStartDeploy','Start\x20Create\x20Job\x20File','vlocity','packExport','Start\x20Retrieve\x20Data','Error\x20Continue\x20Vlocity\x20Pipeline\x20Deploy','join','9CRNWMx','\x20\x20-\x20VlocityDataPackType:\x20','/services/apexrest/','push','addLocalFolder','exports','Start\x20Deploy\x20Data','-job','../../../constants','base64','replace','End\x20Deploy\x20Data','catch','length','SOURCE_FOLDER','1783767iGOXjN','post','METHOD_NEXT_VLOCITY_CONTINUE_DEPLOY_STEP','zipBuffer','appendFileSync','31141690idlusU','name','775500egvzfx','-sf.instanceUrl','8UREfnD','toBuffer','UNZIP_CATALOG_NAME','Error\x20Deploy\x20Data','Error\x20Create\x20Job\x20File','%\x27\x0a','DATA_PACK_TYPES_QUERIES_MAP','End\x20Retrieve\x20Data','log','forEach','projectPath:\x20./','stringify','unlocked-packages','resolve','4090vUfEHZ','2174464cFmoFq','JOB_FILE_NAME','999824ZkYrTU','2071748oSkJBB','End\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.','Components\x20not\x20found!','-autoRetryErrors','\x0aqueries:\x0a','End\x20Continue\x20Vlocity\x20Pipeline\x20Deploy','Start\x20Continue\x20Vlocity\x20Pipeline\x20Deploy'];a14_0x226d=function(){return _0x41bd94;};return a14_0x226d();}const a14_0x311f44=a14_0x4748;(function(_0x39a7e4,_0x52cc81){const _0x557141=a14_0x4748,_0x546f04=_0x39a7e4();while(!![]){try{const _0x45e2b5=parseInt(_0x557141(0x168))/0x1+-parseInt(_0x557141(0x179))/0x2+-parseInt(_0x557141(0x161))/0x3+-parseInt(_0x557141(0x17b))/0x4+parseInt(_0x557141(0x178))/0x5*(-parseInt(_0x557141(0x18d))/0x6)+-parseInt(_0x557141(0x17c))/0x7*(parseInt(_0x557141(0x16a))/0x8)+-parseInt(_0x557141(0x152))/0x9*(-parseInt(_0x557141(0x166))/0xa);if(_0x45e2b5===_0x52cc81)break;else _0x546f04['push'](_0x546f04['shift']());}catch(_0x14fb5e){_0x546f04['push'](_0x546f04['shift']());}}}(a14_0x226d,0xaf484));const fs=require('fs'),AdmZip=require('adm-zip'),childProcess=require(a14_0x311f44(0x186)),constants=require(a14_0x311f44(0x15a)),http=require('../../../services/http');function createJobFileRollback(_0x5f573d,_0x15bfcb,_0x572099,_0x8f6f34){return new Promise((_0xbe9cd6,_0x1d95d2)=>{const _0x55ea73=a14_0x4748;try{_0x8f6f34[_0x55ea73(0x172)](_0x55ea73(0x191));let _0x44153d=_0x55ea73(0x174)+constants[_0x55ea73(0x16c)]+_0x55ea73(0x180);Object[_0x55ea73(0x189)](_0x15bfcb)[_0x55ea73(0x173)](_0x591aba=>{const _0x183b38=_0x55ea73;_0x15bfcb[_0x591aba][_0x183b38(0x173)](_0x368a7a=>{const _0x2b7eb1=_0x183b38;constants[_0x2b7eb1(0x170)][_0x591aba][_0x2b7eb1(0x173)](_0x3a6e96=>{const _0x2d73ed=_0x2b7eb1;_0x44153d+=_0x2d73ed(0x153)+_0x591aba+'\x0a',_0x44153d+=_0x2d73ed(0x187)+_0x3a6e96+_0x2d73ed(0x18f)+_0x368a7a+_0x2d73ed(0x16f);});});}),fs[_0x55ea73(0x165)](_0x5f573d+'/'+constants[_0x55ea73(0x17a)],_0x44153d),_0x8f6f34[_0x55ea73(0x172)](_0x55ea73(0x185)),_0xbe9cd6();}catch(_0x496f1d){_0x8f6f34[_0x55ea73(0x172)](_0x55ea73(0x16e)),_0x1d95d2(_0x496f1d);}});}function retrieveData(_0x1583cb,_0x4ea86c,_0x456095,_0x40fd16){return new Promise((_0x2469e4,_0xed9323)=>{const _0xf260fd=a14_0x4748;try{_0x40fd16[_0xf260fd(0x172)](_0xf260fd(0x14f));const _0x32e410=_0xf260fd(0x192),_0x448480=['-sf.accessToken',''+_0x456095,_0xf260fd(0x169),''+_0x4ea86c,_0xf260fd(0x159),''+constants['JOB_FILE_NAME'],_0xf260fd(0x17f),'-maxDepth','0',_0xf260fd(0x193)];_0x40fd16[_0xf260fd(0x172)](_0x448480['slice'](0x2)[_0xf260fd(0x151)]('\x20'));const _0x49bc54={'cwd':''+_0x1583cb,'maxBuffer':0x400*0x1f4};childProcess[_0xf260fd(0x18c)](_0x32e410,_0x448480,_0x40fd16,_0x49bc54)[_0xf260fd(0x184)](_0x3a9b2d=>{const _0x384cda=_0xf260fd;_0x40fd16[_0x384cda(0x172)](_0x384cda(0x171)),_0x2469e4(_0x3a9b2d);})[_0xf260fd(0x15e)](_0x2e314b=>{const _0x57bdea=_0xf260fd;_0x40fd16[_0x57bdea(0x172)](_0x57bdea(0x18a)+_0x2e314b),_0xed9323(_0x2e314b);});}catch(_0x2d6087){_0xed9323(_0x2d6087);}});}function prepareDataForDeploy(_0x1a1cb7,_0x4d4cef){return new Promise((_0x20ce78,_0x189cd0)=>{const _0x44dbfb=a14_0x4748;try{_0x4d4cef[_0x44dbfb(0x172)]('Start\x20Prepare\x20Data\x20For\x20Deploy');const _0x5337ab=_0x1a1cb7+'/'+constants[_0x44dbfb(0x160)];let _0x4fc0d1=new AdmZip();const _0x2120b9=fs['readdirSync'](_0x5337ab,{'withFileTypes':!![]}),_0x542bce=[];_0x2120b9['forEach'](_0xc57151=>{const _0x2d6100=_0x44dbfb;if(_0xc57151[_0x2d6100(0x18b)]()){const _0x4cea94=_0x4fc0d1[_0x2d6100(0x16b)]()[_0x2d6100(0x18e)](_0x2d6100(0x15b));_0x4cea94[_0x2d6100(0x15f)]>0x1e8480&&(_0x542bce[_0x2d6100(0x155)](_0x4cea94),_0x4fc0d1=new AdmZip()),_0x4fc0d1[_0x2d6100(0x156)](_0x5337ab+'/'+_0xc57151['name'],_0xc57151[_0x2d6100(0x167)]);}}),_0x542bce['push'](_0x4fc0d1[_0x44dbfb(0x16b)]()[_0x44dbfb(0x18e)](_0x44dbfb(0x15b))),_0x4d4cef[_0x44dbfb(0x172)]('End\x20Prepare\x20Data\x20For\x20Deploy'),_0x20ce78(_0x542bce);}catch(_0x934641){_0x4d4cef[_0x44dbfb(0x172)]('Error\x20Prepare\x20Data\x20For\x20Deploy'),_0x189cd0(_0x934641);}});}function deployData(_0x923c82,_0x120994,_0x19badb,_0x576506,_0x58d402,_0x1c163e,_0x3e13d3,_0x255e1e,_0x2f4cf0){return new Promise((_0x1e6013,_0x184737)=>{const _0x1806d7=a14_0x4748;try{_0x2f4cf0[_0x1806d7(0x172)](_0x1806d7(0x158)),_0x19badb=_0x19badb&&_0x19badb[_0x1806d7(0x15f)]?_0x19badb[_0x1806d7(0x15c)]('__','')+'/':'';let _0x32cb1a={'zipBuffer':'','pipelineId':_0x1c163e,'logId':_0x576506,'branchId':_0x255e1e,'pipelineNumber':_0x3e13d3};const _0xabc8c2=_0x923c82+_0x1806d7(0x154)+_0x19badb+'unlocked-packages';let _0x30abe3=Promise[_0x1806d7(0x177)](),_0x1a003e=0x1;_0x58d402[_0x1806d7(0x173)](_0x3c2025=>{const _0x10825b=_0x1806d7;_0x32cb1a[_0x10825b(0x164)]=_0x3c2025,_0x32cb1a[_0x10825b(0x190)]=_0x1a003e===_0x58d402['length'];const _0x43a442={'methodType':constants[_0x10825b(0x183)],'body':JSON[_0x10825b(0x175)](_0x32cb1a)};_0x30abe3=_0x30abe3[_0x10825b(0x184)](()=>postDeploy(_0xabc8c2,_0x120994,_0x19badb,_0x43a442)),_0x1a003e++;}),_0x30abe3[_0x1806d7(0x184)](()=>{const _0xcfef6a=_0x1806d7;_0x2f4cf0[_0xcfef6a(0x172)](_0xcfef6a(0x15d)),_0x1e6013();})['catch'](_0xadbd69=>{const _0x1551a0=_0x1806d7;_0x2f4cf0[_0x1551a0(0x172)](_0x1551a0(0x16d)),_0x184737(_0xadbd69);});}catch(_0x383bb5){_0x2f4cf0['log'](_0x1806d7(0x16d)),_0x184737(_0x383bb5);}});}function handleNoComponents(_0x254792,_0x3646c3,_0x7095f,_0x138800,_0x37679b,_0x3603c3,_0x5564ae,_0x2bfa3d){return new Promise((_0xc9005f,_0x4839d0)=>{const _0x375bae=a14_0x4748;try{_0x2bfa3d[_0x375bae(0x172)](_0x375bae(0x188)),_0x7095f=_0x7095f&&_0x7095f['length']?_0x7095f[_0x375bae(0x15c)]('__','')+'/':'';let _0x22f0d5={'message':_0x375bae(0x17e),'pipelineId':_0x37679b,'logId':_0x138800,'branchId':_0x5564ae,'pipelineNumber':_0x3603c3,'isStartDeploy':!![]};const _0x3d0012=_0x254792+_0x375bae(0x154)+_0x7095f+_0x375bae(0x176),_0x335dce={'methodType':constants['METHOD_BACKUP_LOG_ERROR'],'body':JSON[_0x375bae(0x175)](_0x22f0d5)};postDeploy(_0x3d0012,_0x3646c3,_0x7095f,_0x335dce)[_0x375bae(0x184)](()=>{const _0x281293=_0x375bae;_0x2bfa3d[_0x281293(0x172)](_0x281293(0x17d)),_0xc9005f();})[_0x375bae(0x15e)](_0x307217=>{const _0x2701b4=_0x375bae;_0x4839d0(_0x307217),_0x2bfa3d[_0x2701b4(0x172)]('Error\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.\x0a');});}catch(_0x4adb55){_0x2bfa3d[_0x375bae(0x172)]('Error\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.'),_0x4839d0(_0x4adb55);}});}function postDeploy(_0x53fc7b,_0x51d92f,_0x1ccf83,_0x106964){return new Promise((_0x40b16c,_0x1ebcaf)=>{const _0x2c45aa=a14_0x4748;try{http[_0x2c45aa(0x162)](_0x53fc7b,_0x51d92f,_0x1ccf83,_0x106964)[_0x2c45aa(0x184)](_0x4a22bd=>{_0x40b16c(_0x4a22bd);})[_0x2c45aa(0x15e)](_0x19df52=>{const _0x44cf3c=_0x2c45aa;console[_0x44cf3c(0x172)](_0x19df52),_0x1ebcaf(_0x19df52);});}catch(_0x666b3){_0x1ebcaf(_0x666b3);}});}function callContinuePipelineVlocityDeploy(_0x6dbc47,_0x3a6fd0,_0x30eee6,_0x436419,_0xc0830f,_0x2d5245,_0x37cfd3,_0x1de0c5,_0x138bfb){return new Promise((_0x1de7cb,_0x45e383)=>{const _0xa5ac48=a14_0x4748;try{_0x30eee6=_0x30eee6&&_0x30eee6[_0xa5ac48(0x15f)]?_0x30eee6[_0xa5ac48(0x15c)]('__','')+'/':'',_0x138bfb[_0xa5ac48(0x172)](_0xa5ac48(0x182));const _0x1557cc={'pipelineId':_0x436419,'pipelineNumber':_0xc0830f,'logId':_0x1de0c5,'branchId':_0x37cfd3,'pipelineKey':_0x2d5245},_0x2b9744=_0x6dbc47+_0xa5ac48(0x154)+_0x30eee6+_0xa5ac48(0x176),_0x5b60ff={'methodType':constants[_0xa5ac48(0x163)],'body':JSON[_0xa5ac48(0x175)](_0x1557cc)};http[_0xa5ac48(0x162)](_0x2b9744,_0x3a6fd0,_0x30eee6,_0x5b60ff)[_0xa5ac48(0x184)](_0x2d38c3=>{const _0x414c7d=_0xa5ac48;_0x138bfb['log'](_0x414c7d(0x181)),_0x1de7cb(_0x2d38c3);})[_0xa5ac48(0x15e)](_0x3f7141=>{const _0x8b3d7f=_0xa5ac48;_0x138bfb[_0x8b3d7f(0x172)](_0x8b3d7f(0x150)),_0x45e383(_0x3f7141);});}catch(_0xeb921d){_0x45e383(_0xeb921d);}});}module[a14_0x311f44(0x157)]={'createJobFileRollback':createJobFileRollback,'retrieveData':retrieveData,'prepareDataForDeploy':prepareDataForDeploy,'deployData':deployData,'handleNoComponents':handleNoComponents,'callContinuePipelineVlocityDeploy':callContinuePipelineVlocityDeploy};