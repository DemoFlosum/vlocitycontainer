const a10_0x235ad3=a10_0x5750;(function(_0x5ebd7f,_0x185e2d){const _0x5a0fd2=a10_0x5750,_0x3e1a96=_0x5ebd7f();while(!![]){try{const _0x37088c=-parseInt(_0x5a0fd2(0x1ef))/0x1*(-parseInt(_0x5a0fd2(0x1c6))/0x2)+parseInt(_0x5a0fd2(0x1c3))/0x3+-parseInt(_0x5a0fd2(0x1df))/0x4*(-parseInt(_0x5a0fd2(0x1cc))/0x5)+parseInt(_0x5a0fd2(0x1bf))/0x6+parseInt(_0x5a0fd2(0x1fa))/0x7+parseInt(_0x5a0fd2(0x1ca))/0x8+-parseInt(_0x5a0fd2(0x1f8))/0x9;if(_0x37088c===_0x185e2d)break;else _0x3e1a96['push'](_0x3e1a96['shift']());}catch(_0x3dd6a1){_0x3e1a96['push'](_0x3e1a96['shift']());}}}(a10_0x19a4,0xc58b6));const fs=require('fs'),AdmZip=require(a10_0x235ad3(0x1fc)),childProcess=require(a10_0x235ad3(0x1da)),constants=require(a10_0x235ad3(0x1e8)),http=require(a10_0x235ad3(0x1be));function createJobFileRollback(_0x5cda97,_0x438251,_0x4023a5,_0x384601){return new Promise((_0x48c1fe,_0x408664)=>{const _0x35baa9=a10_0x5750;try{_0x384601[_0x35baa9(0x1d6)](_0x35baa9(0x1c0));let _0x2c952e=_0x35baa9(0x1e9)+constants[_0x35baa9(0x1d7)]+_0x35baa9(0x1f5);Object[_0x35baa9(0x1ee)](_0x438251)['forEach'](_0x2d4e98=>{const _0x7ddbfd=_0x35baa9;_0x438251[_0x2d4e98][_0x7ddbfd(0x1e1)](_0x3f5750=>{const _0x207695=_0x7ddbfd;constants[_0x207695(0x1d1)][_0x2d4e98][_0x207695(0x1e1)](_0x5bc651=>{const _0xab8b2a=_0x207695;_0x2c952e+=_0xab8b2a(0x1d9)+_0x2d4e98+'\x0a',_0x2c952e+=_0xab8b2a(0x1c5)+_0x5bc651+_0xab8b2a(0x1c1)+_0x3f5750+_0xab8b2a(0x1b6);});});}),fs[_0x35baa9(0x1ce)](_0x5cda97+'/'+constants[_0x35baa9(0x1d4)],_0x2c952e),_0x384601[_0x35baa9(0x1d6)](_0x35baa9(0x1f9)),_0x48c1fe();}catch(_0xf2975f){_0x384601[_0x35baa9(0x1d6)](_0x35baa9(0x1f2)),_0x408664(_0xf2975f);}});}function a10_0x5750(_0x2276a9,_0x5acf93){const _0x19a4b4=a10_0x19a4();return a10_0x5750=function(_0x575018,_0x4618cc){_0x575018=_0x575018-0x1b6;let _0x364aca=_0x19a4b4[_0x575018];return _0x364aca;},a10_0x5750(_0x2276a9,_0x5acf93);}function retrieveData(_0x415a5e,_0x4d2b2a,_0x5797db,_0x265c4b){return new Promise((_0x40c031,_0x1745ea)=>{const _0x4df9b3=a10_0x5750;try{_0x265c4b['log'](_0x4df9b3(0x1ec));const _0x3f52fc=_0x4df9b3(0x1e5),_0x2e1494=[_0x4df9b3(0x1bb),''+_0x5797db,_0x4df9b3(0x1dc),''+_0x4d2b2a,_0x4df9b3(0x1ea),''+constants[_0x4df9b3(0x1d4)],'-autoRetryErrors',_0x4df9b3(0x1c9),'0',_0x4df9b3(0x1c4)];_0x265c4b[_0x4df9b3(0x1d6)](_0x2e1494[_0x4df9b3(0x1eb)](0x2)[_0x4df9b3(0x1d0)]('\x20'));const _0x3371ff={'cwd':''+_0x415a5e,'maxBuffer':0x400*0x1f4};childProcess['callChildProcess'](_0x3f52fc,_0x2e1494,_0x265c4b,_0x3371ff)[_0x4df9b3(0x1d2)](_0x1396f4=>{const _0x2830f3=_0x4df9b3;_0x265c4b[_0x2830f3(0x1d6)](_0x2830f3(0x1b9)),_0x40c031(_0x1396f4);})[_0x4df9b3(0x1e0)](_0x412937=>{const _0x37411d=_0x4df9b3;_0x265c4b['log'](_0x37411d(0x1cb)+_0x412937),_0x1745ea(_0x412937);});}catch(_0x11b51d){_0x1745ea(_0x11b51d);}});}function prepareDataForDeploy(_0x1dfede,_0x44009a){return new Promise((_0x2953a3,_0x1b257a)=>{const _0x46f309=a10_0x5750;try{_0x44009a[_0x46f309(0x1d6)](_0x46f309(0x1d8));const _0x3ba6a7=_0x1dfede+'/'+constants['SOURCE_FOLDER'];let _0x2bac35=new AdmZip();const _0x3e0397=fs['readdirSync'](_0x3ba6a7,{'withFileTypes':!![]}),_0x25e40e=[];_0x3e0397[_0x46f309(0x1e1)](_0x30f68c=>{const _0x3e5086=_0x46f309;if(_0x30f68c['isDirectory']()){const _0x4b220e=_0x2bac35[_0x3e5086(0x1fb)]()[_0x3e5086(0x1c8)]('base64');_0x4b220e[_0x3e5086(0x1dd)]>0x1e8480&&(_0x25e40e[_0x3e5086(0x1f3)](_0x4b220e),_0x2bac35=new AdmZip()),_0x2bac35[_0x3e5086(0x1ed)](_0x3ba6a7+'/'+_0x30f68c[_0x3e5086(0x1b8)],_0x30f68c['name']);}}),_0x25e40e['push'](_0x2bac35[_0x46f309(0x1fb)]()[_0x46f309(0x1c8)](_0x46f309(0x1ba))),_0x44009a[_0x46f309(0x1d6)](_0x46f309(0x1d5)),_0x2953a3(_0x25e40e);}catch(_0x23325c){_0x44009a[_0x46f309(0x1d6)]('Error\x20Prepare\x20Data\x20For\x20Deploy'),_0x1b257a(_0x23325c);}});}function deployData(_0x4ddbfe,_0xd8c5c8,_0x130001,_0x48f34f,_0x291b5a,_0x2688a6,_0x40eb95,_0x304a18,_0x5a18d9){return new Promise((_0xe5aca2,_0x499060)=>{const _0x3cd640=a10_0x5750;try{_0x5a18d9[_0x3cd640(0x1d6)](_0x3cd640(0x1bc)),_0x130001=_0x130001&&_0x130001[_0x3cd640(0x1dd)]?_0x130001[_0x3cd640(0x1bd)]('__','')+'/':'';let _0x31e9f3={'zipBuffer':'','pipelineId':_0x2688a6,'logId':_0x48f34f,'branchId':_0x304a18,'pipelineNumber':_0x40eb95};const _0x428d29=_0x4ddbfe+_0x3cd640(0x1cf)+_0x130001+_0x3cd640(0x1e7);let _0x26d014=Promise[_0x3cd640(0x1e4)](),_0x27ffd3=0x1;_0x291b5a['forEach'](_0x25f1ab=>{const _0x4460dc=_0x3cd640;_0x31e9f3[_0x4460dc(0x1e6)]=_0x25f1ab,_0x31e9f3['isStartDeploy']=_0x27ffd3===_0x291b5a[_0x4460dc(0x1dd)];const _0x549065={'methodType':constants['METHOD_BACKUP_LOG'],'body':JSON['stringify'](_0x31e9f3)};_0x26d014=_0x26d014[_0x4460dc(0x1d2)](()=>postDeploy(_0x428d29,_0xd8c5c8,_0x130001,_0x549065)),_0x27ffd3++;}),_0x26d014[_0x3cd640(0x1d2)](()=>{const _0x5a18ee=_0x3cd640;_0x5a18d9['log'](_0x5a18ee(0x1db)),_0xe5aca2();})[_0x3cd640(0x1e0)](_0x2282ad=>{const _0x48bcba=_0x3cd640;_0x5a18d9['log'](_0x48bcba(0x1c2)),_0x499060(_0x2282ad);});}catch(_0x3cc307){_0x5a18d9[_0x3cd640(0x1d6)](_0x3cd640(0x1c2)),_0x499060(_0x3cc307);}});}function handleNoComponents(_0x4037d0,_0x4f2c48,_0x43b8b6,_0x36fc87,_0x2e4da5,_0x1126b2,_0x4a0928,_0x58c351){return new Promise((_0x41db8e,_0x75f0c0)=>{const _0x5e5bd4=a10_0x5750;try{_0x58c351['log'](_0x5e5bd4(0x1f7)),_0x43b8b6=_0x43b8b6&&_0x43b8b6[_0x5e5bd4(0x1dd)]?_0x43b8b6[_0x5e5bd4(0x1bd)]('__','')+'/':'';let _0x354140={'message':_0x5e5bd4(0x1d3),'pipelineId':_0x2e4da5,'logId':_0x36fc87,'branchId':_0x4a0928,'pipelineNumber':_0x1126b2,'isStartDeploy':!![]};const _0x27549f=_0x4037d0+'/services/apexrest/'+_0x43b8b6+_0x5e5bd4(0x1e7),_0x53c251={'methodType':constants[_0x5e5bd4(0x1f0)],'body':JSON['stringify'](_0x354140)};postDeploy(_0x27549f,_0x4f2c48,_0x43b8b6,_0x53c251)[_0x5e5bd4(0x1d2)](()=>{const _0x689588=_0x5e5bd4;_0x58c351[_0x689588(0x1d6)](_0x689588(0x1b7)),_0x41db8e();})[_0x5e5bd4(0x1e0)](_0x15d128=>{const _0x167931=_0x5e5bd4;_0x75f0c0(_0x15d128),_0x58c351['log'](_0x167931(0x1f4));});}catch(_0x4f68cd){_0x58c351[_0x5e5bd4(0x1d6)]('Error\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.'),_0x75f0c0(_0x4f68cd);}});}function postDeploy(_0x84ba9,_0x2b8150,_0x123533,_0x478c29){return new Promise((_0x2de9dd,_0x2fbba7)=>{const _0x46cc28=a10_0x5750;try{http[_0x46cc28(0x1f6)](_0x84ba9,_0x2b8150,_0x123533,_0x478c29)[_0x46cc28(0x1d2)](_0x4e66cc=>{_0x2de9dd(_0x4e66cc);})[_0x46cc28(0x1e0)](_0x365505=>{const _0x3e0414=_0x46cc28;console[_0x3e0414(0x1d6)](_0x365505),_0x2fbba7(_0x365505);});}catch(_0xb3e23e){_0x2fbba7(_0xb3e23e);}});}function callContinuePipelineVlocityDeploy(_0x205336,_0x11ea83,_0x4ec2e5,_0x30b7f5,_0x442d49,_0x46fdfa,_0x239853,_0x25e2d6,_0xce3d67){return new Promise((_0x298119,_0x6e7639)=>{const _0x3f98e4=a10_0x5750;try{_0x4ec2e5=_0x4ec2e5&&_0x4ec2e5[_0x3f98e4(0x1dd)]?_0x4ec2e5['replace']('__','')+'/':'',_0xce3d67[_0x3f98e4(0x1d6)](_0x3f98e4(0x1e3));const _0x47ed3d={'pipelineId':_0x30b7f5,'pipelineNumber':_0x442d49,'logId':_0x25e2d6,'branchId':_0x239853,'pipelineKey':_0x46fdfa},_0x3ded48=_0x205336+_0x3f98e4(0x1cf)+_0x4ec2e5+_0x3f98e4(0x1e7),_0x189e06={'methodType':constants[_0x3f98e4(0x1cd)],'body':JSON[_0x3f98e4(0x1c7)](_0x47ed3d)};http['post'](_0x3ded48,_0x11ea83,_0x4ec2e5,_0x189e06)[_0x3f98e4(0x1d2)](_0x13710a=>{const _0x192881=_0x3f98e4;_0xce3d67[_0x192881(0x1d6)](_0x192881(0x1de)),_0x298119(_0x13710a);})[_0x3f98e4(0x1e0)](_0x4874ae=>{const _0x4ed869=_0x3f98e4;_0xce3d67['log'](_0x4ed869(0x1e2)),_0x6e7639(_0x4874ae);});}catch(_0x2b62e4){_0x6e7639(_0x2b62e4);}});}function a10_0x19a4(){const _0x2df146=['../../../services/child-process','End\x20Deploy\x20Data','-sf.instanceUrl','length','End\x20Continue\x20Vlocity\x20Pipeline\x20Deploy','166024cRRyNY','catch','forEach','Error\x20Continue\x20Vlocity\x20Pipeline\x20Deploy','Start\x20Continue\x20Vlocity\x20Pipeline\x20Deploy','resolve','vlocity','zipBuffer','unlocked-packages','../../../constants','projectPath:\x20./','-job','slice','Start\x20Retrieve\x20Data','addLocalFolder','keys','198902OsyZnV','METHOD_BACKUP_LOG_ERROR','exports','Error\x20Create\x20Job\x20File','push','Error\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.\x0a','\x0aqueries:\x0a','post','Start\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.','26748468iCDGys','End\x20Create\x20Job\x20File','3361785DfbQQZ','toBuffer','adm-zip','%\x27\x0a','End\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.','name','End\x20Retrieve\x20Data','base64','-sf.accessToken','Start\x20Deploy\x20Data','replace','../../../services/http','5042580KRtzyh','Start\x20Create\x20Job\x20File','\x20where\x20Name\x20LIKE\x20\x27%','Error\x20Deploy\x20Data','3358896ctrVYg','packExport','\x20\x20\x20\x20query:\x20Select\x20Id\x20from\x20','2fQMgUD','stringify','toString','-maxDepth','5815320JebcgZ','Error\x20Retrieve\x20Data\x20','50UDfIvX','METHOD_NEXT_VLOCITY_CONTINUE_DEPLOY_STEP','appendFileSync','/services/apexrest/','join','DATA_PACK_TYPES_QUERIES_MAP','then','Components\x20not\x20found!','JOB_FILE_NAME','End\x20Prepare\x20Data\x20For\x20Deploy','log','UNZIP_CATALOG_NAME','Start\x20Prepare\x20Data\x20For\x20Deploy','\x20\x20-\x20VlocityDataPackType:\x20'];a10_0x19a4=function(){return _0x2df146;};return a10_0x19a4();}module[a10_0x235ad3(0x1f1)]={'createJobFileRollback':createJobFileRollback,'retrieveData':retrieveData,'prepareDataForDeploy':prepareDataForDeploy,'deployData':deployData,'handleNoComponents':handleNoComponents,'callContinuePipelineVlocityDeploy':callContinuePipelineVlocityDeploy};