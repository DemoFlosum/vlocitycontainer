function a14_0x1975(){const _0x339c73=['stringify','Start\x20Prepare\x20Data\x20For\x20Deploy','\x20\x20\x20\x20query:\x20Select\x20Id\x20from\x20','\x20\x20-\x20VlocityDataPackType:\x20','length','-sf.instanceUrl','369LOgPkB','2590100SCXgZl','resolve','33702easGtA','End\x20Create\x20Job\x20File','797lzmAFn','SOURCE_FOLDER','57227352nDZqwq','METHOD_NEXT_VLOCITY_CONTINUE_DEPLOY_STEP','../../../services/child-process','unlocked-packages','join','%\x27\x0a','vlocity','-job','264528IzxiWC','Error\x20Prepare\x20Data\x20For\x20Deploy','Start\x20Continue\x20Vlocity\x20Pipeline\x20Deploy','Error\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.','isStartDeploy','METHOD_BACKUP_LOG','replace','then','Error\x20Create\x20Job\x20File','callChildProcess','push','10hQuHVo','Start\x20Deploy\x20Data','End\x20Continue\x20Vlocity\x20Pipeline\x20Deploy','1881654EQxLrj','zipBuffer','Start\x20Retrieve\x20Data','JOB_FILE_NAME','readdirSync','UNZIP_CATALOG_NAME','\x20where\x20Name\x20LIKE\x20\x27%','toBuffer','End\x20Deploy\x20Data','11umBPzy','614buhEkF','-sf.accessToken','forEach','Start\x20Create\x20Job\x20File','slice','keys','name','Error\x20Deploy\x20Data','-maxDepth','End\x20Retrieve\x20Data','Components\x20not\x20found!','exports','catch','adm-zip','log','base64','End\x20Prepare\x20Data\x20For\x20Deploy','3781490xsZpTV','post','721lkywxl','Error\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.\x0a'];a14_0x1975=function(){return _0x339c73;};return a14_0x1975();}const a14_0x397254=a14_0x4e2f;(function(_0x1a21f1,_0x538daf){const _0x644942=a14_0x4e2f,_0x256b4d=_0x1a21f1();while(!![]){try{const _0x54de46=parseInt(_0x644942(0x1ed))/0x1*(parseInt(_0x644942(0x20f))/0x2)+-parseInt(_0x644942(0x205))/0x3+-parseInt(_0x644942(0x1e9))/0x4*(parseInt(_0x644942(0x202))/0x5)+parseInt(_0x644942(0x1eb))/0x6*(-parseInt(_0x644942(0x222))/0x7)+parseInt(_0x644942(0x1f7))/0x8*(-parseInt(_0x644942(0x1e8))/0x9)+-parseInt(_0x644942(0x220))/0xa*(parseInt(_0x644942(0x20e))/0xb)+parseInt(_0x644942(0x1ef))/0xc;if(_0x54de46===_0x538daf)break;else _0x256b4d['push'](_0x256b4d['shift']());}catch(_0x1f365d){_0x256b4d['push'](_0x256b4d['shift']());}}}(a14_0x1975,0xbe2c7));function a14_0x4e2f(_0x5c0835,_0x328cf7){const _0x197596=a14_0x1975();return a14_0x4e2f=function(_0x4e2fca,_0x507366){_0x4e2fca=_0x4e2fca-0x1e1;let _0x5774ec=_0x197596[_0x4e2fca];return _0x5774ec;},a14_0x4e2f(_0x5c0835,_0x328cf7);}const fs=require('fs'),AdmZip=require(a14_0x397254(0x21c)),childProcess=require(a14_0x397254(0x1f1)),constants=require('../../../constants'),http=require('../../../services/http');function createJobFileRollback(_0x3feca6,_0x47c630,_0x12718e,_0x12f6e4){return new Promise((_0x38f8f8,_0x4931e3)=>{const _0x2efadc=a14_0x4e2f;try{_0x12f6e4[_0x2efadc(0x21d)](_0x2efadc(0x212));let _0xf563bc='projectPath:\x20./'+constants[_0x2efadc(0x20a)]+'\x0aqueries:\x0a';Object[_0x2efadc(0x214)](_0x47c630)[_0x2efadc(0x211)](_0xe1d27b=>{const _0x339d40=_0x2efadc;_0x47c630[_0xe1d27b][_0x339d40(0x211)](_0x37452a=>{const _0x5b7901=_0x339d40;constants['DATA_PACK_TYPES_QUERIES_MAP'][_0xe1d27b][_0x5b7901(0x211)](_0x18d7d2=>{const _0x5cf0fc=_0x5b7901;_0xf563bc+=_0x5cf0fc(0x1e5)+_0xe1d27b+'\x0a',_0xf563bc+=_0x5cf0fc(0x1e4)+_0x18d7d2+_0x5cf0fc(0x20b)+_0x37452a+_0x5cf0fc(0x1f4);});});}),fs['appendFileSync'](_0x3feca6+'/'+constants[_0x2efadc(0x208)],_0xf563bc),_0x12f6e4['log'](_0x2efadc(0x1ec)),_0x38f8f8();}catch(_0x475cf5){_0x12f6e4['log'](_0x2efadc(0x1ff)),_0x4931e3(_0x475cf5);}});}function retrieveData(_0xf848ea,_0x397ed1,_0xd9924a,_0x1fa909){return new Promise((_0x459d8e,_0x4df554)=>{const _0x52ea9a=a14_0x4e2f;try{_0x1fa909[_0x52ea9a(0x21d)](_0x52ea9a(0x207));const _0x48634b=_0x52ea9a(0x1f5),_0xda68cd=[_0x52ea9a(0x210),''+_0xd9924a,_0x52ea9a(0x1e7),''+_0x397ed1,_0x52ea9a(0x1f6),''+constants[_0x52ea9a(0x208)],'-autoRetryErrors',_0x52ea9a(0x217),'0','packExport'];_0x1fa909[_0x52ea9a(0x21d)](_0xda68cd[_0x52ea9a(0x213)](0x2)[_0x52ea9a(0x1f3)]('\x20'));const _0x252083={'cwd':''+_0xf848ea,'maxBuffer':0x400*0x1f4};childProcess[_0x52ea9a(0x200)](_0x48634b,_0xda68cd,_0x1fa909,_0x252083)['then'](_0x2062d5=>{const _0x5dcf5c=_0x52ea9a;_0x1fa909[_0x5dcf5c(0x21d)](_0x5dcf5c(0x218)),_0x459d8e(_0x2062d5);})[_0x52ea9a(0x21b)](_0x4012b0=>{const _0xf882ba=_0x52ea9a;_0x1fa909[_0xf882ba(0x21d)]('Error\x20Retrieve\x20Data\x20'+_0x4012b0),_0x4df554(_0x4012b0);});}catch(_0x7de44b){_0x4df554(_0x7de44b);}});}function prepareDataForDeploy(_0xe46c4,_0x1d2dcd){return new Promise((_0x592b5c,_0x1da038)=>{const _0x21b9d5=a14_0x4e2f;try{_0x1d2dcd['log'](_0x21b9d5(0x1e3));const _0x3fbcc8=_0xe46c4+'/'+constants[_0x21b9d5(0x1ee)];let _0x63ebd8=new AdmZip();const _0x427982=fs[_0x21b9d5(0x209)](_0x3fbcc8,{'withFileTypes':!![]}),_0x1a878a=[];_0x427982[_0x21b9d5(0x211)](_0x2efefe=>{const _0x1c97f8=_0x21b9d5;if(_0x2efefe['isDirectory']()){const _0x13c13=_0x63ebd8[_0x1c97f8(0x20c)]()['toString'](_0x1c97f8(0x21e));_0x13c13['length']>0x1e8480&&(_0x1a878a[_0x1c97f8(0x201)](_0x13c13),_0x63ebd8=new AdmZip()),_0x63ebd8['addLocalFolder'](_0x3fbcc8+'/'+_0x2efefe[_0x1c97f8(0x215)],_0x2efefe[_0x1c97f8(0x215)]);}}),_0x1a878a['push'](_0x63ebd8['toBuffer']()['toString'](_0x21b9d5(0x21e))),_0x1d2dcd['log'](_0x21b9d5(0x21f)),_0x592b5c(_0x1a878a);}catch(_0x1c294c){_0x1d2dcd[_0x21b9d5(0x21d)](_0x21b9d5(0x1f8)),_0x1da038(_0x1c294c);}});}function deployData(_0x13602c,_0x1f3d85,_0x50ed9,_0x107fc6,_0xab7a2f,_0x50b2e2,_0x5846d9,_0x4eeb9b,_0x8283c2){return new Promise((_0x194df9,_0x446c2d)=>{const _0x57032f=a14_0x4e2f;try{_0x8283c2[_0x57032f(0x21d)](_0x57032f(0x203)),_0x50ed9=_0x50ed9&&_0x50ed9[_0x57032f(0x1e6)]?_0x50ed9[_0x57032f(0x1fd)]('__','')+'/':'';let _0x404713={'zipBuffer':'','pipelineId':_0x50b2e2,'logId':_0x107fc6,'branchId':_0x4eeb9b,'pipelineNumber':_0x5846d9};const _0x190f21=_0x13602c+'/services/apexrest/'+_0x50ed9+_0x57032f(0x1f2);let _0x5601ef=Promise[_0x57032f(0x1ea)](),_0xa7a09c=0x1;_0xab7a2f['forEach'](_0x1a516c=>{const _0x5485af=_0x57032f;_0x404713[_0x5485af(0x206)]=_0x1a516c,_0x404713[_0x5485af(0x1fb)]=_0xa7a09c===_0xab7a2f['length'];const _0x2fa150={'methodType':constants[_0x5485af(0x1fc)],'body':JSON[_0x5485af(0x1e2)](_0x404713)};_0x5601ef=_0x5601ef[_0x5485af(0x1fe)](()=>postDeploy(_0x190f21,_0x1f3d85,_0x50ed9,_0x2fa150)),_0xa7a09c++;}),_0x5601ef[_0x57032f(0x1fe)](()=>{const _0x49d952=_0x57032f;_0x8283c2['log'](_0x49d952(0x20d)),_0x194df9();})[_0x57032f(0x21b)](_0x5846d2=>{const _0xafce7e=_0x57032f;_0x8283c2[_0xafce7e(0x21d)](_0xafce7e(0x216)),_0x446c2d(_0x5846d2);});}catch(_0x2803f9){_0x8283c2['log'](_0x57032f(0x216)),_0x446c2d(_0x2803f9);}});}function handleNoComponents(_0x1ccbd7,_0x5bd46e,_0x58a4c7,_0x441082,_0x20a3f2,_0x37911f,_0x523b2a,_0x41192d){return new Promise((_0x39e6b0,_0x1b9129)=>{const _0x3d46e3=a14_0x4e2f;try{_0x41192d['log']('Start\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.'),_0x58a4c7=_0x58a4c7&&_0x58a4c7['length']?_0x58a4c7[_0x3d46e3(0x1fd)]('__','')+'/':'';let _0x101e6a={'message':_0x3d46e3(0x219),'pipelineId':_0x20a3f2,'logId':_0x441082,'branchId':_0x523b2a,'pipelineNumber':_0x37911f,'isStartDeploy':!![]};const _0x4a8f0d=_0x1ccbd7+'/services/apexrest/'+_0x58a4c7+'unlocked-packages',_0x18f695={'methodType':constants['METHOD_BACKUP_LOG_ERROR'],'body':JSON[_0x3d46e3(0x1e2)](_0x101e6a)};postDeploy(_0x4a8f0d,_0x5bd46e,_0x58a4c7,_0x18f695)[_0x3d46e3(0x1fe)](()=>{const _0x3bdebe=_0x3d46e3;_0x41192d[_0x3bdebe(0x21d)]('End\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.'),_0x39e6b0();})[_0x3d46e3(0x21b)](_0x20db1b=>{const _0x2adf3a=_0x3d46e3;_0x1b9129(_0x20db1b),_0x41192d[_0x2adf3a(0x21d)](_0x2adf3a(0x1e1));});}catch(_0x4515a2){_0x41192d[_0x3d46e3(0x21d)](_0x3d46e3(0x1fa)),_0x1b9129(_0x4515a2);}});}function postDeploy(_0x4fd14e,_0x438c26,_0x5677e9,_0x1d580a){return new Promise((_0x22e299,_0x5f07af)=>{const _0x5a25a9=a14_0x4e2f;try{http[_0x5a25a9(0x221)](_0x4fd14e,_0x438c26,_0x5677e9,_0x1d580a)[_0x5a25a9(0x1fe)](_0x5e1f73=>{_0x22e299(_0x5e1f73);})[_0x5a25a9(0x21b)](_0x17df07=>{const _0x324c9c=_0x5a25a9;console[_0x324c9c(0x21d)](_0x17df07),_0x5f07af(_0x17df07);});}catch(_0x1f1553){_0x5f07af(_0x1f1553);}});}function callContinuePipelineVlocityDeploy(_0x2b16d2,_0x480fcc,_0x2dc2be,_0x10571b,_0x201113,_0x24ffe9,_0x585b82,_0x38b93b,_0x11113d){return new Promise((_0x39aa3f,_0x56575b)=>{const _0x449960=a14_0x4e2f;try{_0x2dc2be=_0x2dc2be&&_0x2dc2be[_0x449960(0x1e6)]?_0x2dc2be[_0x449960(0x1fd)]('__','')+'/':'',_0x11113d[_0x449960(0x21d)](_0x449960(0x1f9));const _0xa4645c={'pipelineId':_0x10571b,'pipelineNumber':_0x201113,'logId':_0x38b93b,'branchId':_0x585b82,'pipelineKey':_0x24ffe9},_0x3b40c2=_0x2b16d2+'/services/apexrest/'+_0x2dc2be+_0x449960(0x1f2),_0x54529f={'methodType':constants[_0x449960(0x1f0)],'body':JSON['stringify'](_0xa4645c)};http[_0x449960(0x221)](_0x3b40c2,_0x480fcc,_0x2dc2be,_0x54529f)[_0x449960(0x1fe)](_0x1e5a46=>{const _0x3bb02b=_0x449960;_0x11113d[_0x3bb02b(0x21d)](_0x3bb02b(0x204)),_0x39aa3f(_0x1e5a46);})[_0x449960(0x21b)](_0x292ee6=>{const _0x404f97=_0x449960;_0x11113d[_0x404f97(0x21d)]('Error\x20Continue\x20Vlocity\x20Pipeline\x20Deploy'),_0x56575b(_0x292ee6);});}catch(_0x17392f){_0x56575b(_0x17392f);}});}module[a14_0x397254(0x21a)]={'createJobFileRollback':createJobFileRollback,'retrieveData':retrieveData,'prepareDataForDeploy':prepareDataForDeploy,'deployData':deployData,'handleNoComponents':handleNoComponents,'callContinuePipelineVlocityDeploy':callContinuePipelineVlocityDeploy};