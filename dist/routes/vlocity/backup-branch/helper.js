function a13_0x479f(){const _0x278721=['Error\x20Deploy\x20Data','End\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.','isStartDeploy','13304NdZOuA','\x20\x20\x20\x20query:\x20Select\x20Id\x20from\x20','Start\x20Create\x20Job\x20File','End\x20Retrieve\x20Data','zipBuffer','8etDluc','then','Error\x20Create\x20Job\x20File','-sf.instanceUrl','replace','End\x20Prepare\x20Data\x20For\x20Deploy','/services/apexrest/','3436395ZKcjZx','\x20\x20-\x20VlocityDataPackType:\x20','../../../constants','6nmbeiG','End\x20Continue\x20Vlocity\x20Pipeline\x20Deploy','packExport','5699771KVXZmz','toString','forEach','Error\x20Continue\x20Vlocity\x20Pipeline\x20Deploy','Start\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.','SOURCE_FOLDER','%\x27\x0a','791227CJuuZA','../../../services/child-process','toBuffer','Error\x20Retrieve\x20Data\x20','readdirSync','push','927nGCtcd','METHOD_BACKUP_LOG','catch','vlocity','base64','name','11246268TgjfMX','-autoRetryErrors','Start\x20Continue\x20Vlocity\x20Pipeline\x20Deploy','METHOD_NEXT_VLOCITY_CONTINUE_DEPLOY_STEP','JOB_FILE_NAME','1171137qvfyth','UNZIP_CATALOG_NAME','\x0aqueries:\x0a','length','../../../services/http','2KZzshE','Start\x20Prepare\x20Data\x20For\x20Deploy','post','join','log','resolve','\x20where\x20Name\x20LIKE\x20\x27%','METHOD_BACKUP_LOG_ERROR','exports','Error\x20Prepare\x20Data\x20For\x20Deploy','23550ZJmfUN','stringify','slice','-maxDepth','13QoYPvC','Error\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.','Components\x20not\x20found!','unlocked-packages','keys','2534LEstjX','Error\x20Update\x20Log.\x20No\x20Components\x20to\x20Backup.\x0a'];a13_0x479f=function(){return _0x278721;};return a13_0x479f();}const a13_0x8babfd=a13_0x4edc;(function(_0x2d8a40,_0x4982ff){const _0x439fb5=a13_0x4edc,_0x5d204b=_0x2d8a40();while(!![]){try{const _0x122151=-parseInt(_0x439fb5(0x213))/0x1*(-parseInt(_0x439fb5(0x1e2))/0x2)+parseInt(_0x439fb5(0x224))/0x3*(parseInt(_0x439fb5(0x1ff))/0x4)+-parseInt(_0x439fb5(0x206))/0x5*(-parseInt(_0x439fb5(0x209))/0x6)+-parseInt(_0x439fb5(0x1f5))/0x7*(parseInt(_0x439fb5(0x1fa))/0x8)+-parseInt(_0x439fb5(0x219))/0x9*(-parseInt(_0x439fb5(0x1ec))/0xa)+-parseInt(_0x439fb5(0x20c))/0xb+parseInt(_0x439fb5(0x21f))/0xc*(-parseInt(_0x439fb5(0x1f0))/0xd);if(_0x122151===_0x4982ff)break;else _0x5d204b['push'](_0x5d204b['shift']());}catch(_0x4c608c){_0x5d204b['push'](_0x5d204b['shift']());}}}(a13_0x479f,0x6c839));function a13_0x4edc(_0x5541a9,_0x3b0ec8){const _0x479f44=a13_0x479f();return a13_0x4edc=function(_0x4edcb3,_0x30cf8d){_0x4edcb3=_0x4edcb3-0x1e1;let _0x426f46=_0x479f44[_0x4edcb3];return _0x426f46;},a13_0x4edc(_0x5541a9,_0x3b0ec8);}const fs=require('fs'),AdmZip=require('adm-zip'),childProcess=require(a13_0x8babfd(0x214)),constants=require(a13_0x8babfd(0x208)),http=require(a13_0x8babfd(0x1e1));function createJobFileRollback(_0x325968,_0xe1c934,_0x2f2fda,_0xf6de5c){return new Promise((_0x4c11d9,_0x5686a6)=>{const _0x33f371=a13_0x4edc;try{_0xf6de5c['log'](_0x33f371(0x1fc));let _0x1c5d43='projectPath:\x20./'+constants[_0x33f371(0x225)]+_0x33f371(0x226);Object[_0x33f371(0x1f4)](_0xe1c934)[_0x33f371(0x20e)](_0x1c878c=>{const _0x364a9a=_0x33f371;_0xe1c934[_0x1c878c][_0x364a9a(0x20e)](_0x49687a=>{const _0xaf26c2=_0x364a9a;constants['DATA_PACK_TYPES_QUERIES_MAP'][_0x1c878c][_0xaf26c2(0x20e)](_0x5652ee=>{const _0x9a182d=_0xaf26c2;_0x1c5d43+=_0x9a182d(0x207)+_0x1c878c+'\x0a',_0x1c5d43+=_0x9a182d(0x1fb)+_0x5652ee+_0x9a182d(0x1e8)+_0x49687a+_0x9a182d(0x212);});});}),fs['appendFileSync'](_0x325968+'/'+constants[_0x33f371(0x223)],_0x1c5d43),_0xf6de5c[_0x33f371(0x1e6)]('End\x20Create\x20Job\x20File'),_0x4c11d9();}catch(_0x4e8960){_0xf6de5c[_0x33f371(0x1e6)](_0x33f371(0x201)),_0x5686a6(_0x4e8960);}});}function retrieveData(_0x3aae58,_0x4d9b3c,_0x339e78,_0x4acb47){return new Promise((_0x365200,_0x5189e8)=>{const _0x2f6d64=a13_0x4edc;try{_0x4acb47[_0x2f6d64(0x1e6)]('Start\x20Retrieve\x20Data');const _0x334bac=_0x2f6d64(0x21c),_0x612f12=['-sf.accessToken',''+_0x339e78,_0x2f6d64(0x202),''+_0x4d9b3c,'-job',''+constants[_0x2f6d64(0x223)],_0x2f6d64(0x220),_0x2f6d64(0x1ef),'0',_0x2f6d64(0x20b)];_0x4acb47[_0x2f6d64(0x1e6)](_0x612f12[_0x2f6d64(0x1ee)](0x2)[_0x2f6d64(0x1e5)]('\x20'));const _0x3b839a={'cwd':''+_0x3aae58,'maxBuffer':0x400*0x1f4};childProcess['callChildProcess'](_0x334bac,_0x612f12,_0x4acb47,_0x3b839a)[_0x2f6d64(0x200)](_0x111a71=>{const _0x474f43=_0x2f6d64;_0x4acb47[_0x474f43(0x1e6)](_0x474f43(0x1fd)),_0x365200(_0x111a71);})[_0x2f6d64(0x21b)](_0x5ae094=>{const _0x428ed4=_0x2f6d64;_0x4acb47['log'](_0x428ed4(0x216)+_0x5ae094),_0x5189e8(_0x5ae094);});}catch(_0x2e4f6d){_0x5189e8(_0x2e4f6d);}});}function prepareDataForDeploy(_0x582a60,_0x1d5ff7){return new Promise((_0x57d2f3,_0x1215fb)=>{const _0xfcf58b=a13_0x4edc;try{_0x1d5ff7[_0xfcf58b(0x1e6)](_0xfcf58b(0x1e3));const _0x4da423=_0x582a60+'/'+constants[_0xfcf58b(0x211)];let _0x54a53a=new AdmZip();const _0x151cd3=fs[_0xfcf58b(0x217)](_0x4da423,{'withFileTypes':!![]}),_0x5208ad=[];_0x151cd3[_0xfcf58b(0x20e)](_0x3086f9=>{const _0x463bda=_0xfcf58b;if(_0x3086f9['isDirectory']()){const _0x223ed5=_0x54a53a[_0x463bda(0x215)]()[_0x463bda(0x20d)](_0x463bda(0x21d));_0x223ed5['length']>0x1e8480&&(_0x5208ad['push'](_0x223ed5),_0x54a53a=new AdmZip()),_0x54a53a['addLocalFolder'](_0x4da423+'/'+_0x3086f9[_0x463bda(0x21e)],_0x3086f9[_0x463bda(0x21e)]);}}),_0x5208ad[_0xfcf58b(0x218)](_0x54a53a['toBuffer']()[_0xfcf58b(0x20d)](_0xfcf58b(0x21d))),_0x1d5ff7['log'](_0xfcf58b(0x204)),_0x57d2f3(_0x5208ad);}catch(_0x53f80e){_0x1d5ff7[_0xfcf58b(0x1e6)](_0xfcf58b(0x1eb)),_0x1215fb(_0x53f80e);}});}function deployData(_0x26d5c7,_0x4af0a6,_0x53b0d6,_0x29ad72,_0x5e3ad0,_0x50b087,_0x4a2bf3,_0x4b3e49,_0x86e557){return new Promise((_0x30aa95,_0xf8c380)=>{const _0x5ac164=a13_0x4edc;try{_0x86e557[_0x5ac164(0x1e6)]('Start\x20Deploy\x20Data'),_0x53b0d6=_0x53b0d6&&_0x53b0d6[_0x5ac164(0x227)]?_0x53b0d6[_0x5ac164(0x203)]('__','')+'/':'';let _0x2d3962={'zipBuffer':'','pipelineId':_0x50b087,'logId':_0x29ad72,'branchId':_0x4b3e49,'pipelineNumber':_0x4a2bf3};const _0x1c2d82=_0x26d5c7+_0x5ac164(0x205)+_0x53b0d6+_0x5ac164(0x1f3);let _0x3dc75e=Promise[_0x5ac164(0x1e7)](),_0x41fa54=0x1;_0x5e3ad0[_0x5ac164(0x20e)](_0x55ecd6=>{const _0x233cbc=_0x5ac164;_0x2d3962[_0x233cbc(0x1fe)]=_0x55ecd6,_0x2d3962[_0x233cbc(0x1f9)]=_0x41fa54===_0x5e3ad0[_0x233cbc(0x227)];const _0x425c08={'methodType':constants[_0x233cbc(0x21a)],'body':JSON['stringify'](_0x2d3962)};_0x3dc75e=_0x3dc75e[_0x233cbc(0x200)](()=>postDeploy(_0x1c2d82,_0x4af0a6,_0x53b0d6,_0x425c08)),_0x41fa54++;}),_0x3dc75e[_0x5ac164(0x200)](()=>{_0x86e557['log']('End\x20Deploy\x20Data'),_0x30aa95();})[_0x5ac164(0x21b)](_0x10fdd4=>{const _0x38346d=_0x5ac164;_0x86e557[_0x38346d(0x1e6)]('Error\x20Deploy\x20Data'),_0xf8c380(_0x10fdd4);});}catch(_0x12d401){_0x86e557[_0x5ac164(0x1e6)](_0x5ac164(0x1f7)),_0xf8c380(_0x12d401);}});}function handleNoComponents(_0x33728b,_0x19aa9e,_0x4aeab9,_0x37db6d,_0x25dc8a,_0x2063a2,_0xc87ac0,_0x1b04fb){return new Promise((_0x3d065a,_0x41b1d1)=>{const _0x1b45b3=a13_0x4edc;try{_0x1b04fb[_0x1b45b3(0x1e6)](_0x1b45b3(0x210)),_0x4aeab9=_0x4aeab9&&_0x4aeab9['length']?_0x4aeab9[_0x1b45b3(0x203)]('__','')+'/':'';let _0x3adaf2={'message':_0x1b45b3(0x1f2),'pipelineId':_0x25dc8a,'logId':_0x37db6d,'branchId':_0xc87ac0,'pipelineNumber':_0x2063a2,'isStartDeploy':!![]};const _0x34e7a1=_0x33728b+'/services/apexrest/'+_0x4aeab9+_0x1b45b3(0x1f3),_0x2e4d71={'methodType':constants[_0x1b45b3(0x1e9)],'body':JSON['stringify'](_0x3adaf2)};postDeploy(_0x34e7a1,_0x19aa9e,_0x4aeab9,_0x2e4d71)[_0x1b45b3(0x200)](()=>{const _0x3aae32=_0x1b45b3;_0x1b04fb[_0x3aae32(0x1e6)](_0x3aae32(0x1f8)),_0x3d065a();})[_0x1b45b3(0x21b)](_0x24b9a5=>{const _0x2eb16a=_0x1b45b3;_0x41b1d1(_0x24b9a5),_0x1b04fb[_0x2eb16a(0x1e6)](_0x2eb16a(0x1f6));});}catch(_0x39457b){_0x1b04fb['log'](_0x1b45b3(0x1f1)),_0x41b1d1(_0x39457b);}});}function postDeploy(_0xeab984,_0x53555b,_0x46210e,_0x595b7f){return new Promise((_0xd0ca54,_0x174b6c)=>{const _0x46cb06=a13_0x4edc;try{http[_0x46cb06(0x1e4)](_0xeab984,_0x53555b,_0x46210e,_0x595b7f)[_0x46cb06(0x200)](_0xc79e44=>{_0xd0ca54(_0xc79e44);})[_0x46cb06(0x21b)](_0x3d7af6=>{const _0x3325df=_0x46cb06;console[_0x3325df(0x1e6)](_0x3d7af6),_0x174b6c(_0x3d7af6);});}catch(_0x26d543){_0x174b6c(_0x26d543);}});}function callContinuePipelineVlocityDeploy(_0x4aaf97,_0x3d051f,_0x2a55c9,_0x49751d,_0x3a8158,_0x546fd9,_0x4fe3db,_0x24cd61,_0x2a83db){return new Promise((_0x4f9abd,_0x569542)=>{const _0x4d037c=a13_0x4edc;try{_0x2a55c9=_0x2a55c9&&_0x2a55c9[_0x4d037c(0x227)]?_0x2a55c9[_0x4d037c(0x203)]('__','')+'/':'',_0x2a83db[_0x4d037c(0x1e6)](_0x4d037c(0x221));const _0x12c71a={'pipelineId':_0x49751d,'pipelineNumber':_0x3a8158,'logId':_0x24cd61,'branchId':_0x4fe3db,'pipelineKey':_0x546fd9},_0x30949c=_0x4aaf97+_0x4d037c(0x205)+_0x2a55c9+'unlocked-packages',_0x428186={'methodType':constants[_0x4d037c(0x222)],'body':JSON[_0x4d037c(0x1ed)](_0x12c71a)};http[_0x4d037c(0x1e4)](_0x30949c,_0x3d051f,_0x2a55c9,_0x428186)[_0x4d037c(0x200)](_0x22b251=>{const _0x5764d2=_0x4d037c;_0x2a83db[_0x5764d2(0x1e6)](_0x5764d2(0x20a)),_0x4f9abd(_0x22b251);})[_0x4d037c(0x21b)](_0x25d4ed=>{const _0x5801d3=_0x4d037c;_0x2a83db[_0x5801d3(0x1e6)](_0x5801d3(0x20f)),_0x569542(_0x25d4ed);});}catch(_0x5abdf4){_0x569542(_0x5abdf4);}});}module[a13_0x8babfd(0x1ea)]={'createJobFileRollback':createJobFileRollback,'retrieveData':retrieveData,'prepareDataForDeploy':prepareDataForDeploy,'deployData':deployData,'handleNoComponents':handleNoComponents,'callContinuePipelineVlocityDeploy':callContinuePipelineVlocityDeploy};