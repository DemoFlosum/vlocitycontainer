const a12_0x576db7=a12_0x4f41;(function(_0x330903,_0x47c067){const _0x4a027c=a12_0x4f41,_0x476e63=_0x330903();while(!![]){try{const _0x1f1494=-parseInt(_0x4a027c(0x113))/0x1+parseInt(_0x4a027c(0xf7))/0x2*(parseInt(_0x4a027c(0xfb))/0x3)+parseInt(_0x4a027c(0x108))/0x4+parseInt(_0x4a027c(0xfd))/0x5*(parseInt(_0x4a027c(0xfc))/0x6)+parseInt(_0x4a027c(0x103))/0x7+-parseInt(_0x4a027c(0xf2))/0x8+-parseInt(_0x4a027c(0xf6))/0x9;if(_0x1f1494===_0x47c067)break;else _0x476e63['push'](_0x476e63['shift']());}catch(_0x5b8e74){_0x476e63['push'](_0x476e63['shift']());}}}(a12_0x21ac,0x5fdb0));function a12_0x4f41(_0x2ad954,_0x3bff28){const _0x21acc7=a12_0x21ac();return a12_0x4f41=function(_0x4f4156,_0x3c4336){_0x4f4156=_0x4f4156-0xee;let _0x4fcecc=_0x21acc7[_0x4f4156];return _0x4fcecc;},a12_0x4f41(_0x2ad954,_0x3bff28);}const helper=require('./helper'),storage=require(a12_0x576db7(0xef)),http=require('../../../services/http'),path=require(a12_0x576db7(0xf4)),{pathConfig}=require(a12_0x576db7(0x10a));function backupBranch(_0x75847,_0x3c34dc){return new Promise((_0x446a86,_0x140d2a)=>{const _0x519326=a12_0x4f41;try{console[_0x519326(0x112)](_0x75847);const _0x52c0fd=_0x75847['flosumUrl'],_0x5684ba=_0x75847['flosumToken'],_0x3a3aab=_0x75847[_0x519326(0x10d)],_0x397edd=_0x75847['vlocityToken'],_0x32ed66=_0x75847[_0x519326(0xff)],_0x5411d3=_0x75847[_0x519326(0xfe)],_0xbcda0f=_0x75847[_0x519326(0x104)],_0x48b021=_0x75847[_0x519326(0x106)],_0x2dfc89=_0x75847['attachLogId'],_0x43de2d=JSON[_0x519326(0x100)](_0x75847[_0x519326(0x105)]),_0x24b9bb=_0x75847[_0x519326(0xf9)],_0x590825=_0x75847[_0x519326(0x10b)],_0x28590a=_0x75847['pipelineNumber'],_0x14b1ac=_0x75847[_0x519326(0x109)],_0xcf0576=_0x75847['snapshotType']+'_'+_0x5411d3+'_'+_0x75847[_0x519326(0xff)],_0x270a12=path[_0x519326(0xf5)](pathConfig['tmpPath'],_0xcf0576);Promise['resolve']()[_0x519326(0xf8)](()=>storage[_0x519326(0xfa)](_0x270a12))[_0x519326(0xf8)](()=>helper[_0x519326(0xf1)](_0x270a12,_0x43de2d,_0x48b021,_0x3c34dc))[_0x519326(0xf8)](()=>helper[_0x519326(0x10c)](_0x270a12,_0x3a3aab,_0x397edd,_0x3c34dc))[_0x519326(0xf8)](()=>storage['checkExistComponents'](_0x270a12,_0x3c34dc))['then'](_0x225ad9=>{const _0x49c324=_0x519326;return _0x225ad9?helper[_0x49c324(0x111)](_0x270a12,_0x3c34dc)['then'](_0x1b9a02=>helper[_0x49c324(0x101)](_0x52c0fd,_0x5684ba,_0xbcda0f,_0x32ed66,_0x1b9a02,_0x24b9bb,_0x28590a,_0x590825,_0x3c34dc)):helper[_0x49c324(0x107)](_0x52c0fd,_0x5684ba,_0xbcda0f,_0x32ed66,_0x24b9bb,_0x28590a,_0x590825,_0x3c34dc);})[_0x519326(0xf8)](()=>{const _0x4e347c=_0x519326;return _0x24b9bb&&_0x14b1ac&&_0x28590a?helper[_0x4e347c(0x10e)](_0x52c0fd,_0x5684ba,_0xbcda0f,_0x24b9bb,_0x28590a,_0x14b1ac,_0x590825,_0x32ed66,_0x3c34dc):Promise[_0x4e347c(0x10f)]();})[_0x519326(0x110)](_0x265426=>{const _0x5b51e7=_0x519326;http[_0x5b51e7(0xf0)](_0x52c0fd,_0x5684ba,_0x32ed66,_0xbcda0f,_0x2dfc89,_0x5b51e7(0x102)+helper[_0x5b51e7(0xf3)]()+'\x0a',![],_0x3c34dc,!![]),_0x140d2a(_0x265426);})['then'](()=>storage[_0x519326(0xee)](_0x270a12,_0x3c34dc));}catch(_0x4038cc){_0x140d2a(_0x4038cc);}});}function a12_0x21ac(){const _0x3ff1ff=['872225KVgmHD','timestamp','logId','parse','deployData','Completed\x20Date:\x20','1354864bnrzZe','nameSpacePrefix','componentsMap','vlocityNameSpacePrefix','handleNoComponents','1310248NHYApf','pipelineKey','../../../config/path','branchId','retrieveData','vlocityUrl','callContinuePipelineVlocityDeploy','resolve','catch','prepareDataForDeploy','log','398859tWNaTP','removeProject','../../../services/storage','callUpdateInfo','createJobFileRollback','713720lCKEBK','getTime','path','join','7715538aPYcgn','4EsnheV','then','pipelineId','createProjectDirectory','778629sfxTDP','24BubtdA'];a12_0x21ac=function(){return _0x3ff1ff;};return a12_0x21ac();}module['exports']={'backupBranch':backupBranch};