const a13_0x480a6e=a13_0x4571;function a13_0x25ca(){const _0x21f3fe=['flosumToken','attachLogId','then','9390PcttsW','pipelineId','13JVhIaM','deployData','3486UOunLn','tmpPath','./helper','log','1688IQZHCb','prepareDataForDeploy','318484OowAAO','parse','catch','logId','flosumUrl','path','timestamp','resolve','snapshotType','65SkBUbC','718BpZDXa','2904fHuZgt','callContinuePipelineVlocityDeploy','Completed\x20Date:\x20','pipelineNumber','nameSpacePrefix','retrieveData','43974TFQlDq','../../../config/path','../../../services/storage','1120nzKilv','createProjectDirectory','exports','11268ULcLNP','37641312xjEYPp','352QMaLrs','branchId','componentsMap'];a13_0x25ca=function(){return _0x21f3fe;};return a13_0x25ca();}function a13_0x4571(_0x1f0984,_0x2c8202){const _0x25ca58=a13_0x25ca();return a13_0x4571=function(_0x457164,_0x4bc36e){_0x457164=_0x457164-0x83;let _0x40944a=_0x25ca58[_0x457164];return _0x40944a;},a13_0x4571(_0x1f0984,_0x2c8202);}(function(_0xf1d868,_0x5bef06){const _0x474c7a=a13_0x4571,_0x6aae63=_0xf1d868();while(!![]){try{const _0x578c27=-parseInt(_0x474c7a(0x9f))/0x1*(parseInt(_0x474c7a(0x93))/0x2)+parseInt(_0x474c7a(0x8f))/0x3+parseInt(_0x474c7a(0x95))/0x4*(-parseInt(_0x474c7a(0x9e))/0x5)+parseInt(_0x474c7a(0xa6))/0x6*(-parseInt(_0x474c7a(0xa9))/0x7)+-parseInt(_0x474c7a(0x85))/0x8*(-parseInt(_0x474c7a(0x83))/0x9)+-parseInt(_0x474c7a(0x8b))/0xa*(-parseInt(_0x474c7a(0xa0))/0xb)+parseInt(_0x474c7a(0x84))/0xc*(parseInt(_0x474c7a(0x8d))/0xd);if(_0x578c27===_0x5bef06)break;else _0x6aae63['push'](_0x6aae63['shift']());}catch(_0x52ebdf){_0x6aae63['push'](_0x6aae63['shift']());}}}(a13_0x25ca,0x99211));const helper=require(a13_0x480a6e(0x91)),storage=require(a13_0x480a6e(0xa8)),http=require('../../../services/http'),path=require(a13_0x480a6e(0x9a)),{pathConfig}=require(a13_0x480a6e(0xa7));function backupBranch(_0x3c4e2d,_0xf58093){return new Promise((_0x4dae13,_0x48a39b)=>{const _0x1348ac=a13_0x4571;try{console[_0x1348ac(0x92)](_0x3c4e2d);const _0x1e7cad=_0x3c4e2d[_0x1348ac(0x99)],_0x5167d9=_0x3c4e2d[_0x1348ac(0x88)],_0x227286=_0x3c4e2d['vlocityUrl'],_0x32949c=_0x3c4e2d['vlocityToken'],_0x3c2976=_0x3c4e2d[_0x1348ac(0x98)],_0x32ea93=_0x3c4e2d[_0x1348ac(0x9b)],_0x77d081=_0x3c4e2d[_0x1348ac(0xa4)],_0x1a278c=_0x3c4e2d['vlocityNameSpacePrefix'],_0x35b1b3=_0x3c4e2d[_0x1348ac(0x89)],_0x3ee61c=JSON[_0x1348ac(0x96)](_0x3c4e2d[_0x1348ac(0x87)]),_0x5571e4=_0x3c4e2d[_0x1348ac(0x8c)],_0x1804ea=_0x3c4e2d[_0x1348ac(0x86)],_0x3511ba=_0x3c4e2d[_0x1348ac(0xa3)],_0x435ed3=_0x3c4e2d['pipelineKey'],_0x470111=_0x3c4e2d[_0x1348ac(0x9d)]+'_'+_0x32ea93+'_'+_0x3c4e2d['logId'],_0x376873=path['join'](pathConfig[_0x1348ac(0x90)],_0x470111);Promise[_0x1348ac(0x9c)]()[_0x1348ac(0x8a)](()=>storage[_0x1348ac(0xaa)](_0x376873))[_0x1348ac(0x8a)](()=>helper['createJobFileRollback'](_0x376873,_0x3ee61c,_0x1a278c,_0xf58093))['then'](()=>helper[_0x1348ac(0xa5)](_0x376873,_0x227286,_0x32949c,_0xf58093))[_0x1348ac(0x8a)](()=>storage['checkExistComponents'](_0x376873,_0xf58093))[_0x1348ac(0x8a)](_0x1f5872=>{const _0x24d0eb=_0x1348ac;return _0x1f5872?helper[_0x24d0eb(0x94)](_0x376873,_0xf58093)['then'](_0x11e089=>helper[_0x24d0eb(0x8e)](_0x1e7cad,_0x5167d9,_0x77d081,_0x3c2976,_0x11e089,_0x5571e4,_0x3511ba,_0x1804ea,_0xf58093)):helper['handleNoComponents'](_0x1e7cad,_0x5167d9,_0x77d081,_0x3c2976,_0x5571e4,_0x3511ba,_0x1804ea,_0xf58093);})['then'](()=>{const _0x475d14=_0x1348ac;return _0x5571e4&&_0x435ed3&&_0x3511ba?helper[_0x475d14(0xa1)](_0x1e7cad,_0x5167d9,_0x77d081,_0x5571e4,_0x3511ba,_0x435ed3,_0x1804ea,_0x3c2976,_0xf58093):Promise['resolve']();})[_0x1348ac(0x97)](_0x194404=>{const _0x5d48db=_0x1348ac;http['callUpdateInfo'](_0x1e7cad,_0x5167d9,_0x3c2976,_0x77d081,_0x35b1b3,_0x5d48db(0xa2)+helper['getTime']()+'\x0a',![],_0xf58093,!![]),_0x48a39b(_0x194404);})[_0x1348ac(0x8a)](()=>storage['removeProject'](_0x376873,_0xf58093));}catch(_0x582fb3){_0x48a39b(_0x582fb3);}});}module[a13_0x480a6e(0xab)]={'backupBranch':backupBranch};