const a13_0x14247f=a13_0x4c18;function a13_0x4c18(_0x3a2064,_0x2bd250){const _0x3833a5=a13_0x3833();return a13_0x4c18=function(_0x4c1859,_0xdbd8d8){_0x4c1859=_0x4c1859-0x10b;let _0x760f69=_0x3833a5[_0x4c1859];return _0x760f69;},a13_0x4c18(_0x3a2064,_0x2bd250);}function a13_0x3833(){const _0xff4ce4=['exports','pipelineNumber','removeProject','6282ecyoDX','resolve','5914870mhlZEX','snapshotType','handleNoComponents','238894CEfQpZ','vlocityToken','216tIVhMZ','parse','nameSpacePrefix','1297492jmVpba','catch','60nPkQQT','6vHkZpl','../../../services/storage','timestamp','flosumUrl','55xfNFrj','vlocityNameSpacePrefix','3013668mwFMId','log','logId','createJobFileRollback','prepareDataForDeploy','then','branchId','path','../../../services/http','vlocityUrl','71732CMiyPH','2643720wDRuNK','getTime'];a13_0x3833=function(){return _0xff4ce4;};return a13_0x3833();}(function(_0x56adce,_0x2cb182){const _0x4a4b98=a13_0x4c18,_0x3c0b47=_0x56adce();while(!![]){try{const _0x52e20d=-parseInt(_0x4a4b98(0x112))/0x1+parseInt(_0x4a4b98(0x12a))/0x2*(-parseInt(_0x4a4b98(0x119))/0x3)+-parseInt(_0x4a4b98(0x120))/0x4+-parseInt(_0x4a4b98(0x12b))/0x5*(parseInt(_0x4a4b98(0x11a))/0x6)+-parseInt(_0x4a4b98(0x117))/0x7+-parseInt(_0x4a4b98(0x114))/0x8*(parseInt(_0x4a4b98(0x10d))/0x9)+-parseInt(_0x4a4b98(0x10f))/0xa*(-parseInt(_0x4a4b98(0x11e))/0xb);if(_0x52e20d===_0x2cb182)break;else _0x3c0b47['push'](_0x3c0b47['shift']());}catch(_0x18825e){_0x3c0b47['push'](_0x3c0b47['shift']());}}}(a13_0x3833,0x7db2a));const helper=require('./helper'),storage=require(a13_0x14247f(0x11b)),http=require(a13_0x14247f(0x128)),path=require(a13_0x14247f(0x127)),{pathConfig}=require('../../../config/path');function backupBranch(_0x50b910,_0x3d6cd7){return new Promise((_0x327ae4,_0x30f157)=>{const _0x2c9826=a13_0x4c18;try{console[_0x2c9826(0x121)](_0x50b910);const _0x331d59=_0x50b910[_0x2c9826(0x11d)],_0xc9f4be=_0x50b910['flosumToken'],_0x2452bf=_0x50b910[_0x2c9826(0x129)],_0x27a87b=_0x50b910[_0x2c9826(0x113)],_0x658708=_0x50b910[_0x2c9826(0x122)],_0x40c08c=_0x50b910[_0x2c9826(0x11c)],_0x2288f3=_0x50b910[_0x2c9826(0x116)],_0x517f7f=_0x50b910[_0x2c9826(0x11f)],_0x23be6f=_0x50b910['attachLogId'],_0x3be470=JSON[_0x2c9826(0x115)](_0x50b910['componentsMap']),_0xa53cfc=_0x50b910['pipelineId'],_0xcddcee=_0x50b910[_0x2c9826(0x126)],_0x40311c=_0x50b910[_0x2c9826(0x10b)],_0x1ca95e=_0x50b910['pipelineKey'],_0x362089=_0x50b910[_0x2c9826(0x110)]+'_'+_0x40c08c+'_'+_0x50b910[_0x2c9826(0x122)],_0xcee150=path['join'](pathConfig['tmpPath'],_0x362089);Promise[_0x2c9826(0x10e)]()[_0x2c9826(0x125)](()=>storage['createProjectDirectory'](_0xcee150))[_0x2c9826(0x125)](()=>helper[_0x2c9826(0x123)](_0xcee150,_0x3be470,_0x517f7f,_0x3d6cd7))[_0x2c9826(0x125)](()=>helper['retrieveData'](_0xcee150,_0x2452bf,_0x27a87b,_0x3d6cd7))[_0x2c9826(0x125)](()=>storage['checkExistComponents'](_0xcee150,_0x3d6cd7))[_0x2c9826(0x125)](_0x1d5c59=>{const _0x1a3ed5=_0x2c9826;return _0x1d5c59?helper[_0x1a3ed5(0x124)](_0xcee150,_0x3d6cd7)[_0x1a3ed5(0x125)](_0x37e24c=>helper['deployData'](_0x331d59,_0xc9f4be,_0x2288f3,_0x658708,_0x37e24c,_0xa53cfc,_0x40311c,_0xcddcee,_0x3d6cd7)):helper[_0x1a3ed5(0x111)](_0x331d59,_0xc9f4be,_0x2288f3,_0x658708,_0xa53cfc,_0x40311c,_0xcddcee,_0x3d6cd7);})['then'](()=>{return _0xa53cfc&&_0x1ca95e&&_0x40311c?helper['callContinuePipelineVlocityDeploy'](_0x331d59,_0xc9f4be,_0x2288f3,_0xa53cfc,_0x40311c,_0x1ca95e,_0xcddcee,_0x658708,_0x3d6cd7):Promise['resolve']();})[_0x2c9826(0x118)](_0x529445=>{const _0x2921e9=_0x2c9826;http['callUpdateInfo'](_0x331d59,_0xc9f4be,_0x658708,_0x2288f3,_0x23be6f,'Completed\x20Date:\x20'+helper[_0x2921e9(0x12c)]()+'\x0a',![],_0x3d6cd7,!![]),_0x30f157(_0x529445);})['then'](()=>storage[_0x2c9826(0x10c)](_0xcee150,_0x3d6cd7));}catch(_0x21c59f){_0x30f157(_0x21c59f);}});}module[a13_0x14247f(0x12d)]={'backupBranch':backupBranch};