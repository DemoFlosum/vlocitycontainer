function a9_0xf507(){const _0x47e96d=['resolve','componentsMap','deployData','30BlUHvF','../../../config/path','flosumUrl','exports','flosumToken','parse','3344372LlLAzz','1018078IROhxp','2490620rRNhmU','path','then','log','nameSpacePrefix','callContinuePipelineVlocityDeploy','checkExistComponents','tmpPath','createProjectDirectory','3619521EjaYGN','callUpdateInfo','1263768vXcfIV','../../../services/http','pipelineId','2EOWvEz','getTime','attachLogId','vlocityNameSpacePrefix','catch','14AZtqXE','vlocityToken','Completed\x20Date:\x20','38202PGxzsK','logId','1027968ZLCCOj','removeProject','join'];a9_0xf507=function(){return _0x47e96d;};return a9_0xf507();}function a9_0x4039(_0x2235df,_0x169e40){const _0xf507f0=a9_0xf507();return a9_0x4039=function(_0x403965,_0x12e5f0){_0x403965=_0x403965-0x65;let _0x5d398a=_0xf507f0[_0x403965];return _0x5d398a;},a9_0x4039(_0x2235df,_0x169e40);}const a9_0x1826dd=a9_0x4039;(function(_0x59e78d,_0xdead71){const _0x324fbc=a9_0x4039,_0x1217c8=_0x59e78d();while(!![]){try{const _0x2cca77=-parseInt(_0x324fbc(0x87))/0x1*(-parseInt(_0x324fbc(0x78))/0x2)+parseInt(_0x324fbc(0x69))/0x3+parseInt(_0x324fbc(0x77))/0x4+parseInt(_0x324fbc(0x79))/0x5+parseInt(_0x324fbc(0x84))/0x6*(-parseInt(_0x324fbc(0x66))/0x7)+-parseInt(_0x324fbc(0x6b))/0x8+parseInt(_0x324fbc(0x82))/0x9*(-parseInt(_0x324fbc(0x71))/0xa);if(_0x2cca77===_0xdead71)break;else _0x1217c8['push'](_0x1217c8['shift']());}catch(_0x2ad312){_0x1217c8['push'](_0x1217c8['shift']());}}}(a9_0xf507,0x94a02));const helper=require('./helper'),storage=require('../../../services/storage'),http=require(a9_0x1826dd(0x85)),path=require(a9_0x1826dd(0x7a)),{pathConfig}=require(a9_0x1826dd(0x72));function backupBranch(_0x4594a3,_0x224813){return new Promise((_0x3a9f9d,_0x2ad292)=>{const _0x3774d9=a9_0x4039;try{console[_0x3774d9(0x7c)](_0x4594a3);const _0x1eac41=_0x4594a3[_0x3774d9(0x73)],_0x31cef3=_0x4594a3[_0x3774d9(0x75)],_0x4f0448=_0x4594a3['vlocityUrl'],_0x7b8638=_0x4594a3[_0x3774d9(0x67)],_0x20d318=_0x4594a3[_0x3774d9(0x6a)],_0x104f19=_0x4594a3['timestamp'],_0x1df864=_0x4594a3[_0x3774d9(0x7d)],_0x159674=_0x4594a3[_0x3774d9(0x8a)],_0x13541a=_0x4594a3[_0x3774d9(0x89)],_0x123c14=JSON[_0x3774d9(0x76)](_0x4594a3[_0x3774d9(0x6f)]),_0x8ab32=_0x4594a3[_0x3774d9(0x86)],_0x1306cf=_0x4594a3['branchId'],_0x58e4a4=_0x4594a3['pipelineNumber'],_0x179582=_0x4594a3['pipelineKey'],_0x357047=_0x4594a3['snapshotType']+'_'+_0x104f19+'_'+_0x4594a3[_0x3774d9(0x6a)],_0x2ea3af=path[_0x3774d9(0x6d)](pathConfig[_0x3774d9(0x80)],_0x357047);Promise[_0x3774d9(0x6e)]()[_0x3774d9(0x7b)](()=>storage[_0x3774d9(0x81)](_0x2ea3af))[_0x3774d9(0x7b)](()=>helper['createJobFileRollback'](_0x2ea3af,_0x123c14,_0x159674,_0x224813))[_0x3774d9(0x7b)](()=>helper['retrieveData'](_0x2ea3af,_0x4f0448,_0x7b8638,_0x224813))[_0x3774d9(0x7b)](()=>storage[_0x3774d9(0x7f)](_0x2ea3af,_0x224813))[_0x3774d9(0x7b)](_0x50fa79=>{const _0x29ade9=_0x3774d9;return _0x50fa79?helper['prepareDataForDeploy'](_0x2ea3af,_0x224813)[_0x29ade9(0x7b)](_0xaa5b78=>helper[_0x29ade9(0x70)](_0x1eac41,_0x31cef3,_0x1df864,_0x20d318,_0xaa5b78,_0x8ab32,_0x58e4a4,_0x1306cf,_0x224813)):helper['handleNoComponents'](_0x1eac41,_0x31cef3,_0x1df864,_0x20d318,_0x8ab32,_0x58e4a4,_0x1306cf,_0x224813);})[_0x3774d9(0x7b)](()=>{const _0x54342f=_0x3774d9;return _0x8ab32&&_0x179582&&_0x58e4a4?helper[_0x54342f(0x7e)](_0x1eac41,_0x31cef3,_0x1df864,_0x8ab32,_0x58e4a4,_0x179582,_0x1306cf,_0x20d318,_0x224813):Promise[_0x54342f(0x6e)]();})[_0x3774d9(0x65)](_0x1a61e7=>{const _0x4ba7ce=_0x3774d9;http[_0x4ba7ce(0x83)](_0x1eac41,_0x31cef3,_0x20d318,_0x1df864,_0x13541a,_0x4ba7ce(0x68)+helper[_0x4ba7ce(0x88)]()+'\x0a',![],_0x224813,!![]),_0x2ad292(_0x1a61e7);})[_0x3774d9(0x7b)](()=>storage[_0x3774d9(0x6c)](_0x2ea3af,_0x224813));}catch(_0x53a692){_0x2ad292(_0x53a692);}});}module[a9_0x1826dd(0x74)]={'backupBranch':backupBranch};