const a29_0x1a83e7=a29_0x5c7c;function a29_0x444c(){const _0x34bdcf=['log','1173689lnqiNm','path','then','159807wfLagL','resolve','pipelineNumber','logId','pipelineId','---\x20body','branchId','../../../services/http','444148PDHkKx','catch','attachLogId','15328926kOKkRi','getTime','Completed\x20Date:\x20','36350RqWFdx','snapshotType','runInstallVlocityInitialCommand','callNextVlocityStep','2735528Aeolsq','callUpdateInfo','408ubCQRw','vlocityUrl','882WkatIV','flosumToken','8JooKmM','timestamp','../../../config/path','./helper','771004yccOwL','35aXXncJ','join','5TpICjP','90zlELjw'];a29_0x444c=function(){return _0x34bdcf;};return a29_0x444c();}(function(_0x11687e,_0x1a0e4e){const _0x1ee041=a29_0x5c7c,_0x55931b=_0x11687e();while(!![]){try{const _0x11c42a=parseInt(_0x1ee041(0xa1))/0x1*(-parseInt(_0x1ee041(0x8a))/0x2)+parseInt(_0x1ee041(0xa7))/0x3*(parseInt(_0x1ee041(0x9a))/0x4)+-parseInt(_0x1ee041(0x90))/0x5*(parseInt(_0x1ee041(0x98))/0x6)+parseInt(_0x1ee041(0x9f))/0x7*(-parseInt(_0x1ee041(0x94))/0x8)+parseInt(_0x1ee041(0x8d))/0x9+-parseInt(_0x1ee041(0xa2))/0xa*(-parseInt(_0x1ee041(0xa4))/0xb)+parseInt(_0x1ee041(0x96))/0xc*(parseInt(_0x1ee041(0x9e))/0xd);if(_0x11c42a===_0x1a0e4e)break;else _0x55931b['push'](_0x55931b['shift']());}catch(_0x18fa8c){_0x55931b['push'](_0x55931b['shift']());}}}(a29_0x444c,0xdb2d6));function a29_0x5c7c(_0x1deef4,_0x27bf8b){const _0x444cf9=a29_0x444c();return a29_0x5c7c=function(_0x5c7c3d,_0x25653b){_0x5c7c3d=_0x5c7c3d-0x83;let _0x499a91=_0x444cf9[_0x5c7c3d];return _0x499a91;},a29_0x5c7c(_0x1deef4,_0x27bf8b);}const storage=require('../../../services/storage'),helper=require(a29_0x1a83e7(0x9d)),http=require(a29_0x1a83e7(0x89)),path=require(a29_0x1a83e7(0xa5)),{pathConfig}=require(a29_0x1a83e7(0x9c));function installVlocityInitial(_0x44e96a,_0x1f8635){return new Promise((_0x1487dc,_0x2dcb8e)=>{const _0x17396f=a29_0x5c7c;console[_0x17396f(0xa3)](_0x17396f(0x87)),console['log'](_0x44e96a);const _0x51df34=_0x44e96a['flosumUrl'],_0x3a1894=_0x44e96a[_0x17396f(0x99)],_0x1d855d=_0x44e96a[_0x17396f(0x97)],_0x26c067=_0x44e96a['vlocityToken'],_0xb018ea=_0x44e96a[_0x17396f(0x85)],_0x5d53c2=_0x44e96a[_0x17396f(0x8c)],_0x4d3fd4=_0x44e96a[_0x17396f(0x9b)],_0x132e73=_0x44e96a['nameSpacePrefix'],_0x204fb1=_0x44e96a[_0x17396f(0x91)],_0x3cc986=_0x204fb1+'_'+_0x4d3fd4+'_'+_0x5d53c2,_0x31edb5=path[_0x17396f(0xa0)](pathConfig['tmpPath'],_0x3cc986),_0x57335e=_0x44e96a[_0x17396f(0x88)],_0x5b4c94=_0x44e96a[_0x17396f(0x86)],_0x13c0d2=_0x44e96a[_0x17396f(0x84)],_0x4fe77a=_0x44e96a['pipelineKey'];storage['createProjectDirectory'](_0x31edb5)[_0x17396f(0xa6)](()=>helper[_0x17396f(0x92)](_0x31edb5,_0x1d855d,_0x26c067,_0x1f8635))[_0x17396f(0xa6)](()=>http[_0x17396f(0x95)](_0x51df34,_0x3a1894,_0xb018ea,_0x132e73,_0x5d53c2,_0x17396f(0x8f)+helper[_0x17396f(0x8e)]()+'\x0a',!![],_0x1f8635))[_0x17396f(0xa6)](()=>{const _0x2c5286=_0x17396f;return _0x5b4c94&&_0x13c0d2?http[_0x2c5286(0x93)](_0x51df34,_0x3a1894,_0x132e73,_0x5b4c94,_0x13c0d2,_0x4fe77a,!![],_0x57335e,_0x1f8635):Promise[_0x2c5286(0x83)]();})[_0x17396f(0x8b)](_0x3986e6=>{const _0x523ead=_0x17396f;http[_0x523ead(0x95)](_0x51df34,_0x3a1894,_0xb018ea,_0x132e73,_0x5d53c2,_0x523ead(0x8f)+helper[_0x523ead(0x8e)]()+'\x0a',![],_0x1f8635,!![])['then'](()=>{const _0x2150d8=_0x523ead;return _0x5b4c94&&_0x13c0d2?http['callNextVlocityStep'](_0x51df34,_0x3a1894,_0x132e73,_0x5b4c94,_0x13c0d2,_0x4fe77a,![],_0x57335e,_0x1f8635):Promise[_0x2150d8(0x83)]();})[_0x523ead(0xa6)](()=>_0x2dcb8e(_0x3986e6))['catch'](_0x1cf93c=>_0x2dcb8e(_0x3986e6+'\x0a'+_0x1cf93c));})[_0x17396f(0xa6)](()=>storage['removeProject'](_0x31edb5,_0x1f8635));});}module['exports']={'installVlocityInitial':installVlocityInitial};