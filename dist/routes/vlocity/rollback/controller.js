const a40_0x27168a=a40_0x31fc;(function(_0x457054,_0x18fd72){const _0x1854a1=a40_0x31fc,_0x57e235=_0x457054();while(!![]){try{const _0x14ed20=parseInt(_0x1854a1(0x99))/0x1*(parseInt(_0x1854a1(0xb7))/0x2)+-parseInt(_0x1854a1(0xbb))/0x3*(-parseInt(_0x1854a1(0xa5))/0x4)+-parseInt(_0x1854a1(0xa3))/0x5*(-parseInt(_0x1854a1(0xaa))/0x6)+-parseInt(_0x1854a1(0x9b))/0x7+parseInt(_0x1854a1(0xa8))/0x8*(parseInt(_0x1854a1(0x9d))/0x9)+parseInt(_0x1854a1(0xb5))/0xa+parseInt(_0x1854a1(0xa1))/0xb*(-parseInt(_0x1854a1(0xb3))/0xc);if(_0x14ed20===_0x18fd72)break;else _0x57e235['push'](_0x57e235['shift']());}catch(_0x1d35fa){_0x57e235['push'](_0x57e235['shift']());}}}(a40_0x3bf9,0x240c1));function a40_0x3bf9(){const _0x1e51b5=['projectPath:\x20./','attachmentIdList','path','UNZIP_CATALOG_NAME','vlocityToken','4513188QfNTnO','nameSpacePrefix','2190490xZlFiY','componentKeyList','2kgggLY','Error\x20Date:\x20','../../../constants','unzipComponentList','7428uBViaY','./helper','getTime','../../../services/storage','then','../../../config/path','callComponentList','213715RgpxXL','removeProject','1753164BJjmYJ','logId','41823xeRGHN','timestamp','callUpdateInfo','attachLogId','11rHhgmo','\x0aError\x20:\x20','3175lizIul','vlocityUrl','68xZGLmX','tmpPath','createProjectDirectory','136DZMRzb','catch','2082wTeLxf','resolve','parse','join'];a40_0x3bf9=function(){return _0x1e51b5;};return a40_0x3bf9();}const helper=require(a40_0x27168a(0xbc)),storage=require(a40_0x27168a(0x95)),http=require('../../../services/http'),constants=require(a40_0x27168a(0xb9)),path=require(a40_0x27168a(0xb0)),{pathConfig}=require(a40_0x27168a(0x97));function rollbackBranch(_0x7b580d,_0x4296d5){return new Promise((_0x17951f,_0xb1ef58)=>{const _0x121c55=a40_0x31fc;try{console['log'](_0x7b580d);const _0x5755f3=_0x7b580d['flosumUrl'],_0x26fafc=_0x7b580d['flosumToken'],_0x5d9a16=_0x7b580d[_0x121c55(0xa4)],_0x46ba91=_0x7b580d[_0x121c55(0xb2)],_0x3a4715=_0x7b580d['logId'],_0x2e5e84=_0x7b580d[_0x121c55(0xa0)],_0x2c74fb=_0x7b580d[_0x121c55(0x9e)],_0xa69ea0=_0x7b580d[_0x121c55(0xb4)],_0x1f44f0=JSON[_0x121c55(0xac)](_0x7b580d[_0x121c55(0xaf)]),_0x4ed99c=_0x7b580d[_0x121c55(0xb6)];let _0x4b6deb=[];_0x4ed99c&&(_0x4b6deb=JSON[_0x121c55(0xac)](_0x4ed99c));const _0x271723=_0x7b580d['snapshotType']+'_'+_0x2c74fb+'_'+_0x7b580d[_0x121c55(0x9c)],_0xa95faa=path[_0x121c55(0xad)](pathConfig[_0x121c55(0xa6)],_0x271723),_0x2afeff=_0x121c55(0xae)+constants[_0x121c55(0xb1)];Promise[_0x121c55(0xab)]()[_0x121c55(0x96)](()=>storage[_0x121c55(0xa7)](_0xa95faa))[_0x121c55(0x96)](()=>storage['createJobFileDeploy'](_0xa95faa,_0x2afeff,_0x4296d5))['then'](()=>http[_0x121c55(0x98)](_0x5755f3,_0x26fafc,_0x1f44f0,_0xa69ea0,_0x1f44f0['length'],_0x4296d5))['then'](_0x37fb02=>storage['convertToBuffer'](_0x37fb02,_0x4296d5))[_0x121c55(0x96)](_0x5e0580=>storage[_0x121c55(0xba)](_0x5e0580,_0xa95faa,_0x4296d5))[_0x121c55(0x96)](()=>{if(_0x4b6deb['length'])return helper['filterBySelectedKeys'](_0xa95faa,_0x4b6deb,_0x4296d5);return Promise['resolve']();})[_0x121c55(0x96)](()=>helper['deployData'](_0xa95faa,_0x5d9a16,_0x46ba91,_0x4296d5))['then'](_0x497327=>http['callUpdateInfo'](_0x5755f3,_0x26fafc,_0x3a4715,_0xa69ea0,_0x2e5e84,_0x497327,!![],_0x4296d5))[_0x121c55(0xa9)](_0x36135e=>http[_0x121c55(0x9f)](_0x5755f3,_0x26fafc,_0x3a4715,_0xa69ea0,_0x2e5e84,_0x121c55(0xb8)+helper[_0x121c55(0xbd)]()+_0x121c55(0xa2)+_0x36135e,![],_0x4296d5,!![])[_0x121c55(0x96)](()=>_0xb1ef58(_0x36135e)))['then'](()=>storage[_0x121c55(0x9a)](_0xa95faa,_0x4296d5));}catch(_0x140f92){_0xb1ef58(_0x140f92);}});}function a40_0x31fc(_0x1f8304,_0x434151){const _0x3bf945=a40_0x3bf9();return a40_0x31fc=function(_0x31fcda,_0x52b575){_0x31fcda=_0x31fcda-0x95;let _0x481d90=_0x3bf945[_0x31fcda];return _0x481d90;},a40_0x31fc(_0x1f8304,_0x434151);}module['exports']={'rollbackBranch':rollbackBranch};