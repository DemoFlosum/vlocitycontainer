const a42_0x13e097=a42_0x2f6f;(function(_0x59a891,_0x10c78d){const _0x182d03=a42_0x2f6f,_0x284e02=_0x59a891();while(!![]){try{const _0x357dd8=parseInt(_0x182d03(0xd5))/0x1+parseInt(_0x182d03(0xf1))/0x2+parseInt(_0x182d03(0xdd))/0x3*(parseInt(_0x182d03(0xf7))/0x4)+parseInt(_0x182d03(0xda))/0x5+-parseInt(_0x182d03(0xe1))/0x6*(parseInt(_0x182d03(0xf4))/0x7)+-parseInt(_0x182d03(0xec))/0x8+parseInt(_0x182d03(0xee))/0x9*(-parseInt(_0x182d03(0xd9))/0xa);if(_0x357dd8===_0x10c78d)break;else _0x284e02['push'](_0x284e02['shift']());}catch(_0x41ac9a){_0x284e02['push'](_0x284e02['shift']());}}}(a42_0x7d65,0x789ce));const path=require('path'),helper=require('./helper'),storage=require(a42_0x13e097(0xdc)),http=require(a42_0x13e097(0xea)),constants=require('../../../constants'),{pathConfig}=require(a42_0x13e097(0xde));function rollbackBranch(_0x549005,_0x197ddf){return new Promise((_0x3a0d5c,_0xe89df3)=>{const _0x44ff18=a42_0x2f6f;try{console[_0x44ff18(0xf3)](_0x549005);const _0x4d21d9={'instanceUrl':_0x549005['flosumUrl'],'accessToken':_0x549005['flosumToken'],'clientId':_0x549005[_0x44ff18(0xd3)],'clientSecret':_0x549005[_0x44ff18(0xd8)]},_0x26e63f=_0x549005[_0x44ff18(0xf5)],_0x4325b2=_0x549005['vlocityToken'],_0x166416=_0x549005['logId'],_0x367b4c=_0x549005[_0x44ff18(0xeb)],_0x14c8d2=_0x549005['timestamp'],_0x5e4f2b=_0x549005[_0x44ff18(0xd7)],_0x2426bc=JSON[_0x44ff18(0xf0)](_0x549005[_0x44ff18(0xf9)]),_0x2d37dd=_0x549005['componentKeyList'];let _0x40006a=[];_0x2d37dd&&(_0x40006a=JSON[_0x44ff18(0xf0)](_0x2d37dd));const _0xb7a8e=_0x549005[_0x44ff18(0xf2)]+'_'+_0x14c8d2+'_'+_0x549005[_0x44ff18(0xe6)],_0x246c76=path[_0x44ff18(0xd4)](pathConfig['tmpPath'],_0xb7a8e),_0x1655aa=_0x44ff18(0xdf)+constants[_0x44ff18(0xe4)];Promise['resolve']()[_0x44ff18(0xdb)](()=>storage[_0x44ff18(0xef)](_0x246c76))[_0x44ff18(0xdb)](()=>storage[_0x44ff18(0xe5)](_0x246c76,_0x1655aa,_0x197ddf))['then'](()=>http['callComponentList'](_0x4d21d9,_0x2426bc,_0x5e4f2b,_0x2426bc[_0x44ff18(0xe2)],_0x197ddf))['then'](_0x16b23=>storage['convertToBuffer'](_0x16b23,_0x197ddf))[_0x44ff18(0xdb)](_0xc650f5=>storage[_0x44ff18(0xe3)](_0xc650f5,_0x246c76,_0x197ddf))['then'](()=>{const _0x10ea78=_0x44ff18;if(_0x40006a['length'])return helper[_0x10ea78(0xd6)](_0x246c76,_0x40006a,_0x197ddf);return Promise[_0x10ea78(0xf8)]();})['then'](()=>helper['deployData'](_0x246c76,_0x26e63f,_0x4325b2,_0x197ddf))['then'](_0x518c02=>http[_0x44ff18(0xf6)](_0x4d21d9,_0x166416,_0x5e4f2b,_0x367b4c,_0x518c02,!![],_0x197ddf))[_0x44ff18(0xe7)](_0x2e446f=>http[_0x44ff18(0xf6)](_0x4d21d9,_0x166416,_0x5e4f2b,_0x367b4c,_0x44ff18(0xe8)+helper[_0x44ff18(0xed)]()+'\x0aError\x20:\x20'+_0x2e446f,![],_0x197ddf,!![])[_0x44ff18(0xdb)](()=>_0xe89df3(_0x2e446f)))['then'](()=>storage[_0x44ff18(0xe0)](_0x246c76,_0x197ddf));}catch(_0x5ececf){_0xe89df3(_0x5ececf);}});}module[a42_0x13e097(0xe9)]={'rollbackBranch':rollbackBranch};function a42_0x2f6f(_0x22123d,_0x54cba6){const _0x7d657b=a42_0x7d65();return a42_0x2f6f=function(_0x2f6f88,_0x7e3246){_0x2f6f88=_0x2f6f88-0xd3;let _0xa93d33=_0x7d657b[_0x2f6f88];return _0xa93d33;},a42_0x2f6f(_0x22123d,_0x54cba6);}function a42_0x7d65(){const _0xf0a4e=['getTime','83529tjmYOC','createProjectDirectory','parse','1500646AHzXyt','snapshotType','log','252ZXqfUG','vlocityUrl','callUpdateInfo','4pBKHRE','resolve','attachmentIdList','clientId','join','311566TBuKBf','filterBySelectedKeys','nameSpacePrefix','clientSecret','110GrNqJo','154210qVsgpx','then','../../../services/storage','1939008FtQuOZ','../../../config/path','projectPath:\x20./','removeProject','149922XUqsFh','length','unzipComponentList','UNZIP_CATALOG_NAME','createJobFileDeploy','logId','catch','Error\x20Date:\x20','exports','../../../services/http','attachLogId','1947312vlnTxr'];a42_0x7d65=function(){return _0xf0a4e;};return a42_0x7d65();}