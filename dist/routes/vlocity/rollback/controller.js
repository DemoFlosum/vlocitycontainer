const a42_0x3c6209=a42_0x2ff7;(function(_0x4ea131,_0x519a2c){const _0x3d7e3e=a42_0x2ff7,_0x410de2=_0x4ea131();while(!![]){try{const _0x1a512a=parseInt(_0x3d7e3e(0x139))/0x1+parseInt(_0x3d7e3e(0x12c))/0x2+parseInt(_0x3d7e3e(0x12e))/0x3+-parseInt(_0x3d7e3e(0x137))/0x4*(parseInt(_0x3d7e3e(0x126))/0x5)+-parseInt(_0x3d7e3e(0x11a))/0x6*(-parseInt(_0x3d7e3e(0x136))/0x7)+parseInt(_0x3d7e3e(0x114))/0x8+-parseInt(_0x3d7e3e(0x124))/0x9*(parseInt(_0x3d7e3e(0x123))/0xa);if(_0x1a512a===_0x519a2c)break;else _0x410de2['push'](_0x410de2['shift']());}catch(_0x348441){_0x410de2['push'](_0x410de2['shift']());}}}(a42_0x4498,0x87316));const path=require(a42_0x3c6209(0x113)),helper=require('./helper'),storage=require('../../../services/storage'),http=require('../../../services/http'),constants=require('../../../constants'),{pathConfig}=require(a42_0x3c6209(0x130));function rollbackBranch(_0x1740f9,_0x1e5463){return new Promise((_0x54b6be,_0x2fbb8d)=>{const _0x2bf24f=a42_0x2ff7;try{console['log'](_0x1740f9);const _0x50529f={'instanceUrl':_0x1740f9['flosumUrl'],'accessToken':_0x1740f9[_0x2bf24f(0x116)],'clientId':_0x1740f9['clientId'],'clientSecret':_0x1740f9[_0x2bf24f(0x122)]},_0x2086a4=_0x1740f9[_0x2bf24f(0x12b)],_0x335498=_0x1740f9[_0x2bf24f(0x129)],_0x220616=_0x1740f9['logId'],_0x1fdd22=_0x1740f9[_0x2bf24f(0x133)],_0x28b35f=_0x1740f9[_0x2bf24f(0x128)],_0xb6401d=_0x1740f9[_0x2bf24f(0x127)],_0x1736dc=JSON[_0x2bf24f(0x12a)](_0x1740f9[_0x2bf24f(0x117)]),_0x211a3a=_0x1740f9[_0x2bf24f(0x11c)];let _0x3e2a4c=[];_0x211a3a&&(_0x3e2a4c=JSON[_0x2bf24f(0x12a)](_0x211a3a));const _0x28a54c=_0x1740f9[_0x2bf24f(0x121)]+'_'+_0x28b35f+'_'+_0x1740f9[_0x2bf24f(0x11f)],_0xaeeb4f=path[_0x2bf24f(0x138)](pathConfig['tmpPath'],_0x28a54c),_0x57cfe4=_0x2bf24f(0x125)+constants['UNZIP_CATALOG_NAME'];Promise['resolve']()[_0x2bf24f(0x132)](()=>storage['createProjectDirectory'](_0xaeeb4f))['then'](()=>storage[_0x2bf24f(0x131)](_0xaeeb4f,_0x57cfe4,_0x1e5463))['then'](()=>http[_0x2bf24f(0x115)](_0x50529f,_0x1736dc,_0xb6401d,_0x1736dc['length'],_0x1e5463))[_0x2bf24f(0x132)](_0x2ac1f1=>storage['convertToBuffer'](_0x2ac1f1,_0x1e5463))[_0x2bf24f(0x132)](_0x3e0664=>storage[_0x2bf24f(0x11b)](_0x3e0664,_0xaeeb4f,_0x1e5463))[_0x2bf24f(0x132)](()=>{const _0x3f88c7=_0x2bf24f;if(_0x3e2a4c[_0x3f88c7(0x119)])return helper[_0x3f88c7(0x118)](_0xaeeb4f,_0x3e2a4c,_0x1e5463);return Promise[_0x3f88c7(0x135)]();})[_0x2bf24f(0x132)](()=>helper[_0x2bf24f(0x11d)](_0xaeeb4f,_0x2086a4,_0x335498,_0x1e5463))[_0x2bf24f(0x132)](_0x25b40b=>http[_0x2bf24f(0x11e)](_0x50529f,_0x220616,_0xb6401d,_0x1fdd22,_0x25b40b,!![],_0x1e5463))[_0x2bf24f(0x120)](_0x4f36c3=>http[_0x2bf24f(0x11e)](_0x50529f,_0x220616,_0xb6401d,_0x1fdd22,'Error\x20Date:\x20'+helper[_0x2bf24f(0x134)]()+'\x0aError\x20:\x20'+_0x4f36c3,![],_0x1e5463,!![])[_0x2bf24f(0x132)](()=>_0x2fbb8d(_0x4f36c3)))[_0x2bf24f(0x132)](()=>storage[_0x2bf24f(0x12d)](_0xaeeb4f,_0x1e5463));}catch(_0x4ae375){_0x2fbb8d(_0x4ae375);}});}function a42_0x2ff7(_0x135db2,_0x148a3f){const _0x449879=a42_0x4498();return a42_0x2ff7=function(_0x2ff70b,_0x4d0ee0){_0x2ff70b=_0x2ff70b-0x113;let _0x475d61=_0x449879[_0x2ff70b];return _0x475d61;},a42_0x2ff7(_0x135db2,_0x148a3f);}module[a42_0x3c6209(0x12f)]={'rollbackBranch':rollbackBranch};function a42_0x4498(){const _0x39015c=['path','3105560lIJqcv','callComponentList','flosumToken','attachmentIdList','filterBySelectedKeys','length','6GbtnMY','unzipComponentList','componentKeyList','deployData','callUpdateInfo','logId','catch','snapshotType','clientSecret','10cOhSUp','19059957kggxgQ','projectPath:\x20./','254405HWAKmH','nameSpacePrefix','timestamp','vlocityToken','parse','vlocityUrl','1214002CAavRP','removeProject','1679568esDUVm','exports','../../../config/path','createJobFileDeploy','then','attachLogId','getTime','resolve','7216839lLCTYP','72saPknX','join','1001352RJkziY'];a42_0x4498=function(){return _0x39015c;};return a42_0x4498();}