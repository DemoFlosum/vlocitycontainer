const a34_0xe5a060=a34_0x9362;(function(_0x470bfe,_0x11ff54){const _0x7dff36=a34_0x9362,_0x152bd6=_0x470bfe();while(!![]){try{const _0x41e8ee=parseInt(_0x7dff36(0xe7))/0x1*(parseInt(_0x7dff36(0xd8))/0x2)+parseInt(_0x7dff36(0xf6))/0x3*(-parseInt(_0x7dff36(0xd7))/0x4)+-parseInt(_0x7dff36(0xf3))/0x5+parseInt(_0x7dff36(0xdb))/0x6+-parseInt(_0x7dff36(0xd6))/0x7*(-parseInt(_0x7dff36(0xe8))/0x8)+parseInt(_0x7dff36(0xde))/0x9+-parseInt(_0x7dff36(0xe0))/0xa*(parseInt(_0x7dff36(0xd9))/0xb);if(_0x41e8ee===_0x11ff54)break;else _0x152bd6['push'](_0x152bd6['shift']());}catch(_0x2f9880){_0x152bd6['push'](_0x152bd6['shift']());}}}(a34_0x1f33,0x50258));function a34_0x9362(_0x3213f6,_0x3af371){const _0x1f336f=a34_0x1f33();return a34_0x9362=function(_0x93622b,_0x1d2c5e){_0x93622b=_0x93622b-0xd2;let _0x42a77a=_0x1f336f[_0x93622b];return _0x42a77a;},a34_0x9362(_0x3213f6,_0x3af371);}const helper=require(a34_0xe5a060(0xe6)),storage=require(a34_0xe5a060(0xd3)),http=require('../../../services/http'),constants=require(a34_0xe5a060(0xda)),path=require(a34_0xe5a060(0xea)),{pathConfig}=require(a34_0xe5a060(0xf9));function a34_0x1f33(){const _0x510076=['../../../config/path','attachLogId','logId','../../../services/storage','timestamp','length','300111melutD','1623020ZiPDlU','460SVVNqL','27973RIqSxE','../../../constants','3009174kbJgkg','snapshotType','UNZIP_CATALOG_NAME','3395331jsEawg','deployData','4300JfkDGp','callComponentList','flosumToken','callUpdateInfo','projectPath:\x20./','\x0aError\x20:\x20','./helper','2426JHMQPo','80lfHwmo','nameSpacePrefix','path','createProjectDirectory','unzipComponentList','tmpPath','filterBySelectedKeys','componentKeyList','then','join','Error\x20Date:\x20','189865ZQpkEn','convertToBuffer','resolve','3zpFQjw','parse','flosumUrl'];a34_0x1f33=function(){return _0x510076;};return a34_0x1f33();}function rollbackBranch(_0x34cd98,_0x35160c){return new Promise((_0xcdcac,_0x159940)=>{const _0x51d378=a34_0x9362;try{console['log'](_0x34cd98);const _0x5f2707=_0x34cd98[_0x51d378(0xf8)],_0x3c4558=_0x34cd98[_0x51d378(0xe2)],_0x4cf45d=_0x34cd98['vlocityUrl'],_0x242b0b=_0x34cd98['vlocityToken'],_0x4b02a7=_0x34cd98[_0x51d378(0xd2)],_0x342888=_0x34cd98[_0x51d378(0xfa)],_0x367b8b=_0x34cd98[_0x51d378(0xd4)],_0x230aa8=_0x34cd98[_0x51d378(0xe9)],_0x38d481=JSON[_0x51d378(0xf7)](_0x34cd98['attachmentIdList']),_0x11ba8a=_0x34cd98[_0x51d378(0xef)];let _0x32229a=[];_0x11ba8a&&(_0x32229a=JSON[_0x51d378(0xf7)](_0x11ba8a));const _0x35afea=_0x34cd98[_0x51d378(0xdc)]+'_'+_0x367b8b+'_'+_0x34cd98['logId'],_0x24f125=path[_0x51d378(0xf1)](pathConfig[_0x51d378(0xed)],_0x35afea),_0x23c28c=_0x51d378(0xe4)+constants[_0x51d378(0xdd)];Promise[_0x51d378(0xf5)]()[_0x51d378(0xf0)](()=>storage[_0x51d378(0xeb)](_0x24f125))['then'](()=>storage['createJobFileDeploy'](_0x24f125,_0x23c28c,_0x35160c))['then'](()=>http[_0x51d378(0xe1)](_0x5f2707,_0x3c4558,_0x38d481,_0x230aa8,_0x38d481[_0x51d378(0xd5)],_0x35160c))[_0x51d378(0xf0)](_0x315d66=>storage[_0x51d378(0xf4)](_0x315d66,_0x35160c))[_0x51d378(0xf0)](_0x21b5e0=>storage[_0x51d378(0xec)](_0x21b5e0,_0x24f125,_0x35160c))[_0x51d378(0xf0)](()=>{const _0x3ebf55=_0x51d378;if(_0x32229a['length'])return helper[_0x3ebf55(0xee)](_0x24f125,_0x32229a,_0x35160c);return Promise[_0x3ebf55(0xf5)]();})[_0x51d378(0xf0)](()=>helper[_0x51d378(0xdf)](_0x24f125,_0x4cf45d,_0x242b0b,_0x35160c))[_0x51d378(0xf0)](_0x1eb4bb=>http[_0x51d378(0xe3)](_0x5f2707,_0x3c4558,_0x4b02a7,_0x230aa8,_0x342888,_0x1eb4bb,!![],_0x35160c))['catch'](_0xfe1bd1=>http[_0x51d378(0xe3)](_0x5f2707,_0x3c4558,_0x4b02a7,_0x230aa8,_0x342888,_0x51d378(0xf2)+helper['getTime']()+_0x51d378(0xe5)+_0xfe1bd1,![],_0x35160c,!![])[_0x51d378(0xf0)](()=>_0x159940(_0xfe1bd1)))['then'](()=>storage['removeProject'](_0x24f125,_0x35160c));}catch(_0x5be972){_0x159940(_0x5be972);}});}module['exports']={'rollbackBranch':rollbackBranch};