const a41_0x25bf0d=a41_0x223a;function a41_0x2015(){const _0x37be3c=['349150wTintO','logId','path','6ciyEfO','getTime','../../../services/http','exports','44xiowaG','componentKeyList','log','4984cFnxPL','parse','attachLogId','96975lclEtT','8109269tYtEll','length','vlocityToken','callComponentList','unzipComponentList','1324696urldfd','277805TznRBL','4158MeGfEE','projectPath:\x20./','removeProject','catch','callUpdateInfo','UNZIP_CATALOG_NAME','../../../constants','flosumUrl','snapshotType','deployData','createProjectDirectory','resolve','vlocityUrl','275jQXUMz','then','./helper','Error\x20Date:\x20','\x0aError\x20:\x20','4056370PnnXib'];a41_0x2015=function(){return _0x37be3c;};return a41_0x2015();}(function(_0x5903a5,_0x52e17c){const _0x178a4c=a41_0x223a,_0x216aa4=_0x5903a5();while(!![]){try{const _0x47019c=-parseInt(_0x178a4c(0x1cd))/0x1+parseInt(_0x178a4c(0x1cc))/0x2+parseInt(_0x178a4c(0x1c6))/0x3*(-parseInt(_0x178a4c(0x1c0))/0x4)+parseInt(_0x178a4c(0x1b8))/0x5+-parseInt(_0x178a4c(0x1bc))/0x6*(parseInt(_0x178a4c(0x1c7))/0x7)+-parseInt(_0x178a4c(0x1c3))/0x8*(-parseInt(_0x178a4c(0x1ce))/0x9)+-parseInt(_0x178a4c(0x1b9))/0xa*(-parseInt(_0x178a4c(0x1b3))/0xb);if(_0x47019c===_0x52e17c)break;else _0x216aa4['push'](_0x216aa4['shift']());}catch(_0x35c9b8){_0x216aa4['push'](_0x216aa4['shift']());}}}(a41_0x2015,0xcdaec));const helper=require(a41_0x25bf0d(0x1b5)),storage=require('../../../services/storage'),http=require(a41_0x25bf0d(0x1be)),constants=require(a41_0x25bf0d(0x1d4)),path=require(a41_0x25bf0d(0x1bb)),{pathConfig}=require('../../../config/path');function rollbackBranch(_0x43b626,_0x3c9f41){return new Promise((_0x419820,_0x284b42)=>{const _0x5255f9=a41_0x223a;try{console[_0x5255f9(0x1c2)](_0x43b626);const _0x5b3068=_0x43b626[_0x5255f9(0x1d5)],_0x1bd08e=_0x43b626['flosumToken'],_0x391049=_0x43b626[_0x5255f9(0x1b2)],_0x21c244=_0x43b626[_0x5255f9(0x1c9)],_0x2c9f90=_0x43b626[_0x5255f9(0x1ba)],_0x41662d=_0x43b626[_0x5255f9(0x1c5)],_0x45c7e9=_0x43b626['timestamp'],_0x1eac05=_0x43b626['nameSpacePrefix'],_0xeb9484=JSON[_0x5255f9(0x1c4)](_0x43b626['attachmentIdList']),_0x4a82dd=_0x43b626[_0x5255f9(0x1c1)];let _0x46997a=[];_0x4a82dd&&(_0x46997a=JSON['parse'](_0x4a82dd));const _0x5833a3=_0x43b626[_0x5255f9(0x1d6)]+'_'+_0x45c7e9+'_'+_0x43b626[_0x5255f9(0x1ba)],_0x1b2bab=path['join'](pathConfig['tmpPath'],_0x5833a3),_0x2420d3=_0x5255f9(0x1cf)+constants[_0x5255f9(0x1d3)];Promise[_0x5255f9(0x1b1)]()['then'](()=>storage[_0x5255f9(0x1d8)](_0x1b2bab))['then'](()=>storage['createJobFileDeploy'](_0x1b2bab,_0x2420d3,_0x3c9f41))['then'](()=>http[_0x5255f9(0x1ca)](_0x5b3068,_0x1bd08e,_0xeb9484,_0x1eac05,_0xeb9484[_0x5255f9(0x1c8)],_0x3c9f41))[_0x5255f9(0x1b4)](_0x4d86fa=>storage['convertToBuffer'](_0x4d86fa,_0x3c9f41))[_0x5255f9(0x1b4)](_0x45a95b=>storage[_0x5255f9(0x1cb)](_0x45a95b,_0x1b2bab,_0x3c9f41))[_0x5255f9(0x1b4)](()=>{const _0x4aaf8d=_0x5255f9;if(_0x46997a[_0x4aaf8d(0x1c8)])return helper['filterBySelectedKeys'](_0x1b2bab,_0x46997a,_0x3c9f41);return Promise['resolve']();})[_0x5255f9(0x1b4)](()=>helper[_0x5255f9(0x1d7)](_0x1b2bab,_0x391049,_0x21c244,_0x3c9f41))[_0x5255f9(0x1b4)](_0x11302a=>http['callUpdateInfo'](_0x5b3068,_0x1bd08e,_0x2c9f90,_0x1eac05,_0x41662d,_0x11302a,!![],_0x3c9f41))[_0x5255f9(0x1d1)](_0x2f2ee2=>http[_0x5255f9(0x1d2)](_0x5b3068,_0x1bd08e,_0x2c9f90,_0x1eac05,_0x41662d,_0x5255f9(0x1b6)+helper[_0x5255f9(0x1bd)]()+_0x5255f9(0x1b7)+_0x2f2ee2,![],_0x3c9f41,!![])[_0x5255f9(0x1b4)](()=>_0x284b42(_0x2f2ee2)))[_0x5255f9(0x1b4)](()=>storage[_0x5255f9(0x1d0)](_0x1b2bab,_0x3c9f41));}catch(_0x3e5b3b){_0x284b42(_0x3e5b3b);}});}function a41_0x223a(_0x389ce6,_0x15d27c){const _0x201553=a41_0x2015();return a41_0x223a=function(_0x223a5a,_0x3d7740){_0x223a5a=_0x223a5a-0x1b1;let _0x1a9f21=_0x201553[_0x223a5a];return _0x1a9f21;},a41_0x223a(_0x389ce6,_0x15d27c);}module[a41_0x25bf0d(0x1bf)]={'rollbackBranch':rollbackBranch};